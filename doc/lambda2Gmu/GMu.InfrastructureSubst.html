<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">

<head>
<meta http-equiv="Content-Type" content="text/html;charset=utf-8" />
<link href="coqdoc.css" rel="stylesheet" type="text/css" />
<link href="coqdocjs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="config.js"></script>
<script type="text/javascript" src="coqdocjs.js"></script>
</head>

<body onload="document.getElementById('content').focus()">
  <div id="header">
    <span class="left">
      <span class="modulename"> <script> document.write(document.title) </script> </span>
    </span>

    <span class="button" id="toggle-proofs"></span>

    <span class="right">
      <a href="../">Project Page</a>
      <a href="./indexpage.html"> Index </a>
      <a href="./toc.html"> Table of Contents </a>
    </span>
</div>
    <div id="content" tabindex="-1" onblur="document.getElementById('content').focus()">
    <div id="main">
<h1 class="libtitle">GMu.InfrastructureSubst</h1>

<div class="code">
<span class="id" title="keyword">Set Implicit Arguments</span>.<br/>
<span class="id" title="keyword">Require</span> <span class="id" title="keyword">Import</span> <a class="idref" href="GMu.Prelude.html#"><span class="id" title="library">Prelude</span></a>.<br/>
<span class="id" title="keyword">Require</span> <span class="id" title="keyword">Import</span> <a class="idref" href="GMu.InfrastructureFV.html#"><span class="id" title="library">InfrastructureFV</span></a>.<br/>
<span class="id" title="keyword">Require</span> <span class="id" title="keyword">Import</span> <a class="idref" href="GMu.InfrastructureOpen.html#"><span class="id" title="library">InfrastructureOpen</span></a>.<br/>
<span class="id" title="keyword">Require</span> <span class="id" title="keyword">Import</span> <span class="id" title="library">TLC.LibLogic</span>.<br/>
<span class="id" title="keyword">Require</span> <span class="id" title="keyword">Import</span> <span class="id" title="library">TLC.LibLN</span>.<br/>
<span class="comment">(*&nbsp;large&nbsp;portions&nbsp;of&nbsp;this&nbsp;are&nbsp;based&nbsp;on&nbsp;the&nbsp;TLC&nbsp;formalisation&nbsp;of&nbsp;FSub&nbsp;*)</span><br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="subst_tt_fresh" class="idref" href="#subst_tt_fresh"><span class="id" title="lemma">subst_tt_fresh</span></a> : <span class="id" title="keyword">∀</span> <a id="Z:1" class="idref" href="#Z:1"><span class="id" title="binder">Z</span></a> <a id="U:2" class="idref" href="#U:2"><span class="id" title="binder">U</span></a> <a id="T:3" class="idref" href="#T:3"><span class="id" title="binder">T</span></a>,<br/>
&nbsp;&nbsp;<a class="idref" href="GMu.InfrastructureSubst.html#Z:1"><span class="id" title="variable">Z</span></a> <span class="id" title="notation">\</span><span class="id" title="notation">notin</span> <a class="idref" href="GMu.Definitions.html#fv_typ"><span class="id" title="definition">fv_typ</span></a> <a class="idref" href="GMu.InfrastructureSubst.html#T:3"><span class="id" title="variable">T</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <a class="idref" href="GMu.Definitions.html#subst_tt"><span class="id" title="definition">subst_tt</span></a> <a class="idref" href="GMu.InfrastructureSubst.html#Z:1"><span class="id" title="variable">Z</span></a> <a class="idref" href="GMu.InfrastructureSubst.html#U:2"><span class="id" title="variable">U</span></a> <a class="idref" href="GMu.InfrastructureSubst.html#T:3"><span class="id" title="variable">T</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="GMu.InfrastructureSubst.html#T:3"><span class="id" title="variable">T</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">induction</span> <span class="id" title="var">T</span> <span class="id" title="keyword">using</span> <a class="idref" href="GMu.Definitions.html#typ_ind'"><span class="id" title="definition">typ_ind'</span></a> ; <span class="id" title="tactic">simpl</span>; <span class="id" title="tactic">intros</span>; <span class="id" title="tactic">f_equal</span>×.<br/>
&nbsp;&nbsp;- <span class="id" title="var">case_var</span>×.<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">symmetry</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="GMu.Prelude.html#map_id"><span class="id" title="lemma">map_id</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">introv</span> <span class="id" title="var">Lin</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">handleforall</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">symmetry</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span>× <span class="id" title="var">Hforall</span>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
</div>

<div class="doc">
Substitution distributes on the open operation. 
</div>
<div class="code">

<br/>
<span class="id" title="keyword">Lemma</span> <a id="subst_tt_open_tt_rec" class="idref" href="#subst_tt_open_tt_rec"><span class="id" title="lemma">subst_tt_open_tt_rec</span></a> : <span class="id" title="keyword">∀</span> <a id="T1:4" class="idref" href="#T1:4"><span class="id" title="binder">T1</span></a> <a id="T2:5" class="idref" href="#T2:5"><span class="id" title="binder">T2</span></a> <a id="X:6" class="idref" href="#X:6"><span class="id" title="binder">X</span></a> <a id="P:7" class="idref" href="#P:7"><span class="id" title="binder">P</span></a> <a id="n:8" class="idref" href="#n:8"><span class="id" title="binder">n</span></a>, <a class="idref" href="GMu.Definitions.html#type"><span class="id" title="inductive">type</span></a> <a class="idref" href="GMu.InfrastructureSubst.html#P:7"><span class="id" title="variable">P</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="GMu.Definitions.html#subst_tt"><span class="id" title="definition">subst_tt</span></a> <a class="idref" href="GMu.InfrastructureSubst.html#X:6"><span class="id" title="variable">X</span></a> <a class="idref" href="GMu.InfrastructureSubst.html#P:7"><span class="id" title="variable">P</span></a> (<a class="idref" href="GMu.Definitions.html#open_tt_rec"><span class="id" title="definition">open_tt_rec</span></a> <a class="idref" href="GMu.InfrastructureSubst.html#n:8"><span class="id" title="variable">n</span></a> <a class="idref" href="GMu.InfrastructureSubst.html#T2:5"><span class="id" title="variable">T2</span></a> <a class="idref" href="GMu.InfrastructureSubst.html#T1:4"><span class="id" title="variable">T1</span></a>) <a class="idref" href="http://coq.inria.fr/distrib/V8.13.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="GMu.Definitions.html#open_tt_rec"><span class="id" title="definition">open_tt_rec</span></a> <a class="idref" href="GMu.InfrastructureSubst.html#n:8"><span class="id" title="variable">n</span></a> (<a class="idref" href="GMu.Definitions.html#subst_tt"><span class="id" title="definition">subst_tt</span></a> <a class="idref" href="GMu.InfrastructureSubst.html#X:6"><span class="id" title="variable">X</span></a> <a class="idref" href="GMu.InfrastructureSubst.html#P:7"><span class="id" title="variable">P</span></a> <a class="idref" href="GMu.InfrastructureSubst.html#T2:5"><span class="id" title="variable">T2</span></a>) (<a class="idref" href="GMu.Definitions.html#subst_tt"><span class="id" title="definition">subst_tt</span></a> <a class="idref" href="GMu.InfrastructureSubst.html#X:6"><span class="id" title="variable">X</span></a> <a class="idref" href="GMu.InfrastructureSubst.html#P:7"><span class="id" title="variable">P</span></a> <a class="idref" href="GMu.InfrastructureSubst.html#T1:4"><span class="id" title="variable">T1</span></a>).<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="var">introv</span> <span class="id" title="var">WP</span>. <span class="id" title="tactic">generalize</span> <span class="id" title="var">n</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">induction</span> <span class="id" title="var">T1</span> <span class="id" title="keyword">using</span> <a class="idref" href="GMu.Definitions.html#typ_ind'"><span class="id" title="definition">typ_ind'</span></a> ; <span class="id" title="tactic">intros</span> <span class="id" title="var">k</span>; <span class="id" title="var">simpls</span>; <span class="id" title="tactic">f_equal</span>×.<br/>
&nbsp;&nbsp;- <span class="id" title="var">crush_compare</span>.<br/>
&nbsp;&nbsp;- <span class="id" title="var">case_var</span>×. <span class="id" title="tactic">rewrite</span>× &lt;- <a class="idref" href="GMu.InfrastructureOpen.html#open_tt_rec_type"><span class="id" title="lemma">open_tt_rec_type</span></a>.<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">rewrite</span>× <a class="idref" href="http://coq.inria.fr/distrib/V8.13.0/stdlib//Coq.Lists.List.html#map_map"><span class="id" title="lemma">List.map_map</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span>× <a class="idref" href="http://coq.inria.fr/distrib/V8.13.0/stdlib//Coq.Lists.List.html#map_map"><span class="id" title="lemma">List.map_map</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.0/stdlib//Coq.Lists.List.html#map_ext_in"><span class="id" title="lemma">List.map_ext_in</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">handleforall</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">introv</span> <span class="id" title="var">Lin</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span>× <span class="id" title="var">Hforall</span>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="subst_tt_open_tt" class="idref" href="#subst_tt_open_tt"><span class="id" title="lemma">subst_tt_open_tt</span></a> : <span class="id" title="keyword">∀</span> <a id="T1:9" class="idref" href="#T1:9"><span class="id" title="binder">T1</span></a> <a id="T2:10" class="idref" href="#T2:10"><span class="id" title="binder">T2</span></a> <a id="X:11" class="idref" href="#X:11"><span class="id" title="binder">X</span></a> <a id="P:12" class="idref" href="#P:12"><span class="id" title="binder">P</span></a>, <a class="idref" href="GMu.Definitions.html#type"><span class="id" title="inductive">type</span></a> <a class="idref" href="GMu.InfrastructureSubst.html#P:12"><span class="id" title="variable">P</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="GMu.Definitions.html#subst_tt"><span class="id" title="definition">subst_tt</span></a> <a class="idref" href="GMu.InfrastructureSubst.html#X:11"><span class="id" title="variable">X</span></a> <a class="idref" href="GMu.InfrastructureSubst.html#P:12"><span class="id" title="variable">P</span></a> (<a class="idref" href="GMu.Definitions.html#open_tt"><span class="id" title="definition">open_tt</span></a> <a class="idref" href="GMu.InfrastructureSubst.html#T1:9"><span class="id" title="variable">T1</span></a> <a class="idref" href="GMu.InfrastructureSubst.html#T2:10"><span class="id" title="variable">T2</span></a>) <a class="idref" href="http://coq.inria.fr/distrib/V8.13.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="GMu.Definitions.html#open_tt"><span class="id" title="definition">open_tt</span></a> (<a class="idref" href="GMu.Definitions.html#subst_tt"><span class="id" title="definition">subst_tt</span></a> <a class="idref" href="GMu.InfrastructureSubst.html#X:11"><span class="id" title="variable">X</span></a> <a class="idref" href="GMu.InfrastructureSubst.html#P:12"><span class="id" title="variable">P</span></a> <a class="idref" href="GMu.InfrastructureSubst.html#T1:9"><span class="id" title="variable">T1</span></a>) (<a class="idref" href="GMu.Definitions.html#subst_tt"><span class="id" title="definition">subst_tt</span></a> <a class="idref" href="GMu.InfrastructureSubst.html#X:11"><span class="id" title="variable">X</span></a> <a class="idref" href="GMu.InfrastructureSubst.html#P:12"><span class="id" title="variable">P</span></a> <a class="idref" href="GMu.InfrastructureSubst.html#T2:10"><span class="id" title="variable">T2</span></a>).<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">unfold</span> <a class="idref" href="GMu.Definitions.html#open_tt"><span class="id" title="definition">open_tt</span></a>. <span class="id" title="var">autos</span>× <a class="idref" href="GMu.InfrastructureSubst.html#subst_tt_open_tt_rec"><span class="id" title="lemma">subst_tt_open_tt_rec</span></a>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
</div>

<div class="doc">
Substitution and open_var for distinct names commute. 
</div>
<div class="code">

<br/>
<span class="id" title="keyword">Lemma</span> <a id="subst_tt_open_tt_var" class="idref" href="#subst_tt_open_tt_var"><span class="id" title="lemma">subst_tt_open_tt_var</span></a> : <span class="id" title="keyword">∀</span> <a id="X:13" class="idref" href="#X:13"><span class="id" title="binder">X</span></a> <a id="Y:14" class="idref" href="#Y:14"><span class="id" title="binder">Y</span></a> <a id="U:15" class="idref" href="#U:15"><span class="id" title="binder">U</span></a> <a id="T:16" class="idref" href="#T:16"><span class="id" title="binder">T</span></a>, <a class="idref" href="GMu.InfrastructureSubst.html#Y:14"><span class="id" title="variable">Y</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'&lt;&gt;'_x"><span class="id" title="notation">≠</span></a> <a class="idref" href="GMu.InfrastructureSubst.html#X:13"><span class="id" title="variable">X</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <a class="idref" href="GMu.Definitions.html#type"><span class="id" title="inductive">type</span></a> <a class="idref" href="GMu.InfrastructureSubst.html#U:15"><span class="id" title="variable">U</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="GMu.Definitions.html#:::x_'open_tt_var'_x"><span class="id" title="notation">(</span></a><a class="idref" href="GMu.Definitions.html#subst_tt"><span class="id" title="definition">subst_tt</span></a> <a class="idref" href="GMu.InfrastructureSubst.html#X:13"><span class="id" title="variable">X</span></a> <a class="idref" href="GMu.InfrastructureSubst.html#U:15"><span class="id" title="variable">U</span></a> <a class="idref" href="GMu.InfrastructureSubst.html#T:16"><span class="id" title="variable">T</span></a><a class="idref" href="GMu.Definitions.html#:::x_'open_tt_var'_x"><span class="id" title="notation">)</span></a> <a class="idref" href="GMu.Definitions.html#:::x_'open_tt_var'_x"><span class="id" title="notation">open_tt_var</span></a> <a class="idref" href="GMu.InfrastructureSubst.html#Y:14"><span class="id" title="variable">Y</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="GMu.Definitions.html#subst_tt"><span class="id" title="definition">subst_tt</span></a> <a class="idref" href="GMu.InfrastructureSubst.html#X:13"><span class="id" title="variable">X</span></a> <a class="idref" href="GMu.InfrastructureSubst.html#U:15"><span class="id" title="variable">U</span></a> (<a class="idref" href="GMu.InfrastructureSubst.html#T:16"><span class="id" title="variable">T</span></a> <a class="idref" href="GMu.Definitions.html#:::x_'open_tt_var'_x"><span class="id" title="notation">open_tt_var</span></a> <a class="idref" href="GMu.InfrastructureSubst.html#Y:14"><span class="id" title="variable">Y</span></a>).<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="var">introv</span> <span class="id" title="var">Neq</span> <span class="id" title="var">Wu</span>. <span class="id" title="tactic">rewrite</span>× <a class="idref" href="GMu.InfrastructureSubst.html#subst_tt_open_tt"><span class="id" title="lemma">subst_tt_open_tt</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">simpl</span>. <span class="id" title="var">case_var</span>×.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
</div>

<div class="doc">
Opening up a body t with a type u is the same as opening
  up the abstraction with a fresh name x and then substituting u for x. 
</div>
<div class="code">

<br/>
<span class="id" title="keyword">Lemma</span> <a id="subst_tt_intro" class="idref" href="#subst_tt_intro"><span class="id" title="lemma">subst_tt_intro</span></a> : <span class="id" title="keyword">∀</span> <a id="X:17" class="idref" href="#X:17"><span class="id" title="binder">X</span></a> <a id="T2:18" class="idref" href="#T2:18"><span class="id" title="binder">T2</span></a> <a id="U:19" class="idref" href="#U:19"><span class="id" title="binder">U</span></a>,<br/>
&nbsp;&nbsp;<a class="idref" href="GMu.InfrastructureSubst.html#X:17"><span class="id" title="variable">X</span></a> <span class="id" title="notation">\</span><span class="id" title="notation">notin</span> <a class="idref" href="GMu.Definitions.html#fv_typ"><span class="id" title="definition">fv_typ</span></a> <a class="idref" href="GMu.InfrastructureSubst.html#T2:18"><span class="id" title="variable">T2</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <a class="idref" href="GMu.Definitions.html#type"><span class="id" title="inductive">type</span></a> <a class="idref" href="GMu.InfrastructureSubst.html#U:19"><span class="id" title="variable">U</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="GMu.Definitions.html#open_tt"><span class="id" title="definition">open_tt</span></a> <a class="idref" href="GMu.InfrastructureSubst.html#T2:18"><span class="id" title="variable">T2</span></a> <a class="idref" href="GMu.InfrastructureSubst.html#U:19"><span class="id" title="variable">U</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="GMu.Definitions.html#subst_tt"><span class="id" title="definition">subst_tt</span></a> <a class="idref" href="GMu.InfrastructureSubst.html#X:17"><span class="id" title="variable">X</span></a> <a class="idref" href="GMu.InfrastructureSubst.html#U:19"><span class="id" title="variable">U</span></a> (<a class="idref" href="GMu.InfrastructureSubst.html#T2:18"><span class="id" title="variable">T2</span></a> <a class="idref" href="GMu.Definitions.html#:::x_'open_tt_var'_x"><span class="id" title="notation">open_tt_var</span></a> <a class="idref" href="GMu.InfrastructureSubst.html#X:17"><span class="id" title="variable">X</span></a>).<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="var">introv</span> <span class="id" title="var">Fr</span> <span class="id" title="var">Wu</span>. <span class="id" title="tactic">rewrite</span>× <a class="idref" href="GMu.InfrastructureSubst.html#subst_tt_open_tt"><span class="id" title="lemma">subst_tt_open_tt</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span>× <a class="idref" href="GMu.InfrastructureSubst.html#subst_tt_fresh"><span class="id" title="lemma">subst_tt_fresh</span></a>. <span class="id" title="tactic">simpl</span>. <span class="id" title="var">case_var</span>×.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="subst_commutes_with_unrelated_opens" class="idref" href="#subst_commutes_with_unrelated_opens"><span class="id" title="lemma">subst_commutes_with_unrelated_opens</span></a> : <span class="id" title="keyword">∀</span> <a id="Xs:20" class="idref" href="#Xs:20"><span class="id" title="binder">Xs</span></a> <a id="T:21" class="idref" href="#T:21"><span class="id" title="binder">T</span></a> <a id="V:22" class="idref" href="#V:22"><span class="id" title="binder">V</span></a> <a id="Y:23" class="idref" href="#Y:23"><span class="id" title="binder">Y</span></a>,<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/V8.13.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">(</span></a><span class="id" title="keyword">∀</span> <a id="X:24" class="idref" href="#X:24"><span class="id" title="binder">X</span></a>, <a class="idref" href="http://coq.inria.fr/distrib/V8.13.0/stdlib//Coq.Lists.List.html#In"><span class="id" title="definition">List.In</span></a> <a class="idref" href="GMu.InfrastructureSubst.html#X:24"><span class="id" title="variable">X</span></a> <a class="idref" href="GMu.InfrastructureSubst.html#Xs:20"><span class="id" title="variable">Xs</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <a class="idref" href="GMu.InfrastructureSubst.html#X:24"><span class="id" title="variable">X</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'&lt;&gt;'_x"><span class="id" title="notation">≠</span></a> <a class="idref" href="GMu.InfrastructureSubst.html#Y:23"><span class="id" title="variable">Y</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.13.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">)</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="GMu.Definitions.html#type"><span class="id" title="inductive">type</span></a> <a class="idref" href="GMu.InfrastructureSubst.html#V:22"><span class="id" title="variable">V</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="GMu.Definitions.html#subst_tt"><span class="id" title="definition">subst_tt</span></a> <a class="idref" href="GMu.InfrastructureSubst.html#Y:23"><span class="id" title="variable">Y</span></a> <a class="idref" href="GMu.InfrastructureSubst.html#V:22"><span class="id" title="variable">V</span></a> (<a class="idref" href="GMu.Definitions.html#open_tt_many_var"><span class="id" title="definition">open_tt_many_var</span></a> <a class="idref" href="GMu.InfrastructureSubst.html#Xs:20"><span class="id" title="variable">Xs</span></a> <a class="idref" href="GMu.InfrastructureSubst.html#T:21"><span class="id" title="variable">T</span></a>) <a class="idref" href="http://coq.inria.fr/distrib/V8.13.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/V8.13.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">(</span></a><a class="idref" href="GMu.Definitions.html#open_tt_many_var"><span class="id" title="definition">open_tt_many_var</span></a> <a class="idref" href="GMu.InfrastructureSubst.html#Xs:20"><span class="id" title="variable">Xs</span></a> (<a class="idref" href="GMu.Definitions.html#subst_tt"><span class="id" title="definition">subst_tt</span></a> <a class="idref" href="GMu.InfrastructureSubst.html#Y:23"><span class="id" title="variable">Y</span></a> <a class="idref" href="GMu.InfrastructureSubst.html#V:22"><span class="id" title="variable">V</span></a> <a class="idref" href="GMu.InfrastructureSubst.html#T:21"><span class="id" title="variable">T</span></a>)<a class="idref" href="http://coq.inria.fr/distrib/V8.13.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">)</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">induction</span> <span class="id" title="var">Xs</span> <span class="id" title="keyword">as</span> [| <span class="id" title="var">Xh</span> <span class="id" title="var">Xt</span>]; <span class="id" title="var">introv</span> <span class="id" title="var">Hneq</span> <span class="id" title="var">Htyp</span>.<br/>
&nbsp;&nbsp;- <span class="id" title="var">cbn</span>. <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;- <span class="id" title="var">cbn</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">fold</span> (<a class="idref" href="GMu.Definitions.html#open_tt_many_var"><span class="id" title="definition">open_tt_many_var</span></a> <span class="id" title="var">Xt</span> (<span class="id" title="var">T</span> <a class="idref" href="GMu.Definitions.html#:::x_'open_tt_var'_x"><span class="id" title="notation">open_tt_var</span></a> <span class="id" title="var">Xh</span>)).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">fold</span> (<a class="idref" href="GMu.Definitions.html#open_tt_many_var"><span class="id" title="definition">open_tt_many_var</span></a> <span class="id" title="var">Xt</span> (<a class="idref" href="GMu.Definitions.html#subst_tt"><span class="id" title="definition">subst_tt</span></a> <span class="id" title="var">Y</span> <span class="id" title="var">V</span> <span class="id" title="var">T</span> <a class="idref" href="GMu.Definitions.html#:::x_'open_tt_var'_x"><span class="id" title="notation">open_tt_var</span></a> <span class="id" title="var">Xh</span>)).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span>× <a class="idref" href="GMu.InfrastructureSubst.html#subst_tt_open_tt_var"><span class="id" title="lemma">subst_tt_open_tt_var</span></a>; <span class="id" title="tactic">eauto</span> <span class="id" title="keyword">with</span> <span class="id" title="var">listin</span>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="subst_intro_commutes_opens" class="idref" href="#subst_intro_commutes_opens"><span class="id" title="lemma">subst_intro_commutes_opens</span></a> : <span class="id" title="keyword">∀</span> <a id="Xs:25" class="idref" href="#Xs:25"><span class="id" title="binder">Xs</span></a> <a id="T:26" class="idref" href="#T:26"><span class="id" title="binder">T</span></a> <a id="Y:27" class="idref" href="#Y:27"><span class="id" title="binder">Y</span></a> <a id="V:28" class="idref" href="#V:28"><span class="id" title="binder">V</span></a>,<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="GMu.InfrastructureSubst.html#Y:27"><span class="id" title="variable">Y</span></a> <span class="id" title="notation">\</span><span class="id" title="notation">notin</span> <a class="idref" href="GMu.Definitions.html#fv_typ"><span class="id" title="definition">fv_typ</span></a> <a class="idref" href="GMu.InfrastructureSubst.html#T:26"><span class="id" title="variable">T</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/V8.13.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">(</span></a><span class="id" title="keyword">∀</span> <a id="X:29" class="idref" href="#X:29"><span class="id" title="binder">X</span></a>, <a class="idref" href="http://coq.inria.fr/distrib/V8.13.0/stdlib//Coq.Lists.List.html#In"><span class="id" title="definition">List.In</span></a> <a class="idref" href="GMu.InfrastructureSubst.html#X:29"><span class="id" title="variable">X</span></a> <a class="idref" href="GMu.InfrastructureSubst.html#Xs:25"><span class="id" title="variable">Xs</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <a class="idref" href="GMu.InfrastructureSubst.html#X:29"><span class="id" title="variable">X</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'&lt;&gt;'_x"><span class="id" title="notation">≠</span></a> <a class="idref" href="GMu.InfrastructureSubst.html#Y:27"><span class="id" title="variable">Y</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.13.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">)</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="GMu.Definitions.html#type"><span class="id" title="inductive">type</span></a> <a class="idref" href="GMu.InfrastructureSubst.html#V:28"><span class="id" title="variable">V</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="GMu.Definitions.html#open_tt_many_var"><span class="id" title="definition">open_tt_many_var</span></a> <a class="idref" href="GMu.InfrastructureSubst.html#Xs:25"><span class="id" title="variable">Xs</span></a> (<a class="idref" href="GMu.Definitions.html#open_tt"><span class="id" title="definition">open_tt</span></a> <a class="idref" href="GMu.InfrastructureSubst.html#T:26"><span class="id" title="variable">T</span></a> <a class="idref" href="GMu.InfrastructureSubst.html#V:28"><span class="id" title="variable">V</span></a>) <a class="idref" href="http://coq.inria.fr/distrib/V8.13.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="GMu.Definitions.html#subst_tt"><span class="id" title="definition">subst_tt</span></a> <a class="idref" href="GMu.InfrastructureSubst.html#Y:27"><span class="id" title="variable">Y</span></a> <a class="idref" href="GMu.InfrastructureSubst.html#V:28"><span class="id" title="variable">V</span></a> (<a class="idref" href="GMu.Definitions.html#open_tt_many_var"><span class="id" title="definition">open_tt_many_var</span></a> <a class="idref" href="GMu.InfrastructureSubst.html#Xs:25"><span class="id" title="variable">Xs</span></a> (<a class="idref" href="GMu.InfrastructureSubst.html#T:26"><span class="id" title="variable">T</span></a> <a class="idref" href="GMu.Definitions.html#:::x_'open_tt_var'_x"><span class="id" title="notation">open_tt_var</span></a> <a class="idref" href="GMu.InfrastructureSubst.html#Y:27"><span class="id" title="variable">Y</span></a>)).<br/>
&nbsp;&nbsp;<span class="id" title="tactic">induction</span> <span class="id" title="var">Xs</span> <span class="id" title="keyword">as</span> [| <span class="id" title="var">Xh</span> <span class="id" title="var">Xt</span>]; <span class="id" title="var">introv</span> <span class="id" title="var">Hfv</span> <span class="id" title="var">Hneq</span> <span class="id" title="var">Htyp</span>.<br/>
&nbsp;&nbsp;- <span class="id" title="var">cbn</span>. <span class="id" title="tactic">apply</span>× <a class="idref" href="GMu.InfrastructureSubst.html#subst_tt_intro"><span class="id" title="lemma">subst_tt_intro</span></a>.<br/>
&nbsp;&nbsp;- <span class="id" title="var">cbn</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">fold</span> (<a class="idref" href="GMu.Definitions.html#open_tt_many_var"><span class="id" title="definition">open_tt_many_var</span></a> <span class="id" title="var">Xt</span> (<a class="idref" href="GMu.Definitions.html#open_tt"><span class="id" title="definition">open_tt</span></a> <span class="id" title="var">T</span> <span class="id" title="var">V</span> <a class="idref" href="GMu.Definitions.html#:::x_'open_tt_var'_x"><span class="id" title="notation">open_tt_var</span></a> <span class="id" title="var">Xh</span>)).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">fold</span> (<a class="idref" href="GMu.Definitions.html#open_tt_many_var"><span class="id" title="definition">open_tt_many_var</span></a> <span class="id" title="var">Xt</span> (<a class="idref" href="GMu.Definitions.html#:::x_'open_tt_var'_x"><span class="id" title="notation">(</span></a><span class="id" title="var">T</span> <a class="idref" href="GMu.Definitions.html#:::x_'open_tt_var'_x"><span class="id" title="notation">open_tt_var</span></a> <span class="id" title="var">Y</span><a class="idref" href="GMu.Definitions.html#:::x_'open_tt_var'_x"><span class="id" title="notation">)</span></a> <a class="idref" href="GMu.Definitions.html#:::x_'open_tt_var'_x"><span class="id" title="notation">open_tt_var</span></a> <span class="id" title="var">Xh</span>)).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span>× <a class="idref" href="GMu.InfrastructureSubst.html#subst_commutes_with_unrelated_opens"><span class="id" title="lemma">subst_commutes_with_unrelated_opens</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">f_equal</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span>× &lt;- <a class="idref" href="GMu.InfrastructureSubst.html#subst_tt_open_tt_var"><span class="id" title="lemma">subst_tt_open_tt_var</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="tactic">rewrite</span>× &lt;- <a class="idref" href="GMu.InfrastructureSubst.html#subst_tt_intro"><span class="id" title="lemma">subst_tt_intro</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="tactic">apply</span>× <span class="id" title="var">Hneq</span>. <span class="id" title="var">cbn</span>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="tactic">eauto</span> <span class="id" title="keyword">with</span> <span class="id" title="var">listin</span>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="sublist_tail_prop" class="idref" href="#sublist_tail_prop"><span class="id" title="lemma">sublist_tail_prop</span></a> : <span class="id" title="keyword">∀</span> <a id="A:30" class="idref" href="#A:30"><span class="id" title="binder">A</span></a> (<a id="Uh:31" class="idref" href="#Uh:31"><span class="id" title="binder">Uh</span></a> : <a class="idref" href="GMu.InfrastructureSubst.html#A:30"><span class="id" title="variable">A</span></a>) (<a id="Ut:32" class="idref" href="#Ut:32"><span class="id" title="binder">Ut</span></a> : <a class="idref" href="http://coq.inria.fr/distrib/V8.13.0/stdlib//Coq.Init.Datatypes.html#list"><span class="id" title="inductive">list</span></a> <a class="idref" href="GMu.InfrastructureSubst.html#A:30"><span class="id" title="variable">A</span></a>) (<a id="P:33" class="idref" href="#P:33"><span class="id" title="binder">P</span></a> : <a class="idref" href="GMu.InfrastructureSubst.html#A:30"><span class="id" title="variable">A</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <span class="id" title="keyword">Prop</span>),<br/>
&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/V8.13.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">(</span></a><span class="id" title="keyword">∀</span> <a id="U:34" class="idref" href="#U:34"><span class="id" title="binder">U</span></a> : <a class="idref" href="GMu.InfrastructureSubst.html#A:30"><span class="id" title="variable">A</span></a>, <a class="idref" href="http://coq.inria.fr/distrib/V8.13.0/stdlib//Coq.Lists.List.html#In"><span class="id" title="definition">List.In</span></a> <a class="idref" href="GMu.InfrastructureSubst.html#U:34"><span class="id" title="variable">U</span></a> (<a class="idref" href="GMu.InfrastructureSubst.html#Uh:31"><span class="id" title="variable">Uh</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.0/stdlib//Coq.Init.Datatypes.html#::list_scope:x_'::'_x"><span class="id" title="notation">::</span></a> <a class="idref" href="GMu.InfrastructureSubst.html#Ut:32"><span class="id" title="variable">Ut</span></a>) <a class="idref" href="http://coq.inria.fr/distrib/V8.13.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <a class="idref" href="GMu.InfrastructureSubst.html#P:33"><span class="id" title="variable">P</span></a> <a class="idref" href="GMu.InfrastructureSubst.html#U:34"><span class="id" title="variable">U</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.13.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">)</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;<span class="id" title="keyword">∀</span> <a id="U:35" class="idref" href="#U:35"><span class="id" title="binder">U</span></a> : <a class="idref" href="GMu.InfrastructureSubst.html#A:30"><span class="id" title="variable">A</span></a>, <a class="idref" href="http://coq.inria.fr/distrib/V8.13.0/stdlib//Coq.Lists.List.html#In"><span class="id" title="definition">List.In</span></a> <a class="idref" href="GMu.InfrastructureSubst.html#U:35"><span class="id" title="variable">U</span></a> <a class="idref" href="GMu.InfrastructureSubst.html#Ut:32"><span class="id" title="variable">Ut</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <a class="idref" href="GMu.InfrastructureSubst.html#P:33"><span class="id" title="variable">P</span></a> <a class="idref" href="GMu.InfrastructureSubst.html#U:35"><span class="id" title="variable">U</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="var">introv</span> <span class="id" title="var">Hbigger</span> <span class="id" title="var">Hin</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">apply</span>× <span class="id" title="var">Hbigger</span>.<br/>
&nbsp;&nbsp;<span class="id" title="var">cbn</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">eauto</span>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="sublist_head_prop" class="idref" href="#sublist_head_prop"><span class="id" title="lemma">sublist_head_prop</span></a> : <span class="id" title="keyword">∀</span> <a id="A:36" class="idref" href="#A:36"><span class="id" title="binder">A</span></a> (<a id="Uh:37" class="idref" href="#Uh:37"><span class="id" title="binder">Uh</span></a> : <a class="idref" href="GMu.InfrastructureSubst.html#A:36"><span class="id" title="variable">A</span></a>) (<a id="Ut:38" class="idref" href="#Ut:38"><span class="id" title="binder">Ut</span></a> : <a class="idref" href="http://coq.inria.fr/distrib/V8.13.0/stdlib//Coq.Init.Datatypes.html#list"><span class="id" title="inductive">list</span></a> <a class="idref" href="GMu.InfrastructureSubst.html#A:36"><span class="id" title="variable">A</span></a>) (<a id="P:39" class="idref" href="#P:39"><span class="id" title="binder">P</span></a> : <a class="idref" href="GMu.InfrastructureSubst.html#A:36"><span class="id" title="variable">A</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <span class="id" title="keyword">Prop</span>),<br/>
&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/V8.13.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">(</span></a><span class="id" title="keyword">∀</span> <a id="U:40" class="idref" href="#U:40"><span class="id" title="binder">U</span></a> : <a class="idref" href="GMu.InfrastructureSubst.html#A:36"><span class="id" title="variable">A</span></a>, <a class="idref" href="http://coq.inria.fr/distrib/V8.13.0/stdlib//Coq.Lists.List.html#In"><span class="id" title="definition">List.In</span></a> <a class="idref" href="GMu.InfrastructureSubst.html#U:40"><span class="id" title="variable">U</span></a> (<a class="idref" href="GMu.InfrastructureSubst.html#Uh:37"><span class="id" title="variable">Uh</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.0/stdlib//Coq.Init.Datatypes.html#::list_scope:x_'::'_x"><span class="id" title="notation">::</span></a> <a class="idref" href="GMu.InfrastructureSubst.html#Ut:38"><span class="id" title="variable">Ut</span></a>) <a class="idref" href="http://coq.inria.fr/distrib/V8.13.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <a class="idref" href="GMu.InfrastructureSubst.html#P:39"><span class="id" title="variable">P</span></a> <a class="idref" href="GMu.InfrastructureSubst.html#U:40"><span class="id" title="variable">U</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.13.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">)</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="GMu.InfrastructureSubst.html#P:39"><span class="id" title="variable">P</span></a> <a class="idref" href="GMu.InfrastructureSubst.html#Uh:37"><span class="id" title="variable">Uh</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="var">introv</span> <span class="id" title="var">Hbigger</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">apply</span>× <span class="id" title="var">Hbigger</span>.<br/>
&nbsp;&nbsp;<span class="id" title="var">cbn</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">eauto</span>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="subst_tt_intro_many" class="idref" href="#subst_tt_intro_many"><span class="id" title="lemma">subst_tt_intro_many</span></a> : <span class="id" title="keyword">∀</span> <a id="Xs:41" class="idref" href="#Xs:41"><span class="id" title="binder">Xs</span></a> <a id="T:42" class="idref" href="#T:42"><span class="id" title="binder">T</span></a> <a id="Us:43" class="idref" href="#Us:43"><span class="id" title="binder">Us</span></a>,<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/V8.13.0/stdlib//Coq.Init.Datatypes.html#length"><span class="id" title="definition">length</span></a> <a class="idref" href="GMu.InfrastructureSubst.html#Xs:41"><span class="id" title="variable">Xs</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.0/stdlib//Coq.Init.Datatypes.html#length"><span class="id" title="definition">length</span></a> <a class="idref" href="GMu.InfrastructureSubst.html#Us:43"><span class="id" title="variable">Us</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="GMu.Definitions.html#DistinctList"><span class="id" title="inductive">DistinctList</span></a> <a class="idref" href="GMu.InfrastructureSubst.html#Xs:41"><span class="id" title="variable">Xs</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/V8.13.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">(</span></a><span class="id" title="keyword">∀</span> <a id="X:44" class="idref" href="#X:44"><span class="id" title="binder">X</span></a>, <a class="idref" href="http://coq.inria.fr/distrib/V8.13.0/stdlib//Coq.Lists.List.html#In"><span class="id" title="definition">List.In</span></a> <a class="idref" href="GMu.InfrastructureSubst.html#X:44"><span class="id" title="variable">X</span></a> <a class="idref" href="GMu.InfrastructureSubst.html#Xs:41"><span class="id" title="variable">Xs</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <a class="idref" href="GMu.InfrastructureSubst.html#X:44"><span class="id" title="variable">X</span></a> <span class="id" title="notation">\</span><span class="id" title="notation">notin</span> <a class="idref" href="GMu.Definitions.html#fv_typ"><span class="id" title="definition">fv_typ</span></a> <a class="idref" href="GMu.InfrastructureSubst.html#T:42"><span class="id" title="variable">T</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.13.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">)</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/V8.13.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">(</span></a><span class="id" title="keyword">∀</span> <a id="X:45" class="idref" href="#X:45"><span class="id" title="binder">X</span></a> <a id="U:46" class="idref" href="#U:46"><span class="id" title="binder">U</span></a>, <a class="idref" href="http://coq.inria.fr/distrib/V8.13.0/stdlib//Coq.Lists.List.html#In"><span class="id" title="definition">List.In</span></a> <a class="idref" href="GMu.InfrastructureSubst.html#X:45"><span class="id" title="variable">X</span></a> <a class="idref" href="GMu.InfrastructureSubst.html#Xs:41"><span class="id" title="variable">Xs</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.0/stdlib//Coq.Lists.List.html#In"><span class="id" title="definition">List.In</span></a> <a class="idref" href="GMu.InfrastructureSubst.html#U:46"><span class="id" title="variable">U</span></a> <a class="idref" href="GMu.InfrastructureSubst.html#Us:43"><span class="id" title="variable">Us</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <a class="idref" href="GMu.InfrastructureSubst.html#X:45"><span class="id" title="variable">X</span></a> <span class="id" title="notation">\</span><span class="id" title="notation">notin</span> <a class="idref" href="GMu.Definitions.html#fv_typ"><span class="id" title="definition">fv_typ</span></a> <a class="idref" href="GMu.InfrastructureSubst.html#U:46"><span class="id" title="variable">U</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.13.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">)</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/V8.13.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">(</span></a><span class="id" title="keyword">∀</span> <a id="U:47" class="idref" href="#U:47"><span class="id" title="binder">U</span></a>, <a class="idref" href="http://coq.inria.fr/distrib/V8.13.0/stdlib//Coq.Lists.List.html#In"><span class="id" title="definition">List.In</span></a> <a class="idref" href="GMu.InfrastructureSubst.html#U:47"><span class="id" title="variable">U</span></a> <a class="idref" href="GMu.InfrastructureSubst.html#Us:43"><span class="id" title="variable">Us</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <a class="idref" href="GMu.Definitions.html#type"><span class="id" title="inductive">type</span></a> <a class="idref" href="GMu.InfrastructureSubst.html#U:47"><span class="id" title="variable">U</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.13.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">)</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="GMu.Definitions.html#open_tt_many"><span class="id" title="definition">open_tt_many</span></a> <a class="idref" href="GMu.InfrastructureSubst.html#Us:43"><span class="id" title="variable">Us</span></a> <a class="idref" href="GMu.InfrastructureSubst.html#T:42"><span class="id" title="variable">T</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="GMu.Definitions.html#subst_tt_many"><span class="id" title="definition">subst_tt_many</span></a> <a class="idref" href="GMu.InfrastructureSubst.html#Xs:41"><span class="id" title="variable">Xs</span></a> <a class="idref" href="GMu.InfrastructureSubst.html#Us:43"><span class="id" title="variable">Us</span></a> (<a class="idref" href="GMu.Definitions.html#open_tt_many_var"><span class="id" title="definition">open_tt_many_var</span></a> <a class="idref" href="GMu.InfrastructureSubst.html#Xs:41"><span class="id" title="variable">Xs</span></a> <a class="idref" href="GMu.InfrastructureSubst.html#T:42"><span class="id" title="variable">T</span></a>).<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">induction</span> <span class="id" title="var">Xs</span> <span class="id" title="keyword">as</span> [| <span class="id" title="var">Xh</span> <span class="id" title="var">Xt</span>]; <span class="id" title="var">introv</span> <span class="id" title="var">Hleneq</span> <span class="id" title="var">Hdistinct</span> <span class="id" title="var">HXfv</span> <span class="id" title="var">HXUfv</span> <span class="id" title="var">XUtyp</span>.<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">destruct</span> <span class="id" title="var">Us</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="tactic">cbv</span>. <span class="id" title="tactic">trivial</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="var">inversions</span> <span class="id" title="var">Hleneq</span>.<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">destruct</span> <span class="id" title="var">Us</span> <span class="id" title="keyword">as</span> [| <span class="id" title="var">Uh</span> <span class="id" title="var">Ut</span>].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="var">inversions</span> <span class="id" title="var">Hleneq</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="var">cbn</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">fold</span> (<a class="idref" href="GMu.Definitions.html#open_tt_many_var"><span class="id" title="definition">open_tt_many_var</span></a> <span class="id" title="var">Xt</span> (<span class="id" title="var">T</span> <a class="idref" href="GMu.Definitions.html#:::x_'open_tt_var'_x"><span class="id" title="notation">open_tt_var</span></a> <span class="id" title="var">Xh</span>)).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span>× &lt;- <a class="idref" href="GMu.InfrastructureSubst.html#subst_intro_commutes_opens"><span class="id" title="lemma">subst_intro_commutes_opens</span></a>; <span class="id" title="tactic">eauto</span> <span class="id" title="keyword">with</span> <span class="id" title="var">listin</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;× <span class="id" title="tactic">apply</span>× <span class="id" title="var">IHXt</span>; <span class="id" title="tactic">try</span> <span class="id" title="tactic">solve</span> [<span class="id" title="tactic">intuition</span>; <span class="id" title="tactic">eauto</span> <span class="id" title="keyword">with</span> <span class="id" title="var">listin</span>].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;-- <span class="id" title="tactic">inversion</span>× <span class="id" title="var">Hdistinct</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;-- <span class="id" title="var">introv</span> <span class="id" title="var">XiXt</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">lets</span>× <span class="id" title="var">Hless</span>: <a class="idref" href="GMu.InfrastructureFV.html#fv_smaller"><span class="id" title="lemma">fv_smaller</span></a> <span class="id" title="var">T</span> <span class="id" title="var">Uh</span> 0.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">fold</span> (<a class="idref" href="GMu.Definitions.html#open_tt"><span class="id" title="definition">open_tt</span></a> <span class="id" title="var">T</span> <span class="id" title="var">Uh</span>) <span class="id" title="tactic">in</span> <span class="id" title="var">Hless</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intro</span> <span class="id" title="var">Hin</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <span class="id" title="var">Hless</span> <span class="id" title="tactic">in</span> <span class="id" title="var">Hin</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <span class="id" title="axiom">in_union</span> <span class="id" title="tactic">in</span> <span class="id" title="var">Hin</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">Hin</span> <span class="id" title="keyword">as</span> [<span class="id" title="var">Hin</span> | <span class="id" title="var">Hin</span>].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;++ <span class="id" title="tactic">apply</span>× <span class="id" title="var">HXfv</span>. <span class="id" title="var">listin</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;++ <span class="id" title="tactic">apply</span>× <span class="id" title="var">HXUfv</span>; <span class="id" title="var">listin</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;× <span class="id" title="var">inversions</span> <span class="id" title="var">Hdistinct</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">introv</span> <span class="id" title="var">XiXt</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intro</span>. <span class="id" title="tactic">subst</span>. <span class="id" title="var">contradiction</span>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
</div>

<div class="doc">
Substitution for a fresh name is identity. 
</div>
<div class="code">

<br/>
<span class="id" title="keyword">Lemma</span> <a id="subst_te_fresh" class="idref" href="#subst_te_fresh"><span class="id" title="lemma">subst_te_fresh</span></a> : <span class="id" title="keyword">∀</span> <a id="X:48" class="idref" href="#X:48"><span class="id" title="binder">X</span></a> <a id="U:49" class="idref" href="#U:49"><span class="id" title="binder">U</span></a> <a id="e:50" class="idref" href="#e:50"><span class="id" title="binder">e</span></a>,<br/>
&nbsp;&nbsp;<a class="idref" href="GMu.InfrastructureSubst.html#X:48"><span class="id" title="variable">X</span></a> <span class="id" title="notation">\</span><span class="id" title="notation">notin</span> <a class="idref" href="GMu.Definitions.html#fv_trm"><span class="id" title="definition">fv_trm</span></a> <a class="idref" href="GMu.InfrastructureSubst.html#e:50"><span class="id" title="variable">e</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <a class="idref" href="GMu.Definitions.html#subst_te"><span class="id" title="definition">subst_te</span></a> <a class="idref" href="GMu.InfrastructureSubst.html#X:48"><span class="id" title="variable">X</span></a> <a class="idref" href="GMu.InfrastructureSubst.html#U:49"><span class="id" title="variable">U</span></a> <a class="idref" href="GMu.InfrastructureSubst.html#e:50"><span class="id" title="variable">e</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="GMu.InfrastructureSubst.html#e:50"><span class="id" title="variable">e</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">induction</span> <span class="id" title="var">e</span> <span class="id" title="keyword">using</span> <a class="idref" href="GMu.Definitions.html#trm_ind'"><span class="id" title="definition">trm_ind'</span></a>; <span class="id" title="tactic">simpl</span>; <span class="id" title="tactic">intros</span>; <span class="id" title="tactic">f_equal</span>*; <span class="id" title="var">autos</span>× <a class="idref" href="GMu.InfrastructureSubst.html#subst_tt_fresh"><span class="id" title="lemma">subst_tt_fresh</span></a>.<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">symmetry</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="GMu.Prelude.html#map_id"><span class="id" title="lemma">map_id</span></a>. <span class="id" title="var">introv</span> <span class="id" title="var">Lin</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">symmetry</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span>× <a class="idref" href="GMu.InfrastructureSubst.html#subst_tt_fresh"><span class="id" title="lemma">subst_tt_fresh</span></a>.<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">apply</span>× <span class="id" title="var">IHe</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">lets</span>*: <a class="idref" href="GMu.InfrastructureFV.html#fv_fold_general"><span class="id" title="lemma">fv_fold_general</span></a> <span class="id" title="var">H0</span>.<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">unfold</span> <a class="idref" href="GMu.Definitions.html#map_clause_trm_trm"><span class="id" title="definition">map_clause_trm_trm</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.0/stdlib//Coq.Lists.List.html#Forall_forall"><span class="id" title="lemma">List.Forall_forall</span></a> <span class="id" title="tactic">in</span> ×.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> &lt;- <a class="idref" href="http://coq.inria.fr/distrib/V8.13.0/stdlib//Coq.Lists.List.html#map_id"><span class="id" title="lemma">List.map_id</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.0/stdlib//Coq.Lists.List.html#map_ext_in"><span class="id" title="lemma">List.map_ext_in</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intros</span> <span class="id" title="var">cl</span> <span class="id" title="var">clin</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">lets</span>× <span class="id" title="var">Heq</span>: <span class="id" title="var">H</span> <span class="id" title="var">cl</span> <span class="id" title="var">clin</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">cl</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">f_equal</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span>× <span class="id" title="var">Heq</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">lets</span>*: <a class="idref" href="GMu.InfrastructureFV.html#fv_fold_in_clause"><span class="id" title="lemma">fv_fold_in_clause</span></a>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
</div>

<div class="doc">
Substitution distributes on the open operation. 
</div>
<div class="code">

<br/>
<span class="id" title="keyword">Lemma</span> <a id="subst_te_open_te" class="idref" href="#subst_te_open_te"><span class="id" title="lemma">subst_te_open_te</span></a> : <span class="id" title="keyword">∀</span> <a id="e:51" class="idref" href="#e:51"><span class="id" title="binder">e</span></a> <a id="T:52" class="idref" href="#T:52"><span class="id" title="binder">T</span></a> <a id="X:53" class="idref" href="#X:53"><span class="id" title="binder">X</span></a> <a id="U:54" class="idref" href="#U:54"><span class="id" title="binder">U</span></a>, <a class="idref" href="GMu.Definitions.html#type"><span class="id" title="inductive">type</span></a> <a class="idref" href="GMu.InfrastructureSubst.html#U:54"><span class="id" title="variable">U</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="GMu.Definitions.html#subst_te"><span class="id" title="definition">subst_te</span></a> <a class="idref" href="GMu.InfrastructureSubst.html#X:53"><span class="id" title="variable">X</span></a> <a class="idref" href="GMu.InfrastructureSubst.html#U:54"><span class="id" title="variable">U</span></a> (<a class="idref" href="GMu.Definitions.html#open_te"><span class="id" title="definition">open_te</span></a> <a class="idref" href="GMu.InfrastructureSubst.html#e:51"><span class="id" title="variable">e</span></a> <a class="idref" href="GMu.InfrastructureSubst.html#T:52"><span class="id" title="variable">T</span></a>) <a class="idref" href="http://coq.inria.fr/distrib/V8.13.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="GMu.Definitions.html#open_te"><span class="id" title="definition">open_te</span></a> (<a class="idref" href="GMu.Definitions.html#subst_te"><span class="id" title="definition">subst_te</span></a> <a class="idref" href="GMu.InfrastructureSubst.html#X:53"><span class="id" title="variable">X</span></a> <a class="idref" href="GMu.InfrastructureSubst.html#U:54"><span class="id" title="variable">U</span></a> <a class="idref" href="GMu.InfrastructureSubst.html#e:51"><span class="id" title="variable">e</span></a>) (<a class="idref" href="GMu.Definitions.html#subst_tt"><span class="id" title="definition">subst_tt</span></a> <a class="idref" href="GMu.InfrastructureSubst.html#X:53"><span class="id" title="variable">X</span></a> <a class="idref" href="GMu.InfrastructureSubst.html#U:54"><span class="id" title="variable">U</span></a> <a class="idref" href="GMu.InfrastructureSubst.html#T:52"><span class="id" title="variable">T</span></a>).<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">intros</span>. <span class="id" title="tactic">unfold</span> <a class="idref" href="GMu.Definitions.html#open_te"><span class="id" title="definition">open_te</span></a>. <span class="id" title="tactic">generalize</span> 0.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">induction</span> <span class="id" title="var">e</span> <span class="id" title="keyword">using</span> <a class="idref" href="GMu.Definitions.html#trm_ind'"><span class="id" title="definition">trm_ind'</span></a>; <span class="id" title="tactic">intro</span> <span class="id" title="var">n0</span>; <span class="id" title="var">simpls</span>; <span class="id" title="tactic">f_equal</span>*;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">autos</span>× <a class="idref" href="GMu.InfrastructureSubst.html#subst_tt_open_tt_rec"><span class="id" title="lemma">subst_tt_open_tt_rec</span></a>.<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">unfold</span> <a class="idref" href="GMu.Definitions.html#open_typlist_rec"><span class="id" title="definition">open_typlist_rec</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.0/stdlib//Coq.Lists.List.html#map_map"><span class="id" title="lemma">List.map_map</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.0/stdlib//Coq.Lists.List.html#map_map"><span class="id" title="lemma">List.map_map</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.0/stdlib//Coq.Lists.List.html#map_ext"><span class="id" title="lemma">List.map_ext</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intro</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span>× <span class="id" title="var">H0</span>.<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">unfold</span> <a class="idref" href="GMu.Definitions.html#map_clause_trm_trm"><span class="id" title="definition">map_clause_trm_trm</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">repeat</span> <span class="id" title="tactic">rewrite</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.0/stdlib//Coq.Lists.List.html#map_map"><span class="id" title="lemma">List.map_map</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.0/stdlib//Coq.Lists.List.html#map_ext_in"><span class="id" title="lemma">List.map_ext_in</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intros</span> <span class="id" title="var">cl</span> <span class="id" title="var">clin</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.0/stdlib//Coq.Lists.List.html#Forall_forall"><span class="id" title="lemma">List.Forall_forall</span></a> <span class="id" title="tactic">in</span> ×.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">lets</span>× <span class="id" title="var">Heq</span>: <span class="id" title="var">H0</span> <span class="id" title="var">cl</span> <span class="id" title="var">clin</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">cl</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">f_equal</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eauto</span>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
</div>

<div class="doc">
Substitution and open_var for distinct names commute. 
</div>
<div class="code">

<br/>
<span class="id" title="keyword">Lemma</span> <a id="subst_te_open_te_var" class="idref" href="#subst_te_open_te_var"><span class="id" title="lemma">subst_te_open_te_var</span></a> : <span class="id" title="keyword">∀</span> <a id="X:55" class="idref" href="#X:55"><span class="id" title="binder">X</span></a> <a id="Y:56" class="idref" href="#Y:56"><span class="id" title="binder">Y</span></a> <a id="U:57" class="idref" href="#U:57"><span class="id" title="binder">U</span></a> <a id="e:58" class="idref" href="#e:58"><span class="id" title="binder">e</span></a>, <a class="idref" href="GMu.InfrastructureSubst.html#Y:56"><span class="id" title="variable">Y</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'&lt;&gt;'_x"><span class="id" title="notation">≠</span></a> <a class="idref" href="GMu.InfrastructureSubst.html#X:55"><span class="id" title="variable">X</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <a class="idref" href="GMu.Definitions.html#type"><span class="id" title="inductive">type</span></a> <a class="idref" href="GMu.InfrastructureSubst.html#U:57"><span class="id" title="variable">U</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="GMu.Definitions.html#:::x_'open_te_var'_x"><span class="id" title="notation">(</span></a><a class="idref" href="GMu.Definitions.html#subst_te"><span class="id" title="definition">subst_te</span></a> <a class="idref" href="GMu.InfrastructureSubst.html#X:55"><span class="id" title="variable">X</span></a> <a class="idref" href="GMu.InfrastructureSubst.html#U:57"><span class="id" title="variable">U</span></a> <a class="idref" href="GMu.InfrastructureSubst.html#e:58"><span class="id" title="variable">e</span></a><a class="idref" href="GMu.Definitions.html#:::x_'open_te_var'_x"><span class="id" title="notation">)</span></a> <a class="idref" href="GMu.Definitions.html#:::x_'open_te_var'_x"><span class="id" title="notation">open_te_var</span></a> <a class="idref" href="GMu.InfrastructureSubst.html#Y:56"><span class="id" title="variable">Y</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="GMu.Definitions.html#subst_te"><span class="id" title="definition">subst_te</span></a> <a class="idref" href="GMu.InfrastructureSubst.html#X:55"><span class="id" title="variable">X</span></a> <a class="idref" href="GMu.InfrastructureSubst.html#U:57"><span class="id" title="variable">U</span></a> (<a class="idref" href="GMu.InfrastructureSubst.html#e:58"><span class="id" title="variable">e</span></a> <a class="idref" href="GMu.Definitions.html#:::x_'open_te_var'_x"><span class="id" title="notation">open_te_var</span></a> <a class="idref" href="GMu.InfrastructureSubst.html#Y:56"><span class="id" title="variable">Y</span></a>).<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="var">introv</span> <span class="id" title="var">Neq</span> <span class="id" title="var">Wu</span>. <span class="id" title="tactic">rewrite</span>× <a class="idref" href="GMu.InfrastructureSubst.html#subst_te_open_te"><span class="id" title="lemma">subst_te_open_te</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">simpl</span>. <span class="id" title="var">case_var</span>×.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
</div>

<div class="doc">
Opening up a body t with a type u is the same as opening
  up the abstraction with a fresh name x and then substituting u for x. 
</div>
<div class="code">

<br/>
<span class="id" title="keyword">Lemma</span> <a id="subst_te_intro" class="idref" href="#subst_te_intro"><span class="id" title="lemma">subst_te_intro</span></a> : <span class="id" title="keyword">∀</span> <a id="X:59" class="idref" href="#X:59"><span class="id" title="binder">X</span></a> <a id="U:60" class="idref" href="#U:60"><span class="id" title="binder">U</span></a> <a id="e:61" class="idref" href="#e:61"><span class="id" title="binder">e</span></a>,<br/>
&nbsp;&nbsp;<a class="idref" href="GMu.InfrastructureSubst.html#X:59"><span class="id" title="variable">X</span></a> <span class="id" title="notation">\</span><span class="id" title="notation">notin</span> <a class="idref" href="GMu.Definitions.html#fv_trm"><span class="id" title="definition">fv_trm</span></a> <a class="idref" href="GMu.InfrastructureSubst.html#e:61"><span class="id" title="variable">e</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <a class="idref" href="GMu.Definitions.html#type"><span class="id" title="inductive">type</span></a> <a class="idref" href="GMu.InfrastructureSubst.html#U:60"><span class="id" title="variable">U</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="GMu.Definitions.html#open_te"><span class="id" title="definition">open_te</span></a> <a class="idref" href="GMu.InfrastructureSubst.html#e:61"><span class="id" title="variable">e</span></a> <a class="idref" href="GMu.InfrastructureSubst.html#U:60"><span class="id" title="variable">U</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="GMu.Definitions.html#subst_te"><span class="id" title="definition">subst_te</span></a> <a class="idref" href="GMu.InfrastructureSubst.html#X:59"><span class="id" title="variable">X</span></a> <a class="idref" href="GMu.InfrastructureSubst.html#U:60"><span class="id" title="variable">U</span></a> (<a class="idref" href="GMu.InfrastructureSubst.html#e:61"><span class="id" title="variable">e</span></a> <a class="idref" href="GMu.Definitions.html#:::x_'open_te_var'_x"><span class="id" title="notation">open_te_var</span></a> <a class="idref" href="GMu.InfrastructureSubst.html#X:59"><span class="id" title="variable">X</span></a>).<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="var">introv</span> <span class="id" title="var">Fr</span> <span class="id" title="var">Wu</span>. <span class="id" title="tactic">rewrite</span>× <a class="idref" href="GMu.InfrastructureSubst.html#subst_te_open_te"><span class="id" title="lemma">subst_te_open_te</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span>× <a class="idref" href="GMu.InfrastructureSubst.html#subst_te_fresh"><span class="id" title="lemma">subst_te_fresh</span></a>. <span class="id" title="tactic">simpl</span>. <span class="id" title="var">case_var</span>×.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
</div>

<div class="doc">
Substitution for a fresh name is identity. 
</div>
<div class="code">
<span class="id" title="keyword">Lemma</span> <a id="subst_ee_fresh" class="idref" href="#subst_ee_fresh"><span class="id" title="lemma">subst_ee_fresh</span></a> : <span class="id" title="keyword">∀</span> <a id="x:62" class="idref" href="#x:62"><span class="id" title="binder">x</span></a> <a id="k:63" class="idref" href="#k:63"><span class="id" title="binder">k</span></a> <a id="u:64" class="idref" href="#u:64"><span class="id" title="binder">u</span></a> <a id="e:65" class="idref" href="#e:65"><span class="id" title="binder">e</span></a>,<br/>
&nbsp;&nbsp;<a class="idref" href="GMu.InfrastructureSubst.html#x:62"><span class="id" title="variable">x</span></a> <span class="id" title="notation">\</span><span class="id" title="notation">notin</span> <a class="idref" href="GMu.Definitions.html#fv_trm"><span class="id" title="definition">fv_trm</span></a> <a class="idref" href="GMu.InfrastructureSubst.html#e:65"><span class="id" title="variable">e</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <a class="idref" href="GMu.Definitions.html#subst_ee"><span class="id" title="definition">subst_ee</span></a> <a class="idref" href="GMu.InfrastructureSubst.html#x:62"><span class="id" title="variable">x</span></a> <a class="idref" href="GMu.InfrastructureSubst.html#k:63"><span class="id" title="variable">k</span></a> <a class="idref" href="GMu.InfrastructureSubst.html#u:64"><span class="id" title="variable">u</span></a> <a class="idref" href="GMu.InfrastructureSubst.html#e:65"><span class="id" title="variable">e</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="GMu.InfrastructureSubst.html#e:65"><span class="id" title="variable">e</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">induction</span> <span class="id" title="var">e</span> <span class="id" title="keyword">using</span> <a class="idref" href="GMu.Definitions.html#trm_ind'"><span class="id" title="definition">trm_ind'</span></a>; <span class="id" title="tactic">simpl</span>; <span class="id" title="tactic">intros</span>; <span class="id" title="tactic">f_equal</span>×.<br/>
&nbsp;&nbsp;- <span class="id" title="var">case_if</span>×.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">inversions</span> <span class="id" title="var">C</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">false</span>× <span class="id" title="lemma">in_singleton_self</span>.<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">apply</span> <span class="id" title="var">IHe</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">lets</span>*: <a class="idref" href="GMu.InfrastructureFV.html#fv_fold_base_clause"><span class="id" title="lemma">fv_fold_base_clause</span></a>.<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">unfold</span> <a class="idref" href="GMu.Definitions.html#map_clause_trm_trm"><span class="id" title="definition">map_clause_trm_trm</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> &lt;- <a class="idref" href="http://coq.inria.fr/distrib/V8.13.0/stdlib//Coq.Lists.List.html#map_id"><span class="id" title="lemma">List.map_id</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.0/stdlib//Coq.Lists.List.html#map_ext_in"><span class="id" title="lemma">List.map_ext_in</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intros</span> <span class="id" title="var">cl</span> <span class="id" title="var">clin</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.0/stdlib//Coq.Lists.List.html#Forall_forall"><span class="id" title="lemma">List.Forall_forall</span></a> <span class="id" title="tactic">in</span> ×.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">lets</span>× <span class="id" title="var">Heq</span>: <span class="id" title="var">H</span> <span class="id" title="var">clin</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">unfold</span> <a class="idref" href="GMu.Definitions.html#clauseTerm"><span class="id" title="definition">clauseTerm</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">Heq</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">lets</span> <span class="id" title="var">Hfv</span>: <a class="idref" href="GMu.InfrastructureFV.html#fv_fold_in_clause"><span class="id" title="lemma">fv_fold_in_clause</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">lets</span>× <span class="id" title="var">Hfv2</span>: <span class="id" title="var">Hfv</span> <span class="id" title="var">cl</span> <span class="id" title="var">clauses</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">unfold</span> <a class="idref" href="GMu.Definitions.html#clauseTerm"><span class="id" title="definition">clauseTerm</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">Hfv2</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">cl</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">f_equal</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <span class="id" title="var">Heq</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span>× <span class="id" title="var">Hfv2</span>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
</div>

<div class="doc">
Substitution distributes on the open operation. 
</div>
<div class="code">
<span class="id" title="keyword">Lemma</span> <a id="subst_ee_open_ee" class="idref" href="#subst_ee_open_ee"><span class="id" title="lemma">subst_ee_open_ee</span></a> : <span class="id" title="keyword">∀</span> <a id="t1:66" class="idref" href="#t1:66"><span class="id" title="binder">t1</span></a> <a id="t2:67" class="idref" href="#t2:67"><span class="id" title="binder">t2</span></a> <a id="u:68" class="idref" href="#u:68"><span class="id" title="binder">u</span></a> <a id="k:69" class="idref" href="#k:69"><span class="id" title="binder">k</span></a> <a id="x:70" class="idref" href="#x:70"><span class="id" title="binder">x</span></a>, <a class="idref" href="GMu.Definitions.html#term"><span class="id" title="inductive">term</span></a> <a class="idref" href="GMu.InfrastructureSubst.html#u:68"><span class="id" title="variable">u</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="GMu.Definitions.html#subst_ee"><span class="id" title="definition">subst_ee</span></a> <a class="idref" href="GMu.InfrastructureSubst.html#x:70"><span class="id" title="variable">x</span></a> <a class="idref" href="GMu.InfrastructureSubst.html#k:69"><span class="id" title="variable">k</span></a> <a class="idref" href="GMu.InfrastructureSubst.html#u:68"><span class="id" title="variable">u</span></a> (<a class="idref" href="GMu.Definitions.html#open_ee"><span class="id" title="definition">open_ee</span></a> <a class="idref" href="GMu.InfrastructureSubst.html#t1:66"><span class="id" title="variable">t1</span></a> <a class="idref" href="GMu.InfrastructureSubst.html#t2:67"><span class="id" title="variable">t2</span></a>) <a class="idref" href="http://coq.inria.fr/distrib/V8.13.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="GMu.Definitions.html#open_ee"><span class="id" title="definition">open_ee</span></a> (<a class="idref" href="GMu.Definitions.html#subst_ee"><span class="id" title="definition">subst_ee</span></a> <a class="idref" href="GMu.InfrastructureSubst.html#x:70"><span class="id" title="variable">x</span></a> <a class="idref" href="GMu.InfrastructureSubst.html#k:69"><span class="id" title="variable">k</span></a> <a class="idref" href="GMu.InfrastructureSubst.html#u:68"><span class="id" title="variable">u</span></a> <a class="idref" href="GMu.InfrastructureSubst.html#t1:66"><span class="id" title="variable">t1</span></a>) (<a class="idref" href="GMu.Definitions.html#subst_ee"><span class="id" title="definition">subst_ee</span></a> <a class="idref" href="GMu.InfrastructureSubst.html#x:70"><span class="id" title="variable">x</span></a> <a class="idref" href="GMu.InfrastructureSubst.html#k:69"><span class="id" title="variable">k</span></a> <a class="idref" href="GMu.InfrastructureSubst.html#u:68"><span class="id" title="variable">u</span></a> <a class="idref" href="GMu.InfrastructureSubst.html#t2:67"><span class="id" title="variable">t2</span></a>).<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">intros</span>. <span class="id" title="tactic">unfold</span> <a class="idref" href="GMu.Definitions.html#open_ee"><span class="id" title="definition">open_ee</span></a>. <span class="id" title="tactic">generalize</span> 0.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">induction</span> <span class="id" title="var">t1</span> <span class="id" title="keyword">using</span> <a class="idref" href="GMu.Definitions.html#trm_ind'"><span class="id" title="definition">trm_ind'</span></a>; <span class="id" title="tactic">intro</span> <span class="id" title="var">n0</span>; <span class="id" title="var">simpls</span>; <span class="id" title="tactic">f_equal</span>×.<br/>
&nbsp;&nbsp;- <span class="id" title="var">crush_eq</span>.<br/>
&nbsp;&nbsp;- <span class="id" title="var">case_if</span>×. <span class="id" title="tactic">rewrite</span>× &lt;- <a class="idref" href="GMu.InfrastructureOpen.html#open_ee_rec_term"><span class="id" title="lemma">open_ee_rec_term</span></a>.<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">unfold</span> <a class="idref" href="GMu.Definitions.html#map_clause_trm_trm"><span class="id" title="definition">map_clause_trm_trm</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">repeat</span> <span class="id" title="tactic">rewrite</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.0/stdlib//Coq.Lists.List.html#map_map"><span class="id" title="lemma">List.map_map</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.0/stdlib//Coq.Lists.List.html#map_ext_in"><span class="id" title="lemma">List.map_ext_in</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intros</span> <span class="id" title="var">cl</span> <span class="id" title="var">clin</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.0/stdlib//Coq.Lists.List.html#Forall_forall"><span class="id" title="lemma">List.Forall_forall</span></a> <span class="id" title="tactic">in</span> ×.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">lets</span>× <span class="id" title="var">IH</span>: <span class="id" title="var">H0</span> <span class="id" title="var">clin</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">cl</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">f_equal</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eauto</span>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
</div>

<div class="doc">
Substitution and open_var for distinct names commute. 
</div>
<div class="code">
<span class="id" title="keyword">Lemma</span> <a id="subst_ee_open_ee_var" class="idref" href="#subst_ee_open_ee_var"><span class="id" title="lemma">subst_ee_open_ee_var</span></a> : <span class="id" title="keyword">∀</span> <a id="vk:71" class="idref" href="#vk:71"><span class="id" title="binder">vk</span></a> <a id="x:72" class="idref" href="#x:72"><span class="id" title="binder">x</span></a> <a id="y:73" class="idref" href="#y:73"><span class="id" title="binder">y</span></a> <a id="k:74" class="idref" href="#k:74"><span class="id" title="binder">k</span></a> <a id="u:75" class="idref" href="#u:75"><span class="id" title="binder">u</span></a> <a id="e:76" class="idref" href="#e:76"><span class="id" title="binder">e</span></a>, <a class="idref" href="GMu.InfrastructureSubst.html#y:73"><span class="id" title="variable">y</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'&lt;&gt;'_x"><span class="id" title="notation">≠</span></a> <a class="idref" href="GMu.InfrastructureSubst.html#x:72"><span class="id" title="variable">x</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <a class="idref" href="GMu.Definitions.html#term"><span class="id" title="inductive">term</span></a> <a class="idref" href="GMu.InfrastructureSubst.html#u:75"><span class="id" title="variable">u</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="GMu.Definitions.html#open_ee"><span class="id" title="definition">open_ee</span></a> (<a class="idref" href="GMu.Definitions.html#subst_ee"><span class="id" title="definition">subst_ee</span></a> <a class="idref" href="GMu.InfrastructureSubst.html#x:72"><span class="id" title="variable">x</span></a> <a class="idref" href="GMu.InfrastructureSubst.html#k:74"><span class="id" title="variable">k</span></a> <a class="idref" href="GMu.InfrastructureSubst.html#u:75"><span class="id" title="variable">u</span></a> <a class="idref" href="GMu.InfrastructureSubst.html#e:76"><span class="id" title="variable">e</span></a>) (<a class="idref" href="GMu.Definitions.html#trm_fvar"><span class="id" title="constructor">trm_fvar</span></a> <a class="idref" href="GMu.InfrastructureSubst.html#vk:71"><span class="id" title="variable">vk</span></a> <a class="idref" href="GMu.InfrastructureSubst.html#y:73"><span class="id" title="variable">y</span></a>) <a class="idref" href="http://coq.inria.fr/distrib/V8.13.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="GMu.Definitions.html#subst_ee"><span class="id" title="definition">subst_ee</span></a> <a class="idref" href="GMu.InfrastructureSubst.html#x:72"><span class="id" title="variable">x</span></a> <a class="idref" href="GMu.InfrastructureSubst.html#k:74"><span class="id" title="variable">k</span></a> <a class="idref" href="GMu.InfrastructureSubst.html#u:75"><span class="id" title="variable">u</span></a> (<a class="idref" href="GMu.Definitions.html#open_ee"><span class="id" title="definition">open_ee</span></a> <a class="idref" href="GMu.InfrastructureSubst.html#e:76"><span class="id" title="variable">e</span></a> (<a class="idref" href="GMu.Definitions.html#trm_fvar"><span class="id" title="constructor">trm_fvar</span></a> <a class="idref" href="GMu.InfrastructureSubst.html#vk:71"><span class="id" title="variable">vk</span></a> <a class="idref" href="GMu.InfrastructureSubst.html#y:73"><span class="id" title="variable">y</span></a>)).<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="var">introv</span> <span class="id" title="var">Neq</span> <span class="id" title="var">Wu</span>. <span class="id" title="tactic">rewrite</span>× <a class="idref" href="GMu.InfrastructureSubst.html#subst_ee_open_ee"><span class="id" title="lemma">subst_ee_open_ee</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">simpl</span>. <span class="id" title="var">case_if</span>×.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
</div>

<div class="doc">
Opening up a body t with a type u is the same as opening
  up the abstraction with a fresh name x and then substituting u for x. 
</div>
<div class="code">

<br/>
<span class="id" title="keyword">Lemma</span> <a id="subst_ee_intro" class="idref" href="#subst_ee_intro"><span class="id" title="lemma">subst_ee_intro</span></a> : <span class="id" title="keyword">∀</span> <a id="vk:77" class="idref" href="#vk:77"><span class="id" title="binder">vk</span></a> <a id="x:78" class="idref" href="#x:78"><span class="id" title="binder">x</span></a> <a id="u:79" class="idref" href="#u:79"><span class="id" title="binder">u</span></a> <a id="e:80" class="idref" href="#e:80"><span class="id" title="binder">e</span></a>,<br/>
&nbsp;&nbsp;<a class="idref" href="GMu.InfrastructureSubst.html#x:78"><span class="id" title="variable">x</span></a> <span class="id" title="notation">\</span><span class="id" title="notation">notin</span> <a class="idref" href="GMu.Definitions.html#fv_trm"><span class="id" title="definition">fv_trm</span></a> <a class="idref" href="GMu.InfrastructureSubst.html#e:80"><span class="id" title="variable">e</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <a class="idref" href="GMu.Definitions.html#term"><span class="id" title="inductive">term</span></a> <a class="idref" href="GMu.InfrastructureSubst.html#u:79"><span class="id" title="variable">u</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="GMu.Definitions.html#open_ee"><span class="id" title="definition">open_ee</span></a> <a class="idref" href="GMu.InfrastructureSubst.html#e:80"><span class="id" title="variable">e</span></a> <a class="idref" href="GMu.InfrastructureSubst.html#u:79"><span class="id" title="variable">u</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="GMu.Definitions.html#subst_ee"><span class="id" title="definition">subst_ee</span></a> <a class="idref" href="GMu.InfrastructureSubst.html#x:78"><span class="id" title="variable">x</span></a> <a class="idref" href="GMu.InfrastructureSubst.html#vk:77"><span class="id" title="variable">vk</span></a> <a class="idref" href="GMu.InfrastructureSubst.html#u:79"><span class="id" title="variable">u</span></a> (<a class="idref" href="GMu.Definitions.html#open_ee"><span class="id" title="definition">open_ee</span></a> <a class="idref" href="GMu.InfrastructureSubst.html#e:80"><span class="id" title="variable">e</span></a> (<a class="idref" href="GMu.Definitions.html#trm_fvar"><span class="id" title="constructor">trm_fvar</span></a> <a class="idref" href="GMu.InfrastructureSubst.html#vk:77"><span class="id" title="variable">vk</span></a> <a class="idref" href="GMu.InfrastructureSubst.html#x:78"><span class="id" title="variable">x</span></a>)).<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="var">introv</span> <span class="id" title="var">Fr</span> <span class="id" title="var">Wu</span>. <span class="id" title="tactic">rewrite</span>× <a class="idref" href="GMu.InfrastructureSubst.html#subst_ee_open_ee"><span class="id" title="lemma">subst_ee_open_ee</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span>× <a class="idref" href="GMu.InfrastructureSubst.html#subst_ee_fresh"><span class="id" title="lemma">subst_ee_fresh</span></a>. <span class="id" title="tactic">simpl</span>. <span class="id" title="var">case_if</span>×.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
</div>

<div class="doc">
Interactions between type substitutions in terms and opening
  with term variables in terms. 
</div>
<div class="code">

<br/>
<span class="id" title="keyword">Lemma</span> <a id="subst_te_open_ee_var" class="idref" href="#subst_te_open_ee_var"><span class="id" title="lemma">subst_te_open_ee_var</span></a> : <span class="id" title="keyword">∀</span> <a id="Z:81" class="idref" href="#Z:81"><span class="id" title="binder">Z</span></a> <a id="P:82" class="idref" href="#P:82"><span class="id" title="binder">P</span></a> <a id="vk:83" class="idref" href="#vk:83"><span class="id" title="binder">vk</span></a> <a id="x:84" class="idref" href="#x:84"><span class="id" title="binder">x</span></a> <a id="e:85" class="idref" href="#e:85"><span class="id" title="binder">e</span></a>,<br/>
&nbsp;&nbsp;<a class="idref" href="GMu.Definitions.html#open_ee"><span class="id" title="definition">open_ee</span></a> (<a class="idref" href="GMu.Definitions.html#subst_te"><span class="id" title="definition">subst_te</span></a> <a class="idref" href="GMu.InfrastructureSubst.html#Z:81"><span class="id" title="variable">Z</span></a> <a class="idref" href="GMu.InfrastructureSubst.html#P:82"><span class="id" title="variable">P</span></a> <a class="idref" href="GMu.InfrastructureSubst.html#e:85"><span class="id" title="variable">e</span></a>) (<a class="idref" href="GMu.Definitions.html#trm_fvar"><span class="id" title="constructor">trm_fvar</span></a> <a class="idref" href="GMu.InfrastructureSubst.html#vk:83"><span class="id" title="variable">vk</span></a> <a class="idref" href="GMu.InfrastructureSubst.html#x:84"><span class="id" title="variable">x</span></a>) <a class="idref" href="http://coq.inria.fr/distrib/V8.13.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="GMu.Definitions.html#subst_te"><span class="id" title="definition">subst_te</span></a> <a class="idref" href="GMu.InfrastructureSubst.html#Z:81"><span class="id" title="variable">Z</span></a> <a class="idref" href="GMu.InfrastructureSubst.html#P:82"><span class="id" title="variable">P</span></a> (<a class="idref" href="GMu.Definitions.html#open_ee"><span class="id" title="definition">open_ee</span></a> <a class="idref" href="GMu.InfrastructureSubst.html#e:85"><span class="id" title="variable">e</span></a> (<a class="idref" href="GMu.Definitions.html#trm_fvar"><span class="id" title="constructor">trm_fvar</span></a> <a class="idref" href="GMu.InfrastructureSubst.html#vk:83"><span class="id" title="variable">vk</span></a> <a class="idref" href="GMu.InfrastructureSubst.html#x:84"><span class="id" title="variable">x</span></a>)).<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="var">introv</span>. <span class="id" title="tactic">unfold</span> <a class="idref" href="GMu.Definitions.html#open_ee"><span class="id" title="definition">open_ee</span></a>. <span class="id" title="tactic">generalize</span> 0.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">induction</span> <span class="id" title="var">e</span> <span class="id" title="keyword">using</span> <a class="idref" href="GMu.Definitions.html#trm_ind'"><span class="id" title="definition">trm_ind'</span></a>; <span class="id" title="tactic">intros</span>; <span class="id" title="tactic">simpl</span>; <span class="id" title="tactic">f_equal</span>×.<br/>
&nbsp;&nbsp;- <span class="id" title="var">crush_eq</span>.<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">unfold</span> <a class="idref" href="GMu.Definitions.html#map_clause_trm_trm"><span class="id" title="definition">map_clause_trm_trm</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">repeat</span> <span class="id" title="tactic">rewrite</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.0/stdlib//Coq.Lists.List.html#map_map"><span class="id" title="lemma">List.map_map</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.0/stdlib//Coq.Lists.List.html#map_ext_in"><span class="id" title="lemma">List.map_ext_in</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intros</span> <span class="id" title="var">cl</span> <span class="id" title="var">clin</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.0/stdlib//Coq.Lists.List.html#Forall_forall"><span class="id" title="lemma">List.Forall_forall</span></a> <span class="id" title="tactic">in</span> ×.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">lets</span>× <span class="id" title="var">IH</span>: <span class="id" title="var">H</span> <span class="id" title="var">clin</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">cl</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">f_equal</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eauto</span>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
</div>

<div class="doc">
Interactions between term substitutions in terms and opening
  with type variables in terms. 
</div>
<div class="code">

<br/>
<span class="id" title="keyword">Lemma</span> <a id="subst_ee_open_te_var" class="idref" href="#subst_ee_open_te_var"><span class="id" title="lemma">subst_ee_open_te_var</span></a> : <span class="id" title="keyword">∀</span> <a id="z:86" class="idref" href="#z:86"><span class="id" title="binder">z</span></a> <a id="k:87" class="idref" href="#k:87"><span class="id" title="binder">k</span></a> <a id="u:88" class="idref" href="#u:88"><span class="id" title="binder">u</span></a> <a id="e:89" class="idref" href="#e:89"><span class="id" title="binder">e</span></a> <a id="X:90" class="idref" href="#X:90"><span class="id" title="binder">X</span></a>, <a class="idref" href="GMu.Definitions.html#term"><span class="id" title="inductive">term</span></a> <a class="idref" href="GMu.InfrastructureSubst.html#u:88"><span class="id" title="variable">u</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="GMu.Definitions.html#:::x_'open_te_var'_x"><span class="id" title="notation">(</span></a><a class="idref" href="GMu.Definitions.html#subst_ee"><span class="id" title="definition">subst_ee</span></a> <a class="idref" href="GMu.InfrastructureSubst.html#z:86"><span class="id" title="variable">z</span></a> <a class="idref" href="GMu.InfrastructureSubst.html#k:87"><span class="id" title="variable">k</span></a> <a class="idref" href="GMu.InfrastructureSubst.html#u:88"><span class="id" title="variable">u</span></a> <a class="idref" href="GMu.InfrastructureSubst.html#e:89"><span class="id" title="variable">e</span></a><a class="idref" href="GMu.Definitions.html#:::x_'open_te_var'_x"><span class="id" title="notation">)</span></a> <a class="idref" href="GMu.Definitions.html#:::x_'open_te_var'_x"><span class="id" title="notation">open_te_var</span></a> <a class="idref" href="GMu.InfrastructureSubst.html#X:90"><span class="id" title="variable">X</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="GMu.Definitions.html#subst_ee"><span class="id" title="definition">subst_ee</span></a> <a class="idref" href="GMu.InfrastructureSubst.html#z:86"><span class="id" title="variable">z</span></a> <a class="idref" href="GMu.InfrastructureSubst.html#k:87"><span class="id" title="variable">k</span></a> <a class="idref" href="GMu.InfrastructureSubst.html#u:88"><span class="id" title="variable">u</span></a> (<a class="idref" href="GMu.InfrastructureSubst.html#e:89"><span class="id" title="variable">e</span></a> <a class="idref" href="GMu.Definitions.html#:::x_'open_te_var'_x"><span class="id" title="notation">open_te_var</span></a> <a class="idref" href="GMu.InfrastructureSubst.html#X:90"><span class="id" title="variable">X</span></a>).<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="var">introv</span>. <span class="id" title="tactic">unfold</span> <a class="idref" href="GMu.Definitions.html#open_te"><span class="id" title="definition">open_te</span></a>. <span class="id" title="tactic">generalize</span> 0.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">induction</span> <span class="id" title="var">e</span> <span class="id" title="keyword">using</span> <a class="idref" href="GMu.Definitions.html#trm_ind'"><span class="id" title="definition">trm_ind'</span></a>; <span class="id" title="tactic">intros</span>; <span class="id" title="tactic">simpl</span>; <span class="id" title="tactic">f_equal</span>×.<br/>
&nbsp;&nbsp;- <span class="id" title="var">case_if</span>×. <span class="id" title="tactic">symmetry</span>. <span class="id" title="var">autos</span>× <a class="idref" href="GMu.InfrastructureOpen.html#open_te_rec_term"><span class="id" title="lemma">open_te_rec_term</span></a>.<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">unfold</span> <a class="idref" href="GMu.Definitions.html#map_clause_trm_trm"><span class="id" title="definition">map_clause_trm_trm</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">repeat</span> <span class="id" title="tactic">rewrite</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.0/stdlib//Coq.Lists.List.html#map_map"><span class="id" title="lemma">List.map_map</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.0/stdlib//Coq.Lists.List.html#map_ext_in"><span class="id" title="lemma">List.map_ext_in</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intros</span> <span class="id" title="var">cl</span> <span class="id" title="var">clin</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.0/stdlib//Coq.Lists.List.html#Forall_forall"><span class="id" title="lemma">List.Forall_forall</span></a> <span class="id" title="tactic">in</span> ×.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">lets</span>× <span class="id" title="var">IH</span>: <span class="id" title="var">H</span> <span class="id" title="var">clin</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">cl</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">f_equal</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eauto</span>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
</div>

<div class="doc">
Substitutions preserve local closure. 
</div>
<div class="code">

<br/>
<span class="id" title="keyword">Lemma</span> <a id="subst_map_reverse_type" class="idref" href="#subst_map_reverse_type"><span class="id" title="lemma">subst_map_reverse_type</span></a> : <span class="id" title="keyword">∀</span> <a id="Tparams:91" class="idref" href="#Tparams:91"><span class="id" title="binder">Tparams</span></a> <a id="Z:92" class="idref" href="#Z:92"><span class="id" title="binder">Z</span></a> <a id="P:93" class="idref" href="#P:93"><span class="id" title="binder">P</span></a>,<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="GMu.Definitions.html#type"><span class="id" title="inductive">type</span></a> <a class="idref" href="GMu.InfrastructureSubst.html#P:93"><span class="id" title="variable">P</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/V8.13.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">(</span></a><span class="id" title="keyword">∀</span> <a id="Tparam:94" class="idref" href="#Tparam:94"><span class="id" title="binder">Tparam</span></a> : <a class="idref" href="GMu.Definitions.html#typ"><span class="id" title="inductive">typ</span></a>,<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/V8.13.0/stdlib//Coq.Lists.List.html#In"><span class="id" title="definition">List.In</span></a> <a class="idref" href="GMu.InfrastructureSubst.html#Tparam:94"><span class="id" title="variable">Tparam</span></a> <a class="idref" href="GMu.InfrastructureSubst.html#Tparams:91"><span class="id" title="variable">Tparams</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <a class="idref" href="GMu.Definitions.html#type"><span class="id" title="inductive">type</span></a> <a class="idref" href="GMu.InfrastructureSubst.html#P:93"><span class="id" title="variable">P</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <a class="idref" href="GMu.Definitions.html#type"><span class="id" title="inductive">type</span></a> (<a class="idref" href="GMu.Definitions.html#subst_tt"><span class="id" title="definition">subst_tt</span></a> <a class="idref" href="GMu.InfrastructureSubst.html#Z:92"><span class="id" title="variable">Z</span></a> <a class="idref" href="GMu.InfrastructureSubst.html#P:93"><span class="id" title="variable">P</span></a> <a class="idref" href="GMu.InfrastructureSubst.html#Tparam:94"><span class="id" title="variable">Tparam</span></a>)<a class="idref" href="http://coq.inria.fr/distrib/V8.13.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">)</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">∀</span> <a id="Tparam:95" class="idref" href="#Tparam:95"><span class="id" title="binder">Tparam</span></a> : <a class="idref" href="GMu.Definitions.html#typ"><span class="id" title="inductive">typ</span></a>, <a class="idref" href="http://coq.inria.fr/distrib/V8.13.0/stdlib//Coq.Lists.List.html#In"><span class="id" title="definition">List.In</span></a> <a class="idref" href="GMu.InfrastructureSubst.html#Tparam:95"><span class="id" title="variable">Tparam</span></a> (<a class="idref" href="http://coq.inria.fr/distrib/V8.13.0/stdlib//Coq.Lists.List.html#map"><span class="id" title="definition">List.map</span></a> (<a class="idref" href="GMu.Definitions.html#subst_tt"><span class="id" title="definition">subst_tt</span></a> <a class="idref" href="GMu.InfrastructureSubst.html#Z:92"><span class="id" title="variable">Z</span></a> <a class="idref" href="GMu.InfrastructureSubst.html#P:93"><span class="id" title="variable">P</span></a>) <a class="idref" href="GMu.InfrastructureSubst.html#Tparams:91"><span class="id" title="variable">Tparams</span></a>) <a class="idref" href="http://coq.inria.fr/distrib/V8.13.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <a class="idref" href="GMu.Definitions.html#type"><span class="id" title="inductive">type</span></a> <a class="idref" href="GMu.InfrastructureSubst.html#Tparam:95"><span class="id" title="variable">Tparam</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="var">introv</span> <span class="id" title="var">HP</span> <span class="id" title="var">HTP</span>.<br/>
&nbsp;&nbsp;<span class="id" title="var">introv</span> <span class="id" title="var">Tin</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.0/stdlib//Coq.Lists.List.html#in_map_iff"><span class="id" title="lemma">List.in_map_iff</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">Tin</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">Tin</span> <span class="id" title="keyword">as</span> [<span class="id" title="var">T</span> <span class="id" title="var">Tand</span>].<br/>
&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">Tand</span> <span class="id" title="keyword">as</span> [<span class="id" title="var">Teq</span> <span class="id" title="var">Tin</span>].<br/>
&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> &lt;- <span class="id" title="var">Teq</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">apply</span>× <span class="id" title="var">HTP</span>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="subst_tt_type" class="idref" href="#subst_tt_type"><span class="id" title="lemma">subst_tt_type</span></a> : <span class="id" title="keyword">∀</span> <a id="T:96" class="idref" href="#T:96"><span class="id" title="binder">T</span></a> <a id="Z:97" class="idref" href="#Z:97"><span class="id" title="binder">Z</span></a> <a id="P:98" class="idref" href="#P:98"><span class="id" title="binder">P</span></a>,<br/>
&nbsp;&nbsp;<a class="idref" href="GMu.Definitions.html#type"><span class="id" title="inductive">type</span></a> <a class="idref" href="GMu.InfrastructureSubst.html#T:96"><span class="id" title="variable">T</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <a class="idref" href="GMu.Definitions.html#type"><span class="id" title="inductive">type</span></a> <a class="idref" href="GMu.InfrastructureSubst.html#P:98"><span class="id" title="variable">P</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <a class="idref" href="GMu.Definitions.html#type"><span class="id" title="inductive">type</span></a> (<a class="idref" href="GMu.Definitions.html#subst_tt"><span class="id" title="definition">subst_tt</span></a> <a class="idref" href="GMu.InfrastructureSubst.html#Z:97"><span class="id" title="variable">Z</span></a> <a class="idref" href="GMu.InfrastructureSubst.html#P:98"><span class="id" title="variable">P</span></a> <a class="idref" href="GMu.InfrastructureSubst.html#T:96"><span class="id" title="variable">T</span></a>).<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">induction</span> 1; <span class="id" title="tactic">intros</span>; <span class="id" title="tactic">simpl</span>; <span class="id" title="tactic">auto</span>.<br/>
&nbsp;&nbsp;- <span class="id" title="var">case_var</span>×.<br/>
&nbsp;&nbsp;- <span class="id" title="var">apply_fresh</span>× <a class="idref" href="GMu.Definitions.html#type_all"><span class="id" title="constructor">type_all</span></a> <span class="id" title="keyword">as</span> <span class="id" title="var">X</span>. <span class="id" title="tactic">rewrite</span>× <a class="idref" href="GMu.InfrastructureSubst.html#subst_tt_open_tt_var"><span class="id" title="lemma">subst_tt_open_tt_var</span></a>.<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">econstructor</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span>× <a class="idref" href="GMu.InfrastructureSubst.html#subst_map_reverse_type"><span class="id" title="lemma">subst_map_reverse_type</span></a>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="subst_commutes_with_unrelated_opens_te_te" class="idref" href="#subst_commutes_with_unrelated_opens_te_te"><span class="id" title="lemma">subst_commutes_with_unrelated_opens_te_te</span></a> : <span class="id" title="keyword">∀</span> <a id="Xs:99" class="idref" href="#Xs:99"><span class="id" title="binder">Xs</span></a> <a id="e:100" class="idref" href="#e:100"><span class="id" title="binder">e</span></a> <a id="V:101" class="idref" href="#V:101"><span class="id" title="binder">V</span></a> <a id="Y:102" class="idref" href="#Y:102"><span class="id" title="binder">Y</span></a>,<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/V8.13.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">(</span></a><span class="id" title="keyword">∀</span> <a id="X:103" class="idref" href="#X:103"><span class="id" title="binder">X</span></a>, <a class="idref" href="http://coq.inria.fr/distrib/V8.13.0/stdlib//Coq.Lists.List.html#In"><span class="id" title="definition">List.In</span></a> <a class="idref" href="GMu.InfrastructureSubst.html#X:103"><span class="id" title="variable">X</span></a> <a class="idref" href="GMu.InfrastructureSubst.html#Xs:99"><span class="id" title="variable">Xs</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <a class="idref" href="GMu.InfrastructureSubst.html#X:103"><span class="id" title="variable">X</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'&lt;&gt;'_x"><span class="id" title="notation">≠</span></a> <a class="idref" href="GMu.InfrastructureSubst.html#Y:102"><span class="id" title="variable">Y</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.13.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">)</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="GMu.Definitions.html#type"><span class="id" title="inductive">type</span></a> <a class="idref" href="GMu.InfrastructureSubst.html#V:101"><span class="id" title="variable">V</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="GMu.Definitions.html#subst_te"><span class="id" title="definition">subst_te</span></a> <a class="idref" href="GMu.InfrastructureSubst.html#Y:102"><span class="id" title="variable">Y</span></a> <a class="idref" href="GMu.InfrastructureSubst.html#V:101"><span class="id" title="variable">V</span></a> (<a class="idref" href="GMu.Definitions.html#open_te_many_var"><span class="id" title="definition">open_te_many_var</span></a> <a class="idref" href="GMu.InfrastructureSubst.html#Xs:99"><span class="id" title="variable">Xs</span></a> <a class="idref" href="GMu.InfrastructureSubst.html#e:100"><span class="id" title="variable">e</span></a>) <a class="idref" href="http://coq.inria.fr/distrib/V8.13.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/V8.13.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">(</span></a><a class="idref" href="GMu.Definitions.html#open_te_many_var"><span class="id" title="definition">open_te_many_var</span></a> <a class="idref" href="GMu.InfrastructureSubst.html#Xs:99"><span class="id" title="variable">Xs</span></a> (<a class="idref" href="GMu.Definitions.html#subst_te"><span class="id" title="definition">subst_te</span></a> <a class="idref" href="GMu.InfrastructureSubst.html#Y:102"><span class="id" title="variable">Y</span></a> <a class="idref" href="GMu.InfrastructureSubst.html#V:101"><span class="id" title="variable">V</span></a> <a class="idref" href="GMu.InfrastructureSubst.html#e:100"><span class="id" title="variable">e</span></a>)<a class="idref" href="http://coq.inria.fr/distrib/V8.13.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">)</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">induction</span> <span class="id" title="var">Xs</span> <span class="id" title="keyword">as</span> [| <span class="id" title="var">Xh</span> <span class="id" title="var">Xt</span>]; <span class="id" title="var">introv</span> <span class="id" title="var">Hneq</span> <span class="id" title="var">Htyp</span>.<br/>
&nbsp;&nbsp;- <span class="id" title="var">cbn</span>. <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;- <span class="id" title="var">cbn</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">fold</span> (<a class="idref" href="GMu.Definitions.html#open_te_many_var"><span class="id" title="definition">open_te_many_var</span></a> <span class="id" title="var">Xt</span> (<span class="id" title="var">e</span> <a class="idref" href="GMu.Definitions.html#:::x_'open_te_var'_x"><span class="id" title="notation">open_te_var</span></a> <span class="id" title="var">Xh</span>)).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">fold</span> (<a class="idref" href="GMu.Definitions.html#open_te_many_var"><span class="id" title="definition">open_te_many_var</span></a> <span class="id" title="var">Xt</span> (<a class="idref" href="GMu.Definitions.html#subst_te"><span class="id" title="definition">subst_te</span></a> <span class="id" title="var">Y</span> <span class="id" title="var">V</span> <span class="id" title="var">e</span> <a class="idref" href="GMu.Definitions.html#:::x_'open_te_var'_x"><span class="id" title="notation">open_te_var</span></a> <span class="id" title="var">Xh</span>)).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span>× <a class="idref" href="GMu.InfrastructureSubst.html#subst_te_open_te_var"><span class="id" title="lemma">subst_te_open_te_var</span></a>; <span class="id" title="tactic">eauto</span> <span class="id" title="keyword">with</span> <span class="id" title="var">listin</span>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="subst_commutes_with_unrelated_opens_te_ee" class="idref" href="#subst_commutes_with_unrelated_opens_te_ee"><span class="id" title="lemma">subst_commutes_with_unrelated_opens_te_ee</span></a> : <span class="id" title="keyword">∀</span> <a id="Xs:104" class="idref" href="#Xs:104"><span class="id" title="binder">Xs</span></a> <a id="e:105" class="idref" href="#e:105"><span class="id" title="binder">e</span></a> <a id="v:106" class="idref" href="#v:106"><span class="id" title="binder">v</span></a> <a id="y:107" class="idref" href="#y:107"><span class="id" title="binder">y</span></a> <a id="k:108" class="idref" href="#k:108"><span class="id" title="binder">k</span></a>,<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="GMu.Definitions.html#term"><span class="id" title="inductive">term</span></a> <a class="idref" href="GMu.InfrastructureSubst.html#v:106"><span class="id" title="variable">v</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="GMu.Definitions.html#subst_ee"><span class="id" title="definition">subst_ee</span></a> <a class="idref" href="GMu.InfrastructureSubst.html#y:107"><span class="id" title="variable">y</span></a> <a class="idref" href="GMu.InfrastructureSubst.html#k:108"><span class="id" title="variable">k</span></a> <a class="idref" href="GMu.InfrastructureSubst.html#v:106"><span class="id" title="variable">v</span></a> (<a class="idref" href="GMu.Definitions.html#open_te_many_var"><span class="id" title="definition">open_te_many_var</span></a> <a class="idref" href="GMu.InfrastructureSubst.html#Xs:104"><span class="id" title="variable">Xs</span></a> <a class="idref" href="GMu.InfrastructureSubst.html#e:105"><span class="id" title="variable">e</span></a>) <a class="idref" href="http://coq.inria.fr/distrib/V8.13.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/V8.13.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">(</span></a><a class="idref" href="GMu.Definitions.html#open_te_many_var"><span class="id" title="definition">open_te_many_var</span></a> <a class="idref" href="GMu.InfrastructureSubst.html#Xs:104"><span class="id" title="variable">Xs</span></a> (<a class="idref" href="GMu.Definitions.html#subst_ee"><span class="id" title="definition">subst_ee</span></a> <a class="idref" href="GMu.InfrastructureSubst.html#y:107"><span class="id" title="variable">y</span></a> <a class="idref" href="GMu.InfrastructureSubst.html#k:108"><span class="id" title="variable">k</span></a> <a class="idref" href="GMu.InfrastructureSubst.html#v:106"><span class="id" title="variable">v</span></a> <a class="idref" href="GMu.InfrastructureSubst.html#e:105"><span class="id" title="variable">e</span></a>)<a class="idref" href="http://coq.inria.fr/distrib/V8.13.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">)</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">induction</span> <span class="id" title="var">Xs</span> <span class="id" title="keyword">as</span> [| <span class="id" title="var">Xh</span> <span class="id" title="var">Xt</span>]; <span class="id" title="var">introv</span> <span class="id" title="var">Htyp</span>.<br/>
&nbsp;&nbsp;- <span class="id" title="var">cbn</span>. <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;- <span class="id" title="var">cbn</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">fold</span> (<a class="idref" href="GMu.Definitions.html#open_te_many_var"><span class="id" title="definition">open_te_many_var</span></a> <span class="id" title="var">Xt</span> (<span class="id" title="var">e</span> <a class="idref" href="GMu.Definitions.html#:::x_'open_te_var'_x"><span class="id" title="notation">open_te_var</span></a> <span class="id" title="var">Xh</span>)).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">fold</span> (<a class="idref" href="GMu.Definitions.html#open_te_many_var"><span class="id" title="definition">open_te_many_var</span></a> <span class="id" title="var">Xt</span> (<a class="idref" href="GMu.Definitions.html#subst_ee"><span class="id" title="definition">subst_ee</span></a> <span class="id" title="var">y</span> <span class="id" title="var">k</span> <span class="id" title="var">v</span> <span class="id" title="var">e</span> <a class="idref" href="GMu.Definitions.html#:::x_'open_te_var'_x"><span class="id" title="notation">open_te_var</span></a> <span class="id" title="var">Xh</span>)).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span>× <a class="idref" href="GMu.InfrastructureSubst.html#subst_ee_open_te_var"><span class="id" title="lemma">subst_ee_open_te_var</span></a>; <span class="id" title="tactic">eauto</span> <span class="id" title="keyword">with</span> <span class="id" title="var">listin</span>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="subst_te_term" class="idref" href="#subst_te_term"><span class="id" title="lemma">subst_te_term</span></a> : <span class="id" title="keyword">∀</span> <a id="e:109" class="idref" href="#e:109"><span class="id" title="binder">e</span></a> <a id="Z:110" class="idref" href="#Z:110"><span class="id" title="binder">Z</span></a> <a id="P:111" class="idref" href="#P:111"><span class="id" title="binder">P</span></a>,<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="GMu.Definitions.html#term"><span class="id" title="inductive">term</span></a> <a class="idref" href="GMu.InfrastructureSubst.html#e:109"><span class="id" title="variable">e</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <a class="idref" href="GMu.Definitions.html#type"><span class="id" title="inductive">type</span></a> <a class="idref" href="GMu.InfrastructureSubst.html#P:111"><span class="id" title="variable">P</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <a class="idref" href="GMu.Definitions.html#term"><span class="id" title="inductive">term</span></a> (<a class="idref" href="GMu.Definitions.html#subst_te"><span class="id" title="definition">subst_te</span></a> <a class="idref" href="GMu.InfrastructureSubst.html#Z:110"><span class="id" title="variable">Z</span></a> <a class="idref" href="GMu.InfrastructureSubst.html#P:111"><span class="id" title="variable">P</span></a> <a class="idref" href="GMu.InfrastructureSubst.html#e:109"><span class="id" title="variable">e</span></a>)<br/>
<span class="id" title="keyword">with</span> <a id="subst_te_value" class="idref" href="#subst_te_value"><span class="id" title="lemma">subst_te_value</span></a> : <span class="id" title="keyword">∀</span> <a id="e:112" class="idref" href="#e:112"><span class="id" title="binder">e</span></a> <a id="Z:113" class="idref" href="#Z:113"><span class="id" title="binder">Z</span></a> <a id="P:114" class="idref" href="#P:114"><span class="id" title="binder">P</span></a>,<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="GMu.Definitions.html#value"><span class="id" title="inductive">value</span></a> <a class="idref" href="GMu.InfrastructureSubst.html#e:112"><span class="id" title="variable">e</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <a class="idref" href="GMu.Definitions.html#type"><span class="id" title="inductive">type</span></a> <a class="idref" href="GMu.InfrastructureSubst.html#P:114"><span class="id" title="variable">P</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <a class="idref" href="GMu.Definitions.html#value"><span class="id" title="inductive">value</span></a> (<a class="idref" href="GMu.Definitions.html#subst_te"><span class="id" title="definition">subst_te</span></a> <a class="idref" href="GMu.InfrastructureSubst.html#Z:113"><span class="id" title="variable">Z</span></a> <a class="idref" href="GMu.InfrastructureSubst.html#P:114"><span class="id" title="variable">P</span></a> <a class="idref" href="GMu.InfrastructureSubst.html#e:112"><span class="id" title="variable">e</span></a>).<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;- <span class="id" title="var">lets</span>: <a class="idref" href="GMu.InfrastructureSubst.html#subst_tt_type"><span class="id" title="lemma">subst_tt_type</span></a>. <span class="id" title="tactic">induction</span> 1; <span class="id" title="tactic">intros</span>; <span class="id" title="var">cbn</span>; <span class="id" title="tactic">auto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="tactic">constructor</span>×.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span>× <a class="idref" href="GMu.InfrastructureSubst.html#subst_map_reverse_type"><span class="id" title="lemma">subst_map_reverse_type</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="var">apply_fresh</span>× <a class="idref" href="GMu.Definitions.html#term_abs"><span class="id" title="constructor">term_abs</span></a> <span class="id" title="keyword">as</span> <span class="id" title="var">x</span>. <span class="id" title="tactic">rewrite</span>× <a class="idref" href="GMu.InfrastructureSubst.html#subst_te_open_ee_var"><span class="id" title="lemma">subst_te_open_ee_var</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="var">apply_fresh</span>× <a class="idref" href="GMu.Definitions.html#term_tabs"><span class="id" title="constructor">term_tabs</span></a> <span class="id" title="keyword">as</span> <span class="id" title="var">x</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span>× <a class="idref" href="GMu.InfrastructureSubst.html#subst_te_open_te_var"><span class="id" title="lemma">subst_te_open_te_var</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span>× <a class="idref" href="GMu.InfrastructureSubst.html#subst_te_open_te_var"><span class="id" title="lemma">subst_te_open_te_var</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="var">apply_fresh</span>× <a class="idref" href="GMu.Definitions.html#term_fix"><span class="id" title="constructor">term_fix</span></a> <span class="id" title="keyword">as</span> <span class="id" title="var">x</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span>× <a class="idref" href="GMu.InfrastructureSubst.html#subst_te_open_ee_var"><span class="id" title="lemma">subst_te_open_ee_var</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span>× <a class="idref" href="GMu.InfrastructureSubst.html#subst_te_open_ee_var"><span class="id" title="lemma">subst_te_open_ee_var</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="var">apply_fresh</span>× <a class="idref" href="GMu.Definitions.html#term_let"><span class="id" title="constructor">term_let</span></a> <span class="id" title="keyword">as</span> <span class="id" title="var">x</span>. <span class="id" title="tactic">rewrite</span>× <a class="idref" href="GMu.InfrastructureSubst.html#subst_te_open_ee_var"><span class="id" title="lemma">subst_te_open_ee_var</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="tactic">econstructor</span>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intros</span> <span class="id" title="var">cl</span> <span class="id" title="var">clinmap</span> <span class="id" title="var">Alphas</span> <span class="id" title="var">x</span> <span class="id" title="var">Hlen</span> <span class="id" title="var">Hdist</span> <span class="id" title="var">Afresh</span> <span class="id" title="var">xfresh</span> <span class="id" title="var">xfreshA</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">cl</span> <span class="id" title="keyword">as</span> [<span class="id" title="var">clA</span> <span class="id" title="var">clT</span>].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">unfold</span> <a class="idref" href="GMu.Definitions.html#map_clause_trm_trm"><span class="id" title="definition">map_clause_trm_trm</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">clinmap</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">lets</span> <span class="id" title="var">cl2</span>: <span class="id" title="var">clinmap</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.0/stdlib//Coq.Lists.List.html#in_map_iff"><span class="id" title="lemma">List.in_map_iff</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">cl2</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">cl2</span> <span class="id" title="keyword">as</span> [[<span class="id" title="var">cl'A</span> <span class="id" title="var">cl'T</span>] [<span class="id" title="var">cl'eq</span> <span class="id" title="var">cl'in</span>]].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">inversion</span> <span class="id" title="var">cl'eq</span>. <span class="id" title="tactic">subst</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">cbn</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">lets</span>× <span class="id" title="var">IH</span>: <span class="id" title="var">H2</span> <span class="id" title="var">cl'in</span> <span class="id" title="var">Alphas</span> <span class="id" title="var">x</span> <span class="id" title="var">Hlen</span> <span class="id" title="var">Hdist</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">cbn</span> <span class="id" title="tactic">in</span> <span class="id" title="var">IH</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">instantiate</span> (1:=(<span class="id" title="var">L</span> <span class="id" title="notation">\</span><span class="id" title="notation">u</span> <span class="id" title="notation">\{</span> <span class="id" title="var">Z</span> <span class="id" title="notation">}</span>)) <span class="id" title="tactic">in</span> <span class="id" title="var">Afresh</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">assert</span> (<span class="id" title="var">Hpull</span>:<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="GMu.Definitions.html#open_te_many_var"><span class="id" title="definition">open_te_many_var</span></a> <span class="id" title="var">Alphas</span> (<a class="idref" href="GMu.Definitions.html#subst_te"><span class="id" title="definition">subst_te</span></a> <span class="id" title="var">Z</span> <span class="id" title="var">P</span> <span class="id" title="var">cl'T</span>) <a class="idref" href="GMu.Definitions.html#:::x_'open_ee_varlam'_x"><span class="id" title="notation">open_ee_varlam</span></a> <span class="id" title="var">x</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/V8.13.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="GMu.Definitions.html#subst_te"><span class="id" title="definition">subst_te</span></a> <span class="id" title="var">Z</span> <span class="id" title="var">P</span> (<a class="idref" href="GMu.Definitions.html#open_te_many_var"><span class="id" title="definition">open_te_many_var</span></a> <span class="id" title="var">Alphas</span> <span class="id" title="var">cl'T</span> <a class="idref" href="GMu.Definitions.html#:::x_'open_ee_varlam'_x"><span class="id" title="notation">open_ee_varlam</span></a> <span class="id" title="var">x</span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;× <span class="id" title="tactic">rewrite</span> &lt;- <a class="idref" href="GMu.InfrastructureSubst.html#subst_commutes_with_unrelated_opens_te_te"><span class="id" title="lemma">subst_commutes_with_unrelated_opens_te_te</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span>× <a class="idref" href="GMu.InfrastructureSubst.html#subst_te_open_ee_var"><span class="id" title="lemma">subst_te_open_ee_var</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;-- <span class="id" title="tactic">intros</span> <span class="id" title="var">A</span> <span class="id" title="var">AAlpha</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">assert</span> (<span class="id" title="var">A</span> <span class="id" title="notation">\</span><span class="id" title="notation">notin</span> <span class="id" title="var">L</span> <span class="id" title="notation">\</span><span class="id" title="notation">u</span> <span class="id" title="notation">\{</span> <span class="id" title="var">Z</span> <span class="id" title="notation">}</span>); <span class="id" title="tactic">solve</span> [<span class="id" title="tactic">apply</span>× <span class="id" title="var">Afresh</span> | <span class="id" title="tactic">eauto</span>].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;-- <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;× <span class="id" title="tactic">rewrite</span> <span class="id" title="var">Hpull</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span>× <span class="id" title="var">IH</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">introv</span> <span class="id" title="var">Ain</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">assert</span> (<span class="id" title="var">A</span> <span class="id" title="notation">\</span><span class="id" title="notation">notin</span> <span class="id" title="var">L</span> <span class="id" title="notation">\</span><span class="id" title="notation">u</span> <span class="id" title="notation">\{</span> <span class="id" title="var">Z</span><span class="id" title="notation">}</span>); <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;- <span class="id" title="var">lets</span>: <a class="idref" href="GMu.InfrastructureSubst.html#subst_tt_type"><span class="id" title="lemma">subst_tt_type</span></a>; <span class="id" title="tactic">induction</span> 1; <span class="id" title="tactic">intros</span>; <span class="id" title="var">cbn</span>; <span class="id" title="tactic">auto</span>;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">match</span> <span class="id" title="keyword">goal</span> <span class="id" title="keyword">with</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| <span class="id" title="var">H</span>: <a class="idref" href="GMu.Definitions.html#term"><span class="id" title="inductive">term</span></a> <span class="id" title="var">_</span> |- <span class="id" title="var">_</span> ⇒ <span class="id" title="tactic">rename</span> <span class="id" title="var">H</span> <span class="id" title="var">into</span> <span class="id" title="var">Hterm</span> <span class="id" title="keyword">end</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="tactic">apply</span> <a class="idref" href="GMu.Definitions.html#value_abs"><span class="id" title="constructor">value_abs</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">inversions</span> <span class="id" title="var">Hterm</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">apply_fresh</span>× <a class="idref" href="GMu.Definitions.html#term_abs"><span class="id" title="constructor">term_abs</span></a> <span class="id" title="keyword">as</span> <span class="id" title="var">x</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span>× <a class="idref" href="GMu.InfrastructureSubst.html#subst_te_open_ee_var"><span class="id" title="lemma">subst_te_open_ee_var</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="tactic">apply</span> <a class="idref" href="GMu.Definitions.html#value_tabs"><span class="id" title="constructor">value_tabs</span></a>. <span class="id" title="tactic">inversion</span> <span class="id" title="var">Hterm</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">apply_fresh</span>× <a class="idref" href="GMu.Definitions.html#term_tabs"><span class="id" title="constructor">term_tabs</span></a> <span class="id" title="keyword">as</span> <span class="id" title="var">x</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span>× <a class="idref" href="GMu.InfrastructureSubst.html#subst_te_open_te_var"><span class="id" title="lemma">subst_te_open_te_var</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span>× <a class="idref" href="GMu.InfrastructureSubst.html#subst_te_open_te_var"><span class="id" title="lemma">subst_te_open_te_var</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="tactic">constructor</span>×.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">constructor</span>×.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;× <span class="id" title="tactic">apply</span>× <a class="idref" href="GMu.Prelude.html#value_is_term"><span class="id" title="lemma">value_is_term</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;× <span class="id" title="tactic">apply</span>× <a class="idref" href="GMu.InfrastructureSubst.html#subst_map_reverse_type"><span class="id" title="lemma">subst_map_reverse_type</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">inversion</span>× <span class="id" title="var">Hterm</span>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="comment">(*&nbsp;this&nbsp;may&nbsp;be&nbsp;problematic&nbsp;as&nbsp;I&nbsp;now&nbsp;require&nbsp;e2&nbsp;to&nbsp;be&nbsp;value&nbsp;not&nbsp;only&nbsp;term,&nbsp;but&nbsp;maybe&nbsp;it&nbsp;will&nbsp;be&nbsp;enough?&nbsp;*)</span><br/>
<span class="id" title="keyword">Lemma</span> <a id="subst_ee_term" class="idref" href="#subst_ee_term"><span class="id" title="lemma">subst_ee_term</span></a> : <span class="id" title="keyword">∀</span> <a id="e1:115" class="idref" href="#e1:115"><span class="id" title="binder">e1</span></a> <a id="Z:116" class="idref" href="#Z:116"><span class="id" title="binder">Z</span></a> <a id="e2:117" class="idref" href="#e2:117"><span class="id" title="binder">e2</span></a> <a id="k:118" class="idref" href="#k:118"><span class="id" title="binder">k</span></a>,<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="GMu.Definitions.html#term"><span class="id" title="inductive">term</span></a> <a class="idref" href="GMu.InfrastructureSubst.html#e1:115"><span class="id" title="variable">e1</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <a class="idref" href="GMu.Definitions.html#value"><span class="id" title="inductive">value</span></a> <a class="idref" href="GMu.InfrastructureSubst.html#e2:117"><span class="id" title="variable">e2</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <a class="idref" href="GMu.Definitions.html#term"><span class="id" title="inductive">term</span></a> (<a class="idref" href="GMu.Definitions.html#subst_ee"><span class="id" title="definition">subst_ee</span></a> <a class="idref" href="GMu.InfrastructureSubst.html#Z:116"><span class="id" title="variable">Z</span></a> <a class="idref" href="GMu.InfrastructureSubst.html#k:118"><span class="id" title="variable">k</span></a> <a class="idref" href="GMu.InfrastructureSubst.html#e2:117"><span class="id" title="variable">e2</span></a> <a class="idref" href="GMu.InfrastructureSubst.html#e1:115"><span class="id" title="variable">e1</span></a>)<br/>
<span class="id" title="keyword">with</span> <a id="subst_ee_value" class="idref" href="#subst_ee_value"><span class="id" title="lemma">subst_ee_value</span></a> : <span class="id" title="keyword">∀</span> <a id="e1:119" class="idref" href="#e1:119"><span class="id" title="binder">e1</span></a> <a id="Z:120" class="idref" href="#Z:120"><span class="id" title="binder">Z</span></a> <a id="e2:121" class="idref" href="#e2:121"><span class="id" title="binder">e2</span></a> <a id="k:122" class="idref" href="#k:122"><span class="id" title="binder">k</span></a>,<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="GMu.Definitions.html#value"><span class="id" title="inductive">value</span></a> <a class="idref" href="GMu.InfrastructureSubst.html#e1:119"><span class="id" title="variable">e1</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <a class="idref" href="GMu.Definitions.html#value"><span class="id" title="inductive">value</span></a> <a class="idref" href="GMu.InfrastructureSubst.html#e2:121"><span class="id" title="variable">e2</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <a class="idref" href="GMu.Definitions.html#value"><span class="id" title="inductive">value</span></a> (<a class="idref" href="GMu.Definitions.html#subst_ee"><span class="id" title="definition">subst_ee</span></a> <a class="idref" href="GMu.InfrastructureSubst.html#Z:120"><span class="id" title="variable">Z</span></a> <a class="idref" href="GMu.InfrastructureSubst.html#k:122"><span class="id" title="variable">k</span></a> <a class="idref" href="GMu.InfrastructureSubst.html#e2:121"><span class="id" title="variable">e2</span></a> <a class="idref" href="GMu.InfrastructureSubst.html#e1:119"><span class="id" title="variable">e1</span></a>).<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">induction</span> 1; <span class="id" title="tactic">intros</span>; <span class="id" title="tactic">simpl</span>; <span class="id" title="tactic">auto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="var">case_if</span>×. <span class="id" title="tactic">apply</span>¬ <a class="idref" href="GMu.Prelude.html#value_regular"><span class="id" title="lemma">value_regular</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="var">apply_fresh</span>× <a class="idref" href="GMu.Definitions.html#term_abs"><span class="id" title="constructor">term_abs</span></a> <span class="id" title="keyword">as</span> <span class="id" title="var">y</span>. <span class="id" title="tactic">rewrite</span>× <a class="idref" href="GMu.InfrastructureSubst.html#subst_ee_open_ee_var"><span class="id" title="lemma">subst_ee_open_ee_var</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span>¬ <a class="idref" href="GMu.Prelude.html#value_regular"><span class="id" title="lemma">value_regular</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="var">apply_fresh</span>× <a class="idref" href="GMu.Definitions.html#term_tabs"><span class="id" title="constructor">term_tabs</span></a> <span class="id" title="keyword">as</span> <span class="id" title="var">Y</span>; <span class="id" title="tactic">rewrite</span>× <a class="idref" href="GMu.InfrastructureSubst.html#subst_ee_open_te_var"><span class="id" title="lemma">subst_ee_open_te_var</span></a>;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span>¬ <a class="idref" href="GMu.Prelude.html#value_regular"><span class="id" title="lemma">value_regular</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="var">apply_fresh</span>× <a class="idref" href="GMu.Definitions.html#term_fix"><span class="id" title="constructor">term_fix</span></a> <span class="id" title="keyword">as</span> <span class="id" title="var">y</span>; <span class="id" title="tactic">rewrite</span>× <a class="idref" href="GMu.InfrastructureSubst.html#subst_ee_open_ee_var"><span class="id" title="lemma">subst_ee_open_ee_var</span></a>;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span>¬ <a class="idref" href="GMu.Prelude.html#value_regular"><span class="id" title="lemma">value_regular</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="var">apply_fresh</span>× <a class="idref" href="GMu.Definitions.html#term_let"><span class="id" title="constructor">term_let</span></a> <span class="id" title="keyword">as</span> <span class="id" title="var">y</span>. <span class="id" title="tactic">rewrite</span>× <a class="idref" href="GMu.InfrastructureSubst.html#subst_ee_open_ee_var"><span class="id" title="lemma">subst_ee_open_ee_var</span></a>;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span>¬ <a class="idref" href="GMu.Prelude.html#value_regular"><span class="id" title="lemma">value_regular</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="tactic">econstructor</span>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intros</span> <span class="id" title="var">cl</span> <span class="id" title="var">clinmap</span> <span class="id" title="var">Alphas</span> <span class="id" title="var">x</span> <span class="id" title="var">Hlen</span> <span class="id" title="var">Hdist</span> <span class="id" title="var">Afresh</span> <span class="id" title="var">xfresh</span> <span class="id" title="var">xfreshA</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">cl</span> <span class="id" title="keyword">as</span> [<span class="id" title="var">clA</span> <span class="id" title="var">clT</span>].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">unfold</span> <a class="idref" href="GMu.Definitions.html#map_clause_trm_trm"><span class="id" title="definition">map_clause_trm_trm</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">clinmap</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">lets</span> <span class="id" title="var">cl2</span>: <span class="id" title="var">clinmap</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.0/stdlib//Coq.Lists.List.html#in_map_iff"><span class="id" title="lemma">List.in_map_iff</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">cl2</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">cl2</span> <span class="id" title="keyword">as</span> [[<span class="id" title="var">cl'A</span> <span class="id" title="var">cl'T</span>] [<span class="id" title="var">cl'eq</span> <span class="id" title="var">cl'in</span>]].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">inversion</span> <span class="id" title="var">cl'eq</span>. <span class="id" title="tactic">subst</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">cbn</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">lets</span>× <span class="id" title="var">IH</span>: <span class="id" title="var">H1</span> <span class="id" title="var">cl'in</span> <span class="id" title="var">Alphas</span> <span class="id" title="var">x</span> <span class="id" title="var">Hlen</span> <span class="id" title="var">Hdist</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">cbn</span> <span class="id" title="tactic">in</span> <span class="id" title="var">IH</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">instantiate</span> (1:=(<span class="id" title="var">L</span> <span class="id" title="notation">\</span><span class="id" title="notation">u</span> <span class="id" title="notation">\{</span> <span class="id" title="var">Z</span> <span class="id" title="notation">}</span>)) <span class="id" title="tactic">in</span> <span class="id" title="var">Afresh</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span>× &lt;- <a class="idref" href="GMu.InfrastructureSubst.html#subst_commutes_with_unrelated_opens_te_ee"><span class="id" title="lemma">subst_commutes_with_unrelated_opens_te_ee</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;× <span class="id" title="tactic">rewrite</span>× <a class="idref" href="GMu.InfrastructureSubst.html#subst_ee_open_ee_var"><span class="id" title="lemma">subst_ee_open_ee_var</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span>× <span class="id" title="var">IH</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intros</span> <span class="id" title="var">A</span> <span class="id" title="var">AAlpha</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">assert</span> (<span class="id" title="var">A</span> <span class="id" title="notation">\</span><span class="id" title="notation">notin</span> <span class="id" title="var">L</span> <span class="id" title="notation">\</span><span class="id" title="notation">u</span> <span class="id" title="notation">\{</span> <span class="id" title="var">Z</span> <span class="id" title="notation">}</span>); <span class="id" title="tactic">solve</span> [<span class="id" title="tactic">apply</span>× <span class="id" title="var">Afresh</span> | <span class="id" title="tactic">eauto</span>].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span>¬ <a class="idref" href="GMu.Prelude.html#value_regular"><span class="id" title="lemma">value_regular</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;× <span class="id" title="tactic">apply</span>¬ <a class="idref" href="GMu.Prelude.html#value_regular"><span class="id" title="lemma">value_regular</span></a>.<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">induction</span> 1; <span class="id" title="tactic">intros</span>; <span class="id" title="tactic">simpl</span>; <span class="id" title="tactic">auto</span>;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">try</span> <span class="id" title="keyword">match</span> <span class="id" title="keyword">goal</span> <span class="id" title="keyword">with</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| <span class="id" title="var">H</span>: <a class="idref" href="GMu.Definitions.html#term"><span class="id" title="inductive">term</span></a> (<a class="idref" href="GMu.Definitions.html#trm_abs"><span class="id" title="constructor">trm_abs</span></a> <span class="id" title="var">_</span> <span class="id" title="var">_</span>) |- <span class="id" title="var">_</span> ⇒ <span class="id" title="tactic">rename</span> <span class="id" title="var">H</span> <span class="id" title="var">into</span> <span class="id" title="var">Hterm</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| <span class="id" title="var">H</span>: <a class="idref" href="GMu.Definitions.html#term"><span class="id" title="inductive">term</span></a> (<a class="idref" href="GMu.Definitions.html#trm_tabs"><span class="id" title="constructor">trm_tabs</span></a> <span class="id" title="var">_</span>) |- <span class="id" title="var">_</span> ⇒ <span class="id" title="tactic">rename</span> <span class="id" title="var">H</span> <span class="id" title="var">into</span> <span class="id" title="var">Hterm</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">end</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="tactic">apply</span> <a class="idref" href="GMu.Definitions.html#value_abs"><span class="id" title="constructor">value_abs</span></a>. <span class="id" title="var">inversions</span> <span class="id" title="var">Hterm</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">apply_fresh</span>× <a class="idref" href="GMu.Definitions.html#term_abs"><span class="id" title="constructor">term_abs</span></a> <span class="id" title="keyword">as</span> <span class="id" title="var">y</span>. <span class="id" title="tactic">rewrite</span>× <a class="idref" href="GMu.InfrastructureSubst.html#subst_ee_open_ee_var"><span class="id" title="lemma">subst_ee_open_ee_var</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span>¬ <a class="idref" href="GMu.Prelude.html#value_regular"><span class="id" title="lemma">value_regular</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="tactic">apply</span> <a class="idref" href="GMu.Definitions.html#value_tabs"><span class="id" title="constructor">value_tabs</span></a>; <span class="id" title="var">inversions</span> <span class="id" title="var">Hterm</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">apply_fresh</span>× <a class="idref" href="GMu.Definitions.html#term_tabs"><span class="id" title="constructor">term_tabs</span></a> <span class="id" title="keyword">as</span> <span class="id" title="var">Y</span>; <span class="id" title="tactic">rewrite</span>× <a class="idref" href="GMu.InfrastructureSubst.html#subst_ee_open_te_var"><span class="id" title="lemma">subst_ee_open_te_var</span></a>;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span>¬ <a class="idref" href="GMu.Prelude.html#value_regular"><span class="id" title="lemma">value_regular</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="var">case_if</span>¬.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="tactic">econstructor</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;× <span class="id" title="tactic">econstructor</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;-- <span class="id" title="tactic">apply</span>× <a class="idref" href="GMu.Prelude.html#value_is_term"><span class="id" title="lemma">value_is_term</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;-- <span class="id" title="tactic">inversion</span>× <span class="id" title="var">H</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;× <span class="id" title="tactic">apply</span>× <span class="id" title="var">IHvalue</span>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="subst_idempotent" class="idref" href="#subst_idempotent"><span class="id" title="lemma">subst_idempotent</span></a> : <span class="id" title="keyword">∀</span> <a id="U:123" class="idref" href="#U:123"><span class="id" title="binder">U</span></a> <a id="Z:124" class="idref" href="#Z:124"><span class="id" title="binder">Z</span></a> <a id="P:125" class="idref" href="#P:125"><span class="id" title="binder">P</span></a>,<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="GMu.InfrastructureSubst.html#Z:124"><span class="id" title="variable">Z</span></a> <span class="id" title="notation">\</span><span class="id" title="notation">notin</span> <a class="idref" href="GMu.Definitions.html#fv_typ"><span class="id" title="definition">fv_typ</span></a> <a class="idref" href="GMu.InfrastructureSubst.html#P:125"><span class="id" title="variable">P</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="GMu.Definitions.html#subst_tt"><span class="id" title="definition">subst_tt</span></a> <a class="idref" href="GMu.InfrastructureSubst.html#Z:124"><span class="id" title="variable">Z</span></a> <a class="idref" href="GMu.InfrastructureSubst.html#P:125"><span class="id" title="variable">P</span></a> <a class="idref" href="GMu.InfrastructureSubst.html#U:123"><span class="id" title="variable">U</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="GMu.Definitions.html#subst_tt"><span class="id" title="definition">subst_tt</span></a> <a class="idref" href="GMu.InfrastructureSubst.html#Z:124"><span class="id" title="variable">Z</span></a> <a class="idref" href="GMu.InfrastructureSubst.html#P:125"><span class="id" title="variable">P</span></a> (<a class="idref" href="GMu.Definitions.html#subst_tt"><span class="id" title="definition">subst_tt</span></a> <a class="idref" href="GMu.InfrastructureSubst.html#Z:124"><span class="id" title="variable">Z</span></a> <a class="idref" href="GMu.InfrastructureSubst.html#P:125"><span class="id" title="variable">P</span></a> <a class="idref" href="GMu.InfrastructureSubst.html#U:123"><span class="id" title="variable">U</span></a>).<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">induction</span> <span class="id" title="var">U</span> <span class="id" title="keyword">using</span> <a class="idref" href="GMu.Definitions.html#typ_ind'"><span class="id" title="definition">typ_ind'</span></a>; <span class="id" title="var">introv</span> <span class="id" title="var">FV</span>; <span class="id" title="tactic">try</span> <span class="id" title="tactic">solve</span> [<span class="id" title="var">cbn</span>; <span class="id" title="tactic">eauto</span>].<br/>
&nbsp;&nbsp;- <span class="id" title="var">cbn</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">case_if</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="tactic">rewrite</span>× <a class="idref" href="GMu.InfrastructureSubst.html#subst_tt_fresh"><span class="id" title="lemma">subst_tt_fresh</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="var">cbn</span>. <span class="id" title="var">case_if</span>. <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;- <span class="id" title="var">cbn</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span>× &lt;- <span class="id" title="var">IHU1</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span>× &lt;- <span class="id" title="var">IHU2</span>.<br/>
&nbsp;&nbsp;- <span class="id" title="var">cbn</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span>× &lt;- <span class="id" title="var">IHU1</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span>× &lt;- <span class="id" title="var">IHU2</span>.<br/>
&nbsp;&nbsp;- <span class="id" title="var">cbn</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span>× &lt;- <span class="id" title="var">IHU</span>.<br/>
&nbsp;&nbsp;- <span class="id" title="var">cbn</span>. <span class="id" title="tactic">f_equal</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.0/stdlib//Coq.Lists.List.html#map_map"><span class="id" title="lemma">List.map_map</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span>× <a class="idref" href="http://coq.inria.fr/distrib/V8.13.0/stdlib//Coq.Lists.List.html#map_ext_in"><span class="id" title="lemma">List.map_ext_in</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">introv</span> <span class="id" title="var">ain</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.0/stdlib//Coq.Lists.List.html#Forall_forall"><span class="id" title="lemma">List.Forall_forall</span></a> <span class="id" title="tactic">in</span> ×.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eauto</span>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="subst_idempotent_through_many_open" class="idref" href="#subst_idempotent_through_many_open"><span class="id" title="lemma">subst_idempotent_through_many_open</span></a> : <span class="id" title="keyword">∀</span> <a id="Tts:126" class="idref" href="#Tts:126"><span class="id" title="binder">Tts</span></a> <a id="Z:127" class="idref" href="#Z:127"><span class="id" title="binder">Z</span></a> <a id="U:128" class="idref" href="#U:128"><span class="id" title="binder">U</span></a> <a id="P:129" class="idref" href="#P:129"><span class="id" title="binder">P</span></a>,<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="GMu.Definitions.html#type"><span class="id" title="inductive">type</span></a> <a class="idref" href="GMu.InfrastructureSubst.html#P:129"><span class="id" title="variable">P</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="GMu.InfrastructureSubst.html#Z:127"><span class="id" title="variable">Z</span></a> <span class="id" title="notation">\</span><span class="id" title="notation">notin</span> <a class="idref" href="GMu.Definitions.html#fv_typ"><span class="id" title="definition">fv_typ</span></a> <a class="idref" href="GMu.InfrastructureSubst.html#P:129"><span class="id" title="variable">P</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="GMu.Definitions.html#subst_tt"><span class="id" title="definition">subst_tt</span></a> <a class="idref" href="GMu.InfrastructureSubst.html#Z:127"><span class="id" title="variable">Z</span></a> <a class="idref" href="GMu.InfrastructureSubst.html#P:129"><span class="id" title="variable">P</span></a> (<a class="idref" href="GMu.Definitions.html#open_tt_many"><span class="id" title="definition">open_tt_many</span></a> <a class="idref" href="GMu.InfrastructureSubst.html#Tts:126"><span class="id" title="variable">Tts</span></a> <a class="idref" href="GMu.InfrastructureSubst.html#U:128"><span class="id" title="variable">U</span></a>) <a class="idref" href="http://coq.inria.fr/distrib/V8.13.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="GMu.Definitions.html#subst_tt"><span class="id" title="definition">subst_tt</span></a> <a class="idref" href="GMu.InfrastructureSubst.html#Z:127"><span class="id" title="variable">Z</span></a> <a class="idref" href="GMu.InfrastructureSubst.html#P:129"><span class="id" title="variable">P</span></a> (<a class="idref" href="GMu.Definitions.html#open_tt_many"><span class="id" title="definition">open_tt_many</span></a> <a class="idref" href="GMu.InfrastructureSubst.html#Tts:126"><span class="id" title="variable">Tts</span></a> (<a class="idref" href="GMu.Definitions.html#subst_tt"><span class="id" title="definition">subst_tt</span></a> <a class="idref" href="GMu.InfrastructureSubst.html#Z:127"><span class="id" title="variable">Z</span></a> <a class="idref" href="GMu.InfrastructureSubst.html#P:129"><span class="id" title="variable">P</span></a> <a class="idref" href="GMu.InfrastructureSubst.html#U:128"><span class="id" title="variable">U</span></a>)).<br/>
&nbsp;&nbsp;<span class="id" title="tactic">induction</span> <span class="id" title="var">Tts</span>; <span class="id" title="var">introv</span> <span class="id" title="var">TP</span> <span class="id" title="var">FV</span>.<br/>
&nbsp;&nbsp;- <span class="id" title="var">cbn</span>. <span class="id" title="tactic">apply</span>× <a class="idref" href="GMu.InfrastructureSubst.html#subst_idempotent"><span class="id" title="lemma">subst_idempotent</span></a>.<br/>
&nbsp;&nbsp;- <span class="id" title="var">cbn</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span>× <span class="id" title="var">IHTts</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span>× (<span class="id" title="var">IHTts</span> <span class="id" title="var">Z</span> (<a class="idref" href="GMu.Definitions.html#open_tt"><span class="id" title="definition">open_tt</span></a> (<a class="idref" href="GMu.Definitions.html#subst_tt"><span class="id" title="definition">subst_tt</span></a> <span class="id" title="var">Z</span> <span class="id" title="var">P</span> <span class="id" title="var">U</span>) <span class="id" title="var">a</span>) <span class="id" title="var">P</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">f_equal</span>. <span class="id" title="tactic">f_equal</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">repeat</span> <span class="id" title="tactic">rewrite</span>× <a class="idref" href="GMu.InfrastructureSubst.html#subst_tt_open_tt"><span class="id" title="lemma">subst_tt_open_tt</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">f_equal</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span>× <a class="idref" href="GMu.InfrastructureSubst.html#subst_idempotent"><span class="id" title="lemma">subst_idempotent</span></a>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="subst_removes_var" class="idref" href="#subst_removes_var"><span class="id" title="lemma">subst_removes_var</span></a> : <span class="id" title="keyword">∀</span> <a id="T:130" class="idref" href="#T:130"><span class="id" title="binder">T</span></a> <a id="U:131" class="idref" href="#U:131"><span class="id" title="binder">U</span></a> <a id="Z:132" class="idref" href="#Z:132"><span class="id" title="binder">Z</span></a>,<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="GMu.InfrastructureSubst.html#Z:132"><span class="id" title="variable">Z</span></a> <span class="id" title="notation">\</span><span class="id" title="notation">notin</span> <a class="idref" href="GMu.Definitions.html#fv_typ"><span class="id" title="definition">fv_typ</span></a> <a class="idref" href="GMu.InfrastructureSubst.html#U:131"><span class="id" title="variable">U</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="GMu.InfrastructureSubst.html#Z:132"><span class="id" title="variable">Z</span></a> <span class="id" title="notation">\</span><span class="id" title="notation">notin</span> <a class="idref" href="GMu.Definitions.html#fv_typ"><span class="id" title="definition">fv_typ</span></a> (<a class="idref" href="GMu.Definitions.html#subst_tt"><span class="id" title="definition">subst_tt</span></a> <a class="idref" href="GMu.InfrastructureSubst.html#Z:132"><span class="id" title="variable">Z</span></a> <a class="idref" href="GMu.InfrastructureSubst.html#U:131"><span class="id" title="variable">U</span></a> <a class="idref" href="GMu.InfrastructureSubst.html#T:130"><span class="id" title="variable">T</span></a>).<br/>
&nbsp;&nbsp;<span class="id" title="tactic">induction</span> <span class="id" title="var">T</span> <span class="id" title="keyword">using</span> <a class="idref" href="GMu.Definitions.html#typ_ind'"><span class="id" title="definition">typ_ind'</span></a>; <span class="id" title="var">introv</span> <span class="id" title="var">FU</span>; <span class="id" title="var">cbn</span>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;- <span class="id" title="var">case_if</span>; <span class="id" title="var">cbn</span>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">rewrite</span> <a class="idref" href="GMu.Prelude.html#list_fold_map"><span class="id" title="lemma">list_fold_map</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.0/stdlib//Coq.Lists.List.html#Forall_forall"><span class="id" title="lemma">List.Forall_forall</span></a> <span class="id" title="tactic">in</span> ×.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span>× <a class="idref" href="GMu.InfrastructureFV.html#notin_fold"><span class="id" title="lemma">notin_fold</span></a>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="subst_commutes_open_tt_many" class="idref" href="#subst_commutes_open_tt_many"><span class="id" title="lemma">subst_commutes_open_tt_many</span></a> : <span class="id" title="keyword">∀</span> <a id="Ts:133" class="idref" href="#Ts:133"><span class="id" title="binder">Ts</span></a> <a id="Z:134" class="idref" href="#Z:134"><span class="id" title="binder">Z</span></a> <a id="P:135" class="idref" href="#P:135"><span class="id" title="binder">P</span></a> <a id="U:136" class="idref" href="#U:136"><span class="id" title="binder">U</span></a>,<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="GMu.Definitions.html#type"><span class="id" title="inductive">type</span></a> <a class="idref" href="GMu.InfrastructureSubst.html#P:135"><span class="id" title="variable">P</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="GMu.InfrastructureSubst.html#Z:134"><span class="id" title="variable">Z</span></a> <span class="id" title="notation">\</span><span class="id" title="notation">notin</span> <a class="idref" href="GMu.Definitions.html#fv_typ"><span class="id" title="definition">fv_typ</span></a> <a class="idref" href="GMu.InfrastructureSubst.html#P:135"><span class="id" title="variable">P</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="GMu.InfrastructureSubst.html#Z:134"><span class="id" title="variable">Z</span></a> <span class="id" title="notation">\</span><span class="id" title="notation">notin</span> <a class="idref" href="GMu.Definitions.html#fv_typ"><span class="id" title="definition">fv_typ</span></a> <a class="idref" href="GMu.InfrastructureSubst.html#U:136"><span class="id" title="variable">U</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="GMu.Definitions.html#subst_tt"><span class="id" title="definition">subst_tt</span></a> <a class="idref" href="GMu.InfrastructureSubst.html#Z:134"><span class="id" title="variable">Z</span></a> <a class="idref" href="GMu.InfrastructureSubst.html#P:135"><span class="id" title="variable">P</span></a> (<a class="idref" href="GMu.Definitions.html#open_tt_many"><span class="id" title="definition">open_tt_many</span></a> <a class="idref" href="GMu.InfrastructureSubst.html#Ts:133"><span class="id" title="variable">Ts</span></a> <a class="idref" href="GMu.InfrastructureSubst.html#U:136"><span class="id" title="variable">U</span></a>) <a class="idref" href="http://coq.inria.fr/distrib/V8.13.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="GMu.Definitions.html#open_tt_many"><span class="id" title="definition">open_tt_many</span></a> (<a class="idref" href="http://coq.inria.fr/distrib/V8.13.0/stdlib//Coq.Lists.List.html#map"><span class="id" title="definition">List.map</span></a> (<a class="idref" href="GMu.Definitions.html#subst_tt"><span class="id" title="definition">subst_tt</span></a> <a class="idref" href="GMu.InfrastructureSubst.html#Z:134"><span class="id" title="variable">Z</span></a> <a class="idref" href="GMu.InfrastructureSubst.html#P:135"><span class="id" title="variable">P</span></a>) <a class="idref" href="GMu.InfrastructureSubst.html#Ts:133"><span class="id" title="variable">Ts</span></a>) <a class="idref" href="GMu.InfrastructureSubst.html#U:136"><span class="id" title="variable">U</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">induction</span> <span class="id" title="var">Ts</span> <span class="id" title="keyword">as</span> [| <span class="id" title="var">Th</span> <span class="id" title="var">Tts</span>]; <span class="id" title="var">introv</span> <span class="id" title="var">TP</span> <span class="id" title="var">FP</span> <span class="id" title="var">FU</span>.<br/>
&nbsp;&nbsp;- <span class="id" title="var">cbn</span>. <span class="id" title="tactic">apply</span>× <a class="idref" href="GMu.InfrastructureSubst.html#subst_tt_fresh"><span class="id" title="lemma">subst_tt_fresh</span></a>.<br/>
&nbsp;&nbsp;- <span class="id" title="var">cbn</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span>× <a class="idref" href="GMu.InfrastructureSubst.html#subst_idempotent_through_many_open"><span class="id" title="lemma">subst_idempotent_through_many_open</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span>× <a class="idref" href="GMu.InfrastructureSubst.html#subst_tt_open_tt"><span class="id" title="lemma">subst_tt_open_tt</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span>× (@<a class="idref" href="GMu.InfrastructureSubst.html#subst_tt_fresh"><span class="id" title="lemma">subst_tt_fresh</span></a> <span class="id" title="var">Z</span> <span class="id" title="var">P</span> <span class="id" title="var">U</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span>× <span class="id" title="var">IHTts</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">unfold</span> <a class="idref" href="GMu.Definitions.html#open_tt"><span class="id" title="definition">open_tt</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">lets</span>× <span class="id" title="var">FO</span>: <a class="idref" href="GMu.InfrastructureFV.html#fv_open"><span class="id" title="lemma">fv_open</span></a> <span class="id" title="var">U</span> (<a class="idref" href="GMu.Definitions.html#subst_tt"><span class="id" title="definition">subst_tt</span></a> <span class="id" title="var">Z</span> <span class="id" title="var">P</span> <span class="id" title="var">Th</span>) 0.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">FO</span> <span class="id" title="keyword">as</span> [<span class="id" title="var">FO</span> | <span class="id" title="var">FO</span>].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="tactic">rewrite</span> <span class="id" title="var">FO</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <span class="id" title="lemma">notin_union</span>; <span class="id" title="tactic">split</span>×.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span>× <a class="idref" href="GMu.InfrastructureSubst.html#subst_removes_var"><span class="id" title="lemma">subst_removes_var</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="tactic">rewrite</span>× <span class="id" title="var">FO</span>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Fixpoint</span> <a id="subst_te_many" class="idref" href="#subst_te_many"><span class="id" title="definition">subst_te_many</span></a> (<a id="Xs:137" class="idref" href="#Xs:137"><span class="id" title="binder">Xs</span></a> : <a class="idref" href="http://coq.inria.fr/distrib/V8.13.0/stdlib//Coq.Init.Datatypes.html#list"><span class="id" title="inductive">list</span></a> <span class="id" title="axiom">var</span>) (<a id="Us:138" class="idref" href="#Us:138"><span class="id" title="binder">Us</span></a> : <a class="idref" href="http://coq.inria.fr/distrib/V8.13.0/stdlib//Coq.Init.Datatypes.html#list"><span class="id" title="inductive">list</span></a> <a class="idref" href="GMu.Definitions.html#typ"><span class="id" title="inductive">typ</span></a>) (<a id="e:139" class="idref" href="#e:139"><span class="id" title="binder">e</span></a> : <a class="idref" href="GMu.Definitions.html#trm"><span class="id" title="inductive">trm</span></a>) :=<br/>
&nbsp;&nbsp;<span class="id" title="keyword">match</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">(</span></a><a class="idref" href="GMu.InfrastructureSubst.html#Xs:137"><span class="id" title="variable">Xs</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.13.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a> <a class="idref" href="GMu.InfrastructureSubst.html#Us:138"><span class="id" title="variable">Us</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.13.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">)</span></a> <span class="id" title="keyword">with</span><br/>
&nbsp;&nbsp;<span class="comment">(*&nbsp;|&nbsp;((List.cons&nbsp;X&nbsp;Xt),&nbsp;(List.cons&nbsp;U&nbsp;Ut))&nbsp;=&gt;&nbsp;subst_tt&nbsp;X&nbsp;U&nbsp;(subst_tt_many&nbsp;Xt&nbsp;Ut&nbsp;T)&nbsp;*)</span><br/>
&nbsp;&nbsp;| <a class="idref" href="http://coq.inria.fr/distrib/V8.13.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">((</span></a><span class="id" title="var">List.cons</span> <span class="id" title="var">X</span> <span class="id" title="var">Xt</span><a class="idref" href="http://coq.inria.fr/distrib/V8.13.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">),</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">(</span></a><span class="id" title="var">List.cons</span> <span class="id" title="var">U</span> <span class="id" title="var">Ut</span><a class="idref" href="http://coq.inria.fr/distrib/V8.13.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">))</span></a> ⇒ <a class="idref" href="GMu.InfrastructureSubst.html#subst_te_many:140"><span class="id" title="definition">subst_te_many</span></a> <span class="id" title="var">Xt</span> <span class="id" title="var">Ut</span> (<a class="idref" href="GMu.Definitions.html#subst_te"><span class="id" title="definition">subst_te</span></a> <span class="id" title="var">X</span> <span class="id" title="var">U</span> <a class="idref" href="GMu.InfrastructureSubst.html#e:139"><span class="id" title="variable">e</span></a>)<br/>
&nbsp;&nbsp;| <span class="id" title="var">_</span> ⇒ <a class="idref" href="GMu.InfrastructureSubst.html#e:139"><span class="id" title="variable">e</span></a><br/>
&nbsp;&nbsp;<span class="id" title="keyword">end</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="subst_commutes_with_unrelated_opens_te" class="idref" href="#subst_commutes_with_unrelated_opens_te"><span class="id" title="lemma">subst_commutes_with_unrelated_opens_te</span></a> : <span class="id" title="keyword">∀</span> <a id="Xs:141" class="idref" href="#Xs:141"><span class="id" title="binder">Xs</span></a> <a id="e:142" class="idref" href="#e:142"><span class="id" title="binder">e</span></a> <a id="V:143" class="idref" href="#V:143"><span class="id" title="binder">V</span></a> <a id="Y:144" class="idref" href="#Y:144"><span class="id" title="binder">Y</span></a>,<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/V8.13.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">(</span></a><span class="id" title="keyword">∀</span> <a id="X:145" class="idref" href="#X:145"><span class="id" title="binder">X</span></a>, <a class="idref" href="http://coq.inria.fr/distrib/V8.13.0/stdlib//Coq.Lists.List.html#In"><span class="id" title="definition">List.In</span></a> <a class="idref" href="GMu.InfrastructureSubst.html#X:145"><span class="id" title="variable">X</span></a> <a class="idref" href="GMu.InfrastructureSubst.html#Xs:141"><span class="id" title="variable">Xs</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <a class="idref" href="GMu.InfrastructureSubst.html#X:145"><span class="id" title="variable">X</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'&lt;&gt;'_x"><span class="id" title="notation">≠</span></a> <a class="idref" href="GMu.InfrastructureSubst.html#Y:144"><span class="id" title="variable">Y</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.13.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">)</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="GMu.Definitions.html#type"><span class="id" title="inductive">type</span></a> <a class="idref" href="GMu.InfrastructureSubst.html#V:143"><span class="id" title="variable">V</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="GMu.Definitions.html#subst_te"><span class="id" title="definition">subst_te</span></a> <a class="idref" href="GMu.InfrastructureSubst.html#Y:144"><span class="id" title="variable">Y</span></a> <a class="idref" href="GMu.InfrastructureSubst.html#V:143"><span class="id" title="variable">V</span></a> (<a class="idref" href="GMu.Definitions.html#open_te_many_var"><span class="id" title="definition">open_te_many_var</span></a> <a class="idref" href="GMu.InfrastructureSubst.html#Xs:141"><span class="id" title="variable">Xs</span></a> <a class="idref" href="GMu.InfrastructureSubst.html#e:142"><span class="id" title="variable">e</span></a>) <a class="idref" href="http://coq.inria.fr/distrib/V8.13.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/V8.13.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">(</span></a><a class="idref" href="GMu.Definitions.html#open_te_many_var"><span class="id" title="definition">open_te_many_var</span></a> <a class="idref" href="GMu.InfrastructureSubst.html#Xs:141"><span class="id" title="variable">Xs</span></a> (<a class="idref" href="GMu.Definitions.html#subst_te"><span class="id" title="definition">subst_te</span></a> <a class="idref" href="GMu.InfrastructureSubst.html#Y:144"><span class="id" title="variable">Y</span></a> <a class="idref" href="GMu.InfrastructureSubst.html#V:143"><span class="id" title="variable">V</span></a> <a class="idref" href="GMu.InfrastructureSubst.html#e:142"><span class="id" title="variable">e</span></a>)<a class="idref" href="http://coq.inria.fr/distrib/V8.13.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">)</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">induction</span> <span class="id" title="var">Xs</span> <span class="id" title="keyword">as</span> [| <span class="id" title="var">Xh</span> <span class="id" title="var">Xt</span>]; <span class="id" title="var">introv</span> <span class="id" title="var">Hneq</span> <span class="id" title="var">Htyp</span>.<br/>
&nbsp;&nbsp;- <span class="id" title="var">cbn</span>. <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;- <span class="id" title="var">cbn</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">fold</span> (<a class="idref" href="GMu.Definitions.html#open_te_many_var"><span class="id" title="definition">open_te_many_var</span></a> <span class="id" title="var">Xt</span> (<span class="id" title="var">e</span> <a class="idref" href="GMu.Definitions.html#:::x_'open_te_var'_x"><span class="id" title="notation">open_te_var</span></a> <span class="id" title="var">Xh</span>)).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">fold</span> (<a class="idref" href="GMu.Definitions.html#open_te_many_var"><span class="id" title="definition">open_te_many_var</span></a> <span class="id" title="var">Xt</span> (<a class="idref" href="GMu.Definitions.html#subst_te"><span class="id" title="definition">subst_te</span></a> <span class="id" title="var">Y</span> <span class="id" title="var">V</span> <span class="id" title="var">e</span> <a class="idref" href="GMu.Definitions.html#:::x_'open_te_var'_x"><span class="id" title="notation">open_te_var</span></a> <span class="id" title="var">Xh</span>)).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span>× <a class="idref" href="GMu.InfrastructureSubst.html#subst_te_open_te_var"><span class="id" title="lemma">subst_te_open_te_var</span></a>; <span class="id" title="tactic">eauto</span> <span class="id" title="keyword">with</span> <span class="id" title="var">listin</span>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="subst_intro_commutes_opens_te" class="idref" href="#subst_intro_commutes_opens_te"><span class="id" title="lemma">subst_intro_commutes_opens_te</span></a> : <span class="id" title="keyword">∀</span> <a id="Xs:146" class="idref" href="#Xs:146"><span class="id" title="binder">Xs</span></a> <a id="e:147" class="idref" href="#e:147"><span class="id" title="binder">e</span></a> <a id="Y:148" class="idref" href="#Y:148"><span class="id" title="binder">Y</span></a> <a id="V:149" class="idref" href="#V:149"><span class="id" title="binder">V</span></a>,<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="GMu.InfrastructureSubst.html#Y:148"><span class="id" title="variable">Y</span></a> <span class="id" title="notation">\</span><span class="id" title="notation">notin</span> <a class="idref" href="GMu.Definitions.html#fv_trm"><span class="id" title="definition">fv_trm</span></a> <a class="idref" href="GMu.InfrastructureSubst.html#e:147"><span class="id" title="variable">e</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/V8.13.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">(</span></a><span class="id" title="keyword">∀</span> <a id="X:150" class="idref" href="#X:150"><span class="id" title="binder">X</span></a>, <a class="idref" href="http://coq.inria.fr/distrib/V8.13.0/stdlib//Coq.Lists.List.html#In"><span class="id" title="definition">List.In</span></a> <a class="idref" href="GMu.InfrastructureSubst.html#X:150"><span class="id" title="variable">X</span></a> <a class="idref" href="GMu.InfrastructureSubst.html#Xs:146"><span class="id" title="variable">Xs</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <a class="idref" href="GMu.InfrastructureSubst.html#X:150"><span class="id" title="variable">X</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'&lt;&gt;'_x"><span class="id" title="notation">≠</span></a> <a class="idref" href="GMu.InfrastructureSubst.html#Y:148"><span class="id" title="variable">Y</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.13.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">)</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="GMu.Definitions.html#type"><span class="id" title="inductive">type</span></a> <a class="idref" href="GMu.InfrastructureSubst.html#V:149"><span class="id" title="variable">V</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="GMu.Definitions.html#open_te_many_var"><span class="id" title="definition">open_te_many_var</span></a> <a class="idref" href="GMu.InfrastructureSubst.html#Xs:146"><span class="id" title="variable">Xs</span></a> (<a class="idref" href="GMu.Definitions.html#open_te"><span class="id" title="definition">open_te</span></a> <a class="idref" href="GMu.InfrastructureSubst.html#e:147"><span class="id" title="variable">e</span></a> <a class="idref" href="GMu.InfrastructureSubst.html#V:149"><span class="id" title="variable">V</span></a>) <a class="idref" href="http://coq.inria.fr/distrib/V8.13.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="GMu.Definitions.html#subst_te"><span class="id" title="definition">subst_te</span></a> <a class="idref" href="GMu.InfrastructureSubst.html#Y:148"><span class="id" title="variable">Y</span></a> <a class="idref" href="GMu.InfrastructureSubst.html#V:149"><span class="id" title="variable">V</span></a> (<a class="idref" href="GMu.Definitions.html#open_te_many_var"><span class="id" title="definition">open_te_many_var</span></a> <a class="idref" href="GMu.InfrastructureSubst.html#Xs:146"><span class="id" title="variable">Xs</span></a> (<a class="idref" href="GMu.InfrastructureSubst.html#e:147"><span class="id" title="variable">e</span></a> <a class="idref" href="GMu.Definitions.html#:::x_'open_te_var'_x"><span class="id" title="notation">open_te_var</span></a> <a class="idref" href="GMu.InfrastructureSubst.html#Y:148"><span class="id" title="variable">Y</span></a>)).<br/>
&nbsp;&nbsp;<span class="id" title="tactic">induction</span> <span class="id" title="var">Xs</span> <span class="id" title="keyword">as</span> [| <span class="id" title="var">Xh</span> <span class="id" title="var">Xt</span>]; <span class="id" title="var">introv</span> <span class="id" title="var">Hfv</span> <span class="id" title="var">Hneq</span> <span class="id" title="var">Htyp</span>.<br/>
&nbsp;&nbsp;- <span class="id" title="var">cbn</span>. <span class="id" title="tactic">apply</span>× <a class="idref" href="GMu.InfrastructureSubst.html#subst_te_intro"><span class="id" title="lemma">subst_te_intro</span></a>.<br/>
&nbsp;&nbsp;- <span class="id" title="var">cbn</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">fold</span> (<a class="idref" href="GMu.Definitions.html#open_te_many_var"><span class="id" title="definition">open_te_many_var</span></a> <span class="id" title="var">Xt</span> (<a class="idref" href="GMu.Definitions.html#open_te"><span class="id" title="definition">open_te</span></a> <span class="id" title="var">e</span> <span class="id" title="var">V</span> <a class="idref" href="GMu.Definitions.html#:::x_'open_te_var'_x"><span class="id" title="notation">open_te_var</span></a> <span class="id" title="var">Xh</span>)).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">fold</span> (<a class="idref" href="GMu.Definitions.html#open_te_many_var"><span class="id" title="definition">open_te_many_var</span></a> <span class="id" title="var">Xt</span> (<a class="idref" href="GMu.Definitions.html#:::x_'open_te_var'_x"><span class="id" title="notation">(</span></a><span class="id" title="var">e</span> <a class="idref" href="GMu.Definitions.html#:::x_'open_te_var'_x"><span class="id" title="notation">open_te_var</span></a> <span class="id" title="var">Y</span><a class="idref" href="GMu.Definitions.html#:::x_'open_te_var'_x"><span class="id" title="notation">)</span></a> <a class="idref" href="GMu.Definitions.html#:::x_'open_te_var'_x"><span class="id" title="notation">open_te_var</span></a> <span class="id" title="var">Xh</span>)).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span>× <a class="idref" href="GMu.InfrastructureSubst.html#subst_commutes_with_unrelated_opens_te"><span class="id" title="lemma">subst_commutes_with_unrelated_opens_te</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">f_equal</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span>× &lt;- <a class="idref" href="GMu.InfrastructureSubst.html#subst_te_open_te_var"><span class="id" title="lemma">subst_te_open_te_var</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="tactic">rewrite</span>× &lt;- <a class="idref" href="GMu.InfrastructureSubst.html#subst_te_intro"><span class="id" title="lemma">subst_te_intro</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="tactic">apply</span>× <span class="id" title="var">Hneq</span>. <span class="id" title="var">cbn</span>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="tactic">eauto</span> <span class="id" title="keyword">with</span> <span class="id" title="var">listin</span>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="subst_te_intro_many" class="idref" href="#subst_te_intro_many"><span class="id" title="lemma">subst_te_intro_many</span></a> : <span class="id" title="keyword">∀</span> <a id="Xs:151" class="idref" href="#Xs:151"><span class="id" title="binder">Xs</span></a> <a id="e:152" class="idref" href="#e:152"><span class="id" title="binder">e</span></a> <a id="Us:153" class="idref" href="#Us:153"><span class="id" title="binder">Us</span></a>,<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/V8.13.0/stdlib//Coq.Init.Datatypes.html#length"><span class="id" title="definition">length</span></a> <a class="idref" href="GMu.InfrastructureSubst.html#Xs:151"><span class="id" title="variable">Xs</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.0/stdlib//Coq.Init.Datatypes.html#length"><span class="id" title="definition">length</span></a> <a class="idref" href="GMu.InfrastructureSubst.html#Us:153"><span class="id" title="variable">Us</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="GMu.Definitions.html#DistinctList"><span class="id" title="inductive">DistinctList</span></a> <a class="idref" href="GMu.InfrastructureSubst.html#Xs:151"><span class="id" title="variable">Xs</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/V8.13.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">(</span></a><span class="id" title="keyword">∀</span> <a id="X:154" class="idref" href="#X:154"><span class="id" title="binder">X</span></a>, <a class="idref" href="http://coq.inria.fr/distrib/V8.13.0/stdlib//Coq.Lists.List.html#In"><span class="id" title="definition">List.In</span></a> <a class="idref" href="GMu.InfrastructureSubst.html#X:154"><span class="id" title="variable">X</span></a> <a class="idref" href="GMu.InfrastructureSubst.html#Xs:151"><span class="id" title="variable">Xs</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <a class="idref" href="GMu.InfrastructureSubst.html#X:154"><span class="id" title="variable">X</span></a> <span class="id" title="notation">\</span><span class="id" title="notation">notin</span> <a class="idref" href="GMu.Definitions.html#fv_trm"><span class="id" title="definition">fv_trm</span></a> <a class="idref" href="GMu.InfrastructureSubst.html#e:152"><span class="id" title="variable">e</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.13.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">)</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/V8.13.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">(</span></a><span class="id" title="keyword">∀</span> <a id="X:155" class="idref" href="#X:155"><span class="id" title="binder">X</span></a> <a id="U:156" class="idref" href="#U:156"><span class="id" title="binder">U</span></a>, <a class="idref" href="http://coq.inria.fr/distrib/V8.13.0/stdlib//Coq.Lists.List.html#In"><span class="id" title="definition">List.In</span></a> <a class="idref" href="GMu.InfrastructureSubst.html#X:155"><span class="id" title="variable">X</span></a> <a class="idref" href="GMu.InfrastructureSubst.html#Xs:151"><span class="id" title="variable">Xs</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.0/stdlib//Coq.Lists.List.html#In"><span class="id" title="definition">List.In</span></a> <a class="idref" href="GMu.InfrastructureSubst.html#U:156"><span class="id" title="variable">U</span></a> <a class="idref" href="GMu.InfrastructureSubst.html#Us:153"><span class="id" title="variable">Us</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <a class="idref" href="GMu.InfrastructureSubst.html#X:155"><span class="id" title="variable">X</span></a> <span class="id" title="notation">\</span><span class="id" title="notation">notin</span> <a class="idref" href="GMu.Definitions.html#fv_typ"><span class="id" title="definition">fv_typ</span></a> <a class="idref" href="GMu.InfrastructureSubst.html#U:156"><span class="id" title="variable">U</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.13.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">)</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/V8.13.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">(</span></a><span class="id" title="keyword">∀</span> <a id="U:157" class="idref" href="#U:157"><span class="id" title="binder">U</span></a>, <a class="idref" href="http://coq.inria.fr/distrib/V8.13.0/stdlib//Coq.Lists.List.html#In"><span class="id" title="definition">List.In</span></a> <a class="idref" href="GMu.InfrastructureSubst.html#U:157"><span class="id" title="variable">U</span></a> <a class="idref" href="GMu.InfrastructureSubst.html#Us:153"><span class="id" title="variable">Us</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <a class="idref" href="GMu.Definitions.html#type"><span class="id" title="inductive">type</span></a> <a class="idref" href="GMu.InfrastructureSubst.html#U:157"><span class="id" title="variable">U</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.13.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">)</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="GMu.Definitions.html#open_te_many"><span class="id" title="definition">open_te_many</span></a> <a class="idref" href="GMu.InfrastructureSubst.html#Us:153"><span class="id" title="variable">Us</span></a> <a class="idref" href="GMu.InfrastructureSubst.html#e:152"><span class="id" title="variable">e</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="GMu.InfrastructureSubst.html#subst_te_many"><span class="id" title="definition">subst_te_many</span></a> <a class="idref" href="GMu.InfrastructureSubst.html#Xs:151"><span class="id" title="variable">Xs</span></a> <a class="idref" href="GMu.InfrastructureSubst.html#Us:153"><span class="id" title="variable">Us</span></a> (<a class="idref" href="GMu.Definitions.html#open_te_many_var"><span class="id" title="definition">open_te_many_var</span></a> <a class="idref" href="GMu.InfrastructureSubst.html#Xs:151"><span class="id" title="variable">Xs</span></a> <a class="idref" href="GMu.InfrastructureSubst.html#e:152"><span class="id" title="variable">e</span></a>).<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">induction</span> <span class="id" title="var">Xs</span> <span class="id" title="keyword">as</span> [| <span class="id" title="var">Xh</span> <span class="id" title="var">Xt</span>]; <span class="id" title="var">introv</span> <span class="id" title="var">Hleneq</span> <span class="id" title="var">Hdistinct</span> <span class="id" title="var">HXfv</span> <span class="id" title="var">HXUfv</span> <span class="id" title="var">XUtyp</span>.<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">destruct</span> <span class="id" title="var">Us</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="tactic">cbv</span>. <span class="id" title="tactic">trivial</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="var">inversions</span> <span class="id" title="var">Hleneq</span>.<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">destruct</span> <span class="id" title="var">Us</span> <span class="id" title="keyword">as</span> [| <span class="id" title="var">Uh</span> <span class="id" title="var">Ut</span>].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="var">inversions</span> <span class="id" title="var">Hleneq</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="var">cbn</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">fold</span> (<a class="idref" href="GMu.Definitions.html#open_te_many_var"><span class="id" title="definition">open_te_many_var</span></a> <span class="id" title="var">Xt</span> (<span class="id" title="var">e</span> <a class="idref" href="GMu.Definitions.html#:::x_'open_te_var'_x"><span class="id" title="notation">open_te_var</span></a> <span class="id" title="var">Xh</span>)).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">inversions</span> <span class="id" title="var">Hdistinct</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <span class="id" title="var">IHXt</span>; <span class="id" title="tactic">auto</span> <span class="id" title="keyword">with</span> <span class="id" title="var">listin</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;× <span class="id" title="tactic">f_equal</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> &lt;- <a class="idref" href="GMu.InfrastructureSubst.html#subst_intro_commutes_opens_te"><span class="id" title="lemma">subst_intro_commutes_opens_te</span></a>; <span class="id" title="tactic">eauto</span> <span class="id" title="keyword">with</span> <span class="id" title="var">listin</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">introv</span> <span class="id" title="var">Xin</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intro</span>; <span class="id" title="tactic">subst</span>. <span class="id" title="var">contradiction</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;× <span class="id" title="var">introv</span> <span class="id" title="var">Xin</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="GMu.InfrastructureFV.html#fv_open_te"><span class="id" title="lemma">fv_open_te</span></a>; <span class="id" title="tactic">eauto</span> <span class="id" title="keyword">with</span> <span class="id" title="var">listin</span>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="subst_tt_many_free" class="idref" href="#subst_tt_many_free"><span class="id" title="lemma">subst_tt_many_free</span></a> : <span class="id" title="keyword">∀</span> <a id="As:158" class="idref" href="#As:158"><span class="id" title="binder">As</span></a> <a id="Ts:159" class="idref" href="#Ts:159"><span class="id" title="binder">Ts</span></a> <a id="T:160" class="idref" href="#T:160"><span class="id" title="binder">T</span></a>,<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/V8.13.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">(</span></a><span class="id" title="keyword">∀</span> <a id="A:161" class="idref" href="#A:161"><span class="id" title="binder">A</span></a>, <a class="idref" href="http://coq.inria.fr/distrib/V8.13.0/stdlib//Coq.Lists.List.html#In"><span class="id" title="definition">List.In</span></a> <a class="idref" href="GMu.InfrastructureSubst.html#A:161"><span class="id" title="variable">A</span></a> <a class="idref" href="GMu.InfrastructureSubst.html#As:158"><span class="id" title="variable">As</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <a class="idref" href="GMu.InfrastructureSubst.html#A:161"><span class="id" title="variable">A</span></a> <span class="id" title="notation">\</span><span class="id" title="notation">notin</span> <a class="idref" href="GMu.Definitions.html#fv_typ"><span class="id" title="definition">fv_typ</span></a> <a class="idref" href="GMu.InfrastructureSubst.html#T:160"><span class="id" title="variable">T</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.13.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">)</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="GMu.InfrastructureSubst.html#T:160"><span class="id" title="variable">T</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="GMu.Definitions.html#subst_tt_many"><span class="id" title="definition">subst_tt_many</span></a> <a class="idref" href="GMu.InfrastructureSubst.html#As:158"><span class="id" title="variable">As</span></a> <a class="idref" href="GMu.InfrastructureSubst.html#Ts:159"><span class="id" title="variable">Ts</span></a> <a class="idref" href="GMu.InfrastructureSubst.html#T:160"><span class="id" title="variable">T</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">induction</span> <span class="id" title="var">As</span>; <span class="id" title="var">introv</span> <span class="id" title="var">Afresh</span>.<br/>
&nbsp;&nbsp;- <span class="id" title="var">cbn</span>. <span class="id" title="tactic">trivial</span>.<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">destruct</span> <span class="id" title="var">Ts</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="var">cbn</span>. <span class="id" title="tactic">trivial</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="var">cbn</span>. <span class="id" title="tactic">rewrite</span> &lt;- <span class="id" title="var">IHAs</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;× <span class="id" title="tactic">symmetry</span>. <span class="id" title="tactic">apply</span> <a class="idref" href="GMu.InfrastructureSubst.html#subst_tt_fresh"><span class="id" title="lemma">subst_tt_fresh</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">auto</span> <span class="id" title="keyword">with</span> <span class="id" title="var">listin</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;× <span class="id" title="tactic">intros</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <a class="idref" href="GMu.InfrastructureSubst.html#subst_tt_fresh"><span class="id" title="lemma">subst_tt_fresh</span></a>;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">auto</span> <span class="id" title="keyword">with</span> <span class="id" title="var">listin</span>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="subst_te_many_commutes_open" class="idref" href="#subst_te_many_commutes_open"><span class="id" title="lemma">subst_te_many_commutes_open</span></a> : <span class="id" title="keyword">∀</span> <a id="As:162" class="idref" href="#As:162"><span class="id" title="binder">As</span></a> <a id="Ts:163" class="idref" href="#Ts:163"><span class="id" title="binder">Ts</span></a> <a id="e:164" class="idref" href="#e:164"><span class="id" title="binder">e</span></a> <a id="x:165" class="idref" href="#x:165"><span class="id" title="binder">x</span></a> <a id="vk:166" class="idref" href="#vk:166"><span class="id" title="binder">vk</span></a>,<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/V8.13.0/stdlib//Coq.Init.Datatypes.html#length"><span class="id" title="definition">length</span></a> <a class="idref" href="GMu.InfrastructureSubst.html#As:162"><span class="id" title="variable">As</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.0/stdlib//Coq.Init.Datatypes.html#length"><span class="id" title="definition">length</span></a> <a class="idref" href="GMu.InfrastructureSubst.html#Ts:163"><span class="id" title="variable">Ts</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/V8.13.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">(</span></a><span class="id" title="keyword">∀</span> <a id="A:167" class="idref" href="#A:167"><span class="id" title="binder">A</span></a>, <a class="idref" href="http://coq.inria.fr/distrib/V8.13.0/stdlib//Coq.Lists.List.html#In"><span class="id" title="definition">List.In</span></a> <a class="idref" href="GMu.InfrastructureSubst.html#A:167"><span class="id" title="variable">A</span></a> <a class="idref" href="GMu.InfrastructureSubst.html#As:162"><span class="id" title="variable">As</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <a class="idref" href="GMu.InfrastructureSubst.html#x:165"><span class="id" title="variable">x</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'&lt;&gt;'_x"><span class="id" title="notation">≠</span></a> <a class="idref" href="GMu.InfrastructureSubst.html#A:167"><span class="id" title="variable">A</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.13.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">)</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="GMu.Definitions.html#open_ee"><span class="id" title="definition">open_ee</span></a> (<a class="idref" href="GMu.InfrastructureSubst.html#subst_te_many"><span class="id" title="definition">subst_te_many</span></a> <a class="idref" href="GMu.InfrastructureSubst.html#As:162"><span class="id" title="variable">As</span></a> <a class="idref" href="GMu.InfrastructureSubst.html#Ts:163"><span class="id" title="variable">Ts</span></a> <a class="idref" href="GMu.InfrastructureSubst.html#e:164"><span class="id" title="variable">e</span></a>) (<a class="idref" href="GMu.Definitions.html#trm_fvar"><span class="id" title="constructor">trm_fvar</span></a> <a class="idref" href="GMu.InfrastructureSubst.html#vk:166"><span class="id" title="variable">vk</span></a> <a class="idref" href="GMu.InfrastructureSubst.html#x:165"><span class="id" title="variable">x</span></a>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/V8.13.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="GMu.InfrastructureSubst.html#subst_te_many"><span class="id" title="definition">subst_te_many</span></a> <a class="idref" href="GMu.InfrastructureSubst.html#As:162"><span class="id" title="variable">As</span></a> <a class="idref" href="GMu.InfrastructureSubst.html#Ts:163"><span class="id" title="variable">Ts</span></a> (<a class="idref" href="GMu.Definitions.html#open_ee"><span class="id" title="definition">open_ee</span></a> <a class="idref" href="GMu.InfrastructureSubst.html#e:164"><span class="id" title="variable">e</span></a> (<a class="idref" href="GMu.Definitions.html#trm_fvar"><span class="id" title="constructor">trm_fvar</span></a> <a class="idref" href="GMu.InfrastructureSubst.html#vk:166"><span class="id" title="variable">vk</span></a> <a class="idref" href="GMu.InfrastructureSubst.html#x:165"><span class="id" title="variable">x</span></a>)).<br/>
&nbsp;&nbsp;<span class="id" title="tactic">induction</span> <span class="id" title="var">As</span> <span class="id" title="keyword">as</span> [| <span class="id" title="var">Ah</span> <span class="id" title="var">Ats</span>]; <span class="id" title="var">introv</span> <span class="id" title="var">Hlen</span> <span class="id" title="var">Afresh</span>.<br/>
&nbsp;&nbsp;- <span class="id" title="var">cbn</span>. <span class="id" title="tactic">auto</span>.<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">destruct</span> <span class="id" title="var">Ts</span> <span class="id" title="keyword">as</span> [| <span class="id" title="var">Th</span> <span class="id" title="var">Tts</span>]; <span class="id" title="var">cbn</span> <span class="id" title="tactic">in</span> <span class="id" title="var">Hlen</span>; <span class="id" title="tactic">try</span> <span class="id" title="tactic">congruence</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">cbn</span>. <span class="id" title="tactic">fold</span> (<a class="idref" href="GMu.Definitions.html#open_ee"><span class="id" title="definition">open_ee</span></a> (<a class="idref" href="GMu.InfrastructureSubst.html#subst_te_many"><span class="id" title="definition">subst_te_many</span></a> <span class="id" title="var">Ats</span> <span class="id" title="var">Tts</span> (<a class="idref" href="GMu.Definitions.html#subst_te"><span class="id" title="definition">subst_te</span></a> <span class="id" title="var">Ah</span> <span class="id" title="var">Th</span> <span class="id" title="var">e</span>)) (<a class="idref" href="GMu.Definitions.html#trm_fvar"><span class="id" title="constructor">trm_fvar</span></a> <span class="id" title="var">vk</span> <span class="id" title="var">x</span>)).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <span class="id" title="var">IHAts</span>; <span class="id" title="tactic">auto</span> <span class="id" title="keyword">with</span> <span class="id" title="var">listin</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">f_equal</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="GMu.InfrastructureSubst.html#subst_te_open_ee_var"><span class="id" title="lemma">subst_te_open_ee_var</span></a>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="subst_tb_id_on_fresh" class="idref" href="#subst_tb_id_on_fresh"><span class="id" title="lemma">subst_tb_id_on_fresh</span></a> : <span class="id" title="keyword">∀</span> <a id="E:168" class="idref" href="#E:168"><span class="id" title="binder">E</span></a> <a id="Z:169" class="idref" href="#Z:169"><span class="id" title="binder">Z</span></a> <a id="P:170" class="idref" href="#P:170"><span class="id" title="binder">P</span></a>,<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="GMu.InfrastructureSubst.html#Z:169"><span class="id" title="variable">Z</span></a> <span class="id" title="notation">\</span><span class="id" title="notation">notin</span> <a class="idref" href="GMu.Definitions.html#fv_env"><span class="id" title="definition">fv_env</span></a> <a class="idref" href="GMu.InfrastructureSubst.html#E:168"><span class="id" title="variable">E</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="axiom">map</span> (<a class="idref" href="GMu.Definitions.html#subst_tb"><span class="id" title="definition">subst_tb</span></a> <a class="idref" href="GMu.InfrastructureSubst.html#Z:169"><span class="id" title="variable">Z</span></a> <a class="idref" href="GMu.InfrastructureSubst.html#P:170"><span class="id" title="variable">P</span></a>) <a class="idref" href="GMu.InfrastructureSubst.html#E:168"><span class="id" title="variable">E</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="GMu.InfrastructureSubst.html#E:168"><span class="id" title="variable">E</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">induction</span> <span class="id" title="var">E</span> <span class="id" title="keyword">using</span> <span class="id" title="lemma">env_ind</span>; <span class="id" title="var">introv</span> <span class="id" title="var">FE</span>.<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">rewrite</span> <span class="id" title="lemma">map_empty</span>. <span class="id" title="tactic">trivial</span>.<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">rewrite</span> <span class="id" title="lemma">map_push</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">v</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <a class="idref" href="GMu.InfrastructureFV.html#fv_env_extend"><span class="id" title="lemma">fv_env_extend</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">FE</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">f_equal</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="tactic">apply</span>× <span class="id" title="var">IHE</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="var">cbn</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">f_equal</span>. <span class="id" title="tactic">f_equal</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="GMu.InfrastructureSubst.html#subst_tt_fresh"><span class="id" title="lemma">subst_tt_fresh</span></a>. <span class="id" title="tactic">auto</span>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="subst_tt_many_id_on_fresh" class="idref" href="#subst_tt_many_id_on_fresh"><span class="id" title="lemma">subst_tt_many_id_on_fresh</span></a> : <span class="id" title="keyword">∀</span> <a id="T:171" class="idref" href="#T:171"><span class="id" title="binder">T</span></a> <a id="As:172" class="idref" href="#As:172"><span class="id" title="binder">As</span></a> <a id="Ps:173" class="idref" href="#Ps:173"><span class="id" title="binder">Ps</span></a>,<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/V8.13.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">(</span></a><span class="id" title="keyword">∀</span> <a id="A:174" class="idref" href="#A:174"><span class="id" title="binder">A</span></a>, <a class="idref" href="http://coq.inria.fr/distrib/V8.13.0/stdlib//Coq.Lists.List.html#In"><span class="id" title="definition">List.In</span></a> <a class="idref" href="GMu.InfrastructureSubst.html#A:174"><span class="id" title="variable">A</span></a> <a class="idref" href="GMu.InfrastructureSubst.html#As:172"><span class="id" title="variable">As</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <a class="idref" href="GMu.InfrastructureSubst.html#A:174"><span class="id" title="variable">A</span></a> <span class="id" title="notation">\</span><span class="id" title="notation">notin</span> <a class="idref" href="GMu.Definitions.html#fv_typ"><span class="id" title="definition">fv_typ</span></a> <a class="idref" href="GMu.InfrastructureSubst.html#T:171"><span class="id" title="variable">T</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.13.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">)</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="GMu.Definitions.html#subst_tt_many"><span class="id" title="definition">subst_tt_many</span></a> <a class="idref" href="GMu.InfrastructureSubst.html#As:172"><span class="id" title="variable">As</span></a> <a class="idref" href="GMu.InfrastructureSubst.html#Ps:173"><span class="id" title="variable">Ps</span></a> <a class="idref" href="GMu.InfrastructureSubst.html#T:171"><span class="id" title="variable">T</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="GMu.InfrastructureSubst.html#T:171"><span class="id" title="variable">T</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">induction</span> <span class="id" title="var">As</span>; <span class="id" title="tactic">destruct</span> <span class="id" title="var">Ps</span>; <span class="id" title="tactic">intros</span>; <span class="id" title="tactic">try</span> <span class="id" title="tactic">solve</span> [<span class="id" title="var">cbn</span> <span class="id" title="tactic">in</span> *; <span class="id" title="tactic">congruence</span>].<br/>
&nbsp;&nbsp;<span class="id" title="var">cbn</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <a class="idref" href="GMu.InfrastructureSubst.html#subst_tt_fresh"><span class="id" title="lemma">subst_tt_fresh</span></a>.<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">apply</span> <span class="id" title="var">IHAs</span>; <span class="id" title="tactic">auto</span> <span class="id" title="keyword">with</span> <span class="id" title="var">listin</span>.<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">auto</span> <span class="id" title="keyword">with</span> <span class="id" title="var">listin</span>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="subst_tb_many_id_on_fresh_env" class="idref" href="#subst_tb_many_id_on_fresh_env"><span class="id" title="lemma">subst_tb_many_id_on_fresh_env</span></a> : <span class="id" title="keyword">∀</span> <a id="E:175" class="idref" href="#E:175"><span class="id" title="binder">E</span></a> <a id="As:176" class="idref" href="#As:176"><span class="id" title="binder">As</span></a> <a id="Ps:177" class="idref" href="#Ps:177"><span class="id" title="binder">Ps</span></a>,<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/V8.13.0/stdlib//Coq.Init.Datatypes.html#length"><span class="id" title="definition">length</span></a> <a class="idref" href="GMu.InfrastructureSubst.html#As:176"><span class="id" title="variable">As</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.0/stdlib//Coq.Init.Datatypes.html#length"><span class="id" title="definition">length</span></a> <a class="idref" href="GMu.InfrastructureSubst.html#Ps:177"><span class="id" title="variable">Ps</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/V8.13.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">(</span></a><span class="id" title="keyword">∀</span> <a id="A:178" class="idref" href="#A:178"><span class="id" title="binder">A</span></a>, <a class="idref" href="http://coq.inria.fr/distrib/V8.13.0/stdlib//Coq.Lists.List.html#In"><span class="id" title="definition">List.In</span></a> <a class="idref" href="GMu.InfrastructureSubst.html#A:178"><span class="id" title="variable">A</span></a> <a class="idref" href="GMu.InfrastructureSubst.html#As:176"><span class="id" title="variable">As</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <a class="idref" href="GMu.InfrastructureSubst.html#A:178"><span class="id" title="variable">A</span></a> <span class="id" title="notation">\</span><span class="id" title="notation">notin</span> <a class="idref" href="GMu.Definitions.html#fv_env"><span class="id" title="definition">fv_env</span></a> <a class="idref" href="GMu.InfrastructureSubst.html#E:175"><span class="id" title="variable">E</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.13.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">)</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="axiom">map</span> (<a class="idref" href="GMu.Definitions.html#subst_tb_many"><span class="id" title="definition">subst_tb_many</span></a> <a class="idref" href="GMu.InfrastructureSubst.html#As:176"><span class="id" title="variable">As</span></a> <a class="idref" href="GMu.InfrastructureSubst.html#Ps:177"><span class="id" title="variable">Ps</span></a>) <a class="idref" href="GMu.InfrastructureSubst.html#E:175"><span class="id" title="variable">E</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="GMu.InfrastructureSubst.html#E:175"><span class="id" title="variable">E</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">intros</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <span class="id" title="axiom">map_def</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> &lt;- <a class="idref" href="GMu.Prelude.html#LibList_map"><span class="id" title="lemma">LibList_map</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">symmetry</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> &lt;- <a class="idref" href="GMu.Prelude.html#map_id"><span class="id" title="lemma">map_id</span></a>; <span class="id" title="tactic">auto</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">intros</span> <span class="id" title="var">vb</span> <span class="id" title="var">xin</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">vb</span>. <span class="id" title="var">cbn</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">f_equal</span>; <span class="id" title="tactic">auto</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">unfold</span> <a class="idref" href="GMu.Definitions.html#subst_tb_many"><span class="id" title="definition">subst_tb_many</span></a>. <span class="id" title="tactic">destruct</span> <span class="id" title="var">b</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <a class="idref" href="GMu.InfrastructureSubst.html#subst_tt_many_id_on_fresh"><span class="id" title="lemma">subst_tt_many_id_on_fresh</span></a>; <span class="id" title="tactic">auto</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">intros</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">induction</span> <span class="id" title="var">E</span> <span class="id" title="keyword">as</span> [| <span class="id" title="var">B</span> <span class="id" title="var">E</span>].<br/>
&nbsp;&nbsp;- <span class="id" title="var">contradiction</span>.<br/>
&nbsp;&nbsp;- <span class="id" title="var">lets</span> <span class="id" title="var">HA</span>: <span class="id" title="var">H0</span> <span class="id" title="var">H1</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">cbn</span> <span class="id" title="tactic">in</span> <span class="id" title="var">HA</span>. <span class="id" title="tactic">fold</span> (<a class="idref" href="GMu.Definitions.html#fv_env"><span class="id" title="definition">fv_env</span></a> <span class="id" title="var">E</span>) <span class="id" title="tactic">in</span> <span class="id" title="var">HA</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">lets</span> [? | ?]: <a class="idref" href="http://coq.inria.fr/distrib/V8.13.0/stdlib//Coq.Lists.List.html#in_inv"><span class="id" title="lemma">List.in_inv</span></a> <span class="id" title="var">xin</span>; <span class="id" title="tactic">subst</span>; <span class="id" title="var">cbn</span> <span class="id" title="tactic">in</span> <span class="id" title="var">HA</span>; <span class="id" title="tactic">auto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <span class="id" title="var">IHE</span>; <span class="id" title="tactic">auto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intros</span> <span class="id" title="var">A'</span> <span class="id" title="var">Ain</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">lets</span> <span class="id" title="var">HA'</span>: <span class="id" title="var">H0</span> <span class="id" title="var">Ain</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">B</span>; <span class="id" title="tactic">destruct</span> <span class="id" title="var">b</span>; <span class="id" title="var">cbn</span> <span class="id" title="tactic">in</span> <span class="id" title="var">HA'</span>. <span class="id" title="tactic">fold</span> (<a class="idref" href="GMu.Definitions.html#fv_env"><span class="id" title="definition">fv_env</span></a> <span class="id" title="var">E</span>) <span class="id" title="tactic">in</span> <span class="id" title="var">HA'</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">auto</span>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="subst_commute" class="idref" href="#subst_commute"><span class="id" title="lemma">subst_commute</span></a>:<br/>
&nbsp;&nbsp;<span class="id" title="keyword">∀</span> (<a id="X:179" class="idref" href="#X:179"><span class="id" title="binder">X</span></a> : <span class="id" title="axiom">var</span>) (<a id="U:180" class="idref" href="#U:180"><span class="id" title="binder">U</span></a> : <a class="idref" href="GMu.Definitions.html#typ"><span class="id" title="inductive">typ</span></a>) (<a id="A:181" class="idref" href="#A:181"><span class="id" title="binder">A</span></a> : <span class="id" title="axiom">var</span>) (<a id="P:182" class="idref" href="#P:182"><span class="id" title="binder">P</span></a> <a id="T:183" class="idref" href="#T:183"><span class="id" title="binder">T</span></a> : <a class="idref" href="GMu.Definitions.html#typ"><span class="id" title="inductive">typ</span></a>),<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="GMu.InfrastructureSubst.html#X:179"><span class="id" title="variable">X</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'&lt;&gt;'_x"><span class="id" title="notation">≠</span></a> <a class="idref" href="GMu.InfrastructureSubst.html#A:181"><span class="id" title="variable">A</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="GMu.InfrastructureSubst.html#A:181"><span class="id" title="variable">A</span></a> <span class="id" title="notation">\</span><span class="id" title="notation">notin</span> <a class="idref" href="GMu.Definitions.html#fv_typ"><span class="id" title="definition">fv_typ</span></a> <a class="idref" href="GMu.InfrastructureSubst.html#U:180"><span class="id" title="variable">U</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="GMu.Definitions.html#subst_tt"><span class="id" title="definition">subst_tt</span></a> <a class="idref" href="GMu.InfrastructureSubst.html#X:179"><span class="id" title="variable">X</span></a> <a class="idref" href="GMu.InfrastructureSubst.html#U:180"><span class="id" title="variable">U</span></a> (<a class="idref" href="GMu.Definitions.html#subst_tt"><span class="id" title="definition">subst_tt</span></a> <a class="idref" href="GMu.InfrastructureSubst.html#A:181"><span class="id" title="variable">A</span></a> <a class="idref" href="GMu.InfrastructureSubst.html#P:182"><span class="id" title="variable">P</span></a> <a class="idref" href="GMu.InfrastructureSubst.html#T:183"><span class="id" title="variable">T</span></a>) <a class="idref" href="http://coq.inria.fr/distrib/V8.13.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="GMu.Definitions.html#subst_tt"><span class="id" title="definition">subst_tt</span></a> <a class="idref" href="GMu.InfrastructureSubst.html#A:181"><span class="id" title="variable">A</span></a> (<a class="idref" href="GMu.Definitions.html#subst_tt"><span class="id" title="definition">subst_tt</span></a> <a class="idref" href="GMu.InfrastructureSubst.html#X:179"><span class="id" title="variable">X</span></a> <a class="idref" href="GMu.InfrastructureSubst.html#U:180"><span class="id" title="variable">U</span></a> <a class="idref" href="GMu.InfrastructureSubst.html#P:182"><span class="id" title="variable">P</span></a>) (<a class="idref" href="GMu.Definitions.html#subst_tt"><span class="id" title="definition">subst_tt</span></a> <a class="idref" href="GMu.InfrastructureSubst.html#X:179"><span class="id" title="variable">X</span></a> <a class="idref" href="GMu.InfrastructureSubst.html#U:180"><span class="id" title="variable">U</span></a> <a class="idref" href="GMu.InfrastructureSubst.html#T:183"><span class="id" title="variable">T</span></a>).<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">induction</span> <span class="id" title="var">T</span> <span class="id" title="keyword">using</span> <a class="idref" href="GMu.Definitions.html#typ_ind'"><span class="id" title="definition">typ_ind'</span></a>; <span class="id" title="var">introv</span> <span class="id" title="var">Neq</span> <span class="id" title="var">Fr</span>; <span class="id" title="var">cbn</span>; <span class="id" title="tactic">auto</span>;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">try</span> <span class="id" title="tactic">solve</span> [<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span>¬ <span class="id" title="var">IHT1</span>; <span class="id" title="tactic">rewrite</span>¬ <span class="id" title="var">IHT2</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;].<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">repeat</span> <span class="id" title="var">case_if</span>; <span class="id" title="tactic">subst</span>; <span class="id" title="var">cbn</span>; <span class="id" title="tactic">repeat</span> <span class="id" title="var">case_if</span>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span>¬ <a class="idref" href="GMu.InfrastructureSubst.html#subst_tt_fresh"><span class="id" title="lemma">subst_tt_fresh</span></a>.<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">rewrite</span>¬ <span class="id" title="var">IHT</span>.<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">rewrite</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.0/stdlib//Coq.Lists.List.html#Forall_forall"><span class="id" title="lemma">List.Forall_forall</span></a> <span class="id" title="tactic">in</span> ×.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">f_equal</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">repeat</span> <span class="id" title="tactic">rewrite</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.0/stdlib//Coq.Lists.List.html#map_map"><span class="id" title="lemma">List.map_map</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.0/stdlib//Coq.Lists.List.html#map_ext_in"><span class="id" title="lemma">List.map_ext_in</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intros</span> <span class="id" title="var">T</span> <span class="id" title="var">Tin</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span>¬ <span class="id" title="var">H</span>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="subst_ee_fix_term" class="idref" href="#subst_ee_fix_term"><span class="id" title="lemma">subst_ee_fix_term</span></a> : <span class="id" title="keyword">∀</span> <a id="e1:184" class="idref" href="#e1:184"><span class="id" title="binder">e1</span></a> <a id="Z:185" class="idref" href="#Z:185"><span class="id" title="binder">Z</span></a> <a id="e2:186" class="idref" href="#e2:186"><span class="id" title="binder">e2</span></a>,<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="GMu.Definitions.html#term"><span class="id" title="inductive">term</span></a> <a class="idref" href="GMu.InfrastructureSubst.html#e1:184"><span class="id" title="variable">e1</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <a class="idref" href="GMu.Definitions.html#term"><span class="id" title="inductive">term</span></a> <a class="idref" href="GMu.InfrastructureSubst.html#e2:186"><span class="id" title="variable">e2</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <a class="idref" href="GMu.Definitions.html#term"><span class="id" title="inductive">term</span></a> (<a class="idref" href="GMu.Definitions.html#subst_ee"><span class="id" title="definition">subst_ee</span></a> <a class="idref" href="GMu.InfrastructureSubst.html#Z:185"><span class="id" title="variable">Z</span></a> <a class="idref" href="GMu.Definitions.html#fix_var"><span class="id" title="constructor">fix_var</span></a> <a class="idref" href="GMu.InfrastructureSubst.html#e2:186"><span class="id" title="variable">e2</span></a> <a class="idref" href="GMu.InfrastructureSubst.html#e1:184"><span class="id" title="variable">e1</span></a>)<br/>
<span class="id" title="keyword">with</span> <a id="subst_ee_fix_value" class="idref" href="#subst_ee_fix_value"><span class="id" title="lemma">subst_ee_fix_value</span></a> : <span class="id" title="keyword">∀</span> <a id="e1:187" class="idref" href="#e1:187"><span class="id" title="binder">e1</span></a> <a id="Z:188" class="idref" href="#Z:188"><span class="id" title="binder">Z</span></a> <a id="e2:189" class="idref" href="#e2:189"><span class="id" title="binder">e2</span></a>,<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="GMu.Definitions.html#value"><span class="id" title="inductive">value</span></a> <a class="idref" href="GMu.InfrastructureSubst.html#e1:187"><span class="id" title="variable">e1</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <a class="idref" href="GMu.Definitions.html#term"><span class="id" title="inductive">term</span></a> <a class="idref" href="GMu.InfrastructureSubst.html#e2:189"><span class="id" title="variable">e2</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <a class="idref" href="GMu.Definitions.html#value"><span class="id" title="inductive">value</span></a> (<a class="idref" href="GMu.Definitions.html#subst_ee"><span class="id" title="definition">subst_ee</span></a> <a class="idref" href="GMu.InfrastructureSubst.html#Z:188"><span class="id" title="variable">Z</span></a> <a class="idref" href="GMu.Definitions.html#fix_var"><span class="id" title="constructor">fix_var</span></a> <a class="idref" href="GMu.InfrastructureSubst.html#e2:189"><span class="id" title="variable">e2</span></a> <a class="idref" href="GMu.InfrastructureSubst.html#e1:187"><span class="id" title="variable">e1</span></a>).<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">induction</span> 1; <span class="id" title="tactic">intros</span>; <span class="id" title="tactic">simpl</span>; <span class="id" title="tactic">auto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="var">case_if</span>×.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="var">apply_fresh</span>× <a class="idref" href="GMu.Definitions.html#term_abs"><span class="id" title="constructor">term_abs</span></a> <span class="id" title="keyword">as</span> <span class="id" title="var">y</span>. <span class="id" title="tactic">rewrite</span>× <a class="idref" href="GMu.InfrastructureSubst.html#subst_ee_open_ee_var"><span class="id" title="lemma">subst_ee_open_ee_var</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="var">apply_fresh</span>× <a class="idref" href="GMu.Definitions.html#term_tabs"><span class="id" title="constructor">term_tabs</span></a> <span class="id" title="keyword">as</span> <span class="id" title="var">Y</span>; <span class="id" title="tactic">rewrite</span>× <a class="idref" href="GMu.InfrastructureSubst.html#subst_ee_open_te_var"><span class="id" title="lemma">subst_ee_open_te_var</span></a>;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span>¬ <a class="idref" href="GMu.Prelude.html#value_regular"><span class="id" title="lemma">value_regular</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="var">apply_fresh</span>× <a class="idref" href="GMu.Definitions.html#term_fix"><span class="id" title="constructor">term_fix</span></a> <span class="id" title="keyword">as</span> <span class="id" title="var">y</span>; <span class="id" title="tactic">rewrite</span>× <a class="idref" href="GMu.InfrastructureSubst.html#subst_ee_open_ee_var"><span class="id" title="lemma">subst_ee_open_ee_var</span></a>;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span>¬ <a class="idref" href="GMu.Prelude.html#value_regular"><span class="id" title="lemma">value_regular</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="var">apply_fresh</span>× <a class="idref" href="GMu.Definitions.html#term_let"><span class="id" title="constructor">term_let</span></a> <span class="id" title="keyword">as</span> <span class="id" title="var">y</span>. <span class="id" title="tactic">rewrite</span>× <a class="idref" href="GMu.InfrastructureSubst.html#subst_ee_open_ee_var"><span class="id" title="lemma">subst_ee_open_ee_var</span></a>;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span>¬ <a class="idref" href="GMu.Prelude.html#value_regular"><span class="id" title="lemma">value_regular</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="tactic">econstructor</span>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intros</span> <span class="id" title="var">cl</span> <span class="id" title="var">clinmap</span> <span class="id" title="var">Alphas</span> <span class="id" title="var">x</span> <span class="id" title="var">Hlen</span> <span class="id" title="var">Hdist</span> <span class="id" title="var">Afresh</span> <span class="id" title="var">xfresh</span> <span class="id" title="var">xfreshA</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">cl</span> <span class="id" title="keyword">as</span> [<span class="id" title="var">clA</span> <span class="id" title="var">clT</span>].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">unfold</span> <a class="idref" href="GMu.Definitions.html#map_clause_trm_trm"><span class="id" title="definition">map_clause_trm_trm</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">clinmap</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">lets</span> <span class="id" title="var">cl2</span>: <span class="id" title="var">clinmap</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.0/stdlib//Coq.Lists.List.html#in_map_iff"><span class="id" title="lemma">List.in_map_iff</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">cl2</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">cl2</span> <span class="id" title="keyword">as</span> [[<span class="id" title="var">cl'A</span> <span class="id" title="var">cl'T</span>] [<span class="id" title="var">cl'eq</span> <span class="id" title="var">cl'in</span>]].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">inversion</span> <span class="id" title="var">cl'eq</span>. <span class="id" title="tactic">subst</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">cbn</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">lets</span>× <span class="id" title="var">IH</span>: <span class="id" title="var">H1</span> <span class="id" title="var">cl'in</span> <span class="id" title="var">Alphas</span> <span class="id" title="var">x</span> <span class="id" title="var">Hlen</span> <span class="id" title="var">Hdist</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">cbn</span> <span class="id" title="tactic">in</span> <span class="id" title="var">IH</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">instantiate</span> (1:=(<span class="id" title="var">L</span> <span class="id" title="notation">\</span><span class="id" title="notation">u</span> <span class="id" title="notation">\{</span> <span class="id" title="var">Z</span> <span class="id" title="notation">}</span>)) <span class="id" title="tactic">in</span> <span class="id" title="var">Afresh</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span>× &lt;- <a class="idref" href="GMu.InfrastructureSubst.html#subst_commutes_with_unrelated_opens_te_ee"><span class="id" title="lemma">subst_commutes_with_unrelated_opens_te_ee</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;× <span class="id" title="tactic">rewrite</span>× <a class="idref" href="GMu.InfrastructureSubst.html#subst_ee_open_ee_var"><span class="id" title="lemma">subst_ee_open_ee_var</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span>× <span class="id" title="var">IH</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intros</span> <span class="id" title="var">A</span> <span class="id" title="var">AAlpha</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">assert</span> (<span class="id" title="var">A</span> <span class="id" title="notation">\</span><span class="id" title="notation">notin</span> <span class="id" title="var">L</span> <span class="id" title="notation">\</span><span class="id" title="notation">u</span> <span class="id" title="notation">\{</span> <span class="id" title="var">Z</span> <span class="id" title="notation">}</span>); <span class="id" title="tactic">solve</span> [<span class="id" title="tactic">apply</span>× <span class="id" title="var">Afresh</span> | <span class="id" title="tactic">eauto</span>].<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">induction</span> 1; <span class="id" title="tactic">intros</span>; <span class="id" title="tactic">simpl</span>; <span class="id" title="tactic">auto</span>;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">try</span> <span class="id" title="keyword">match</span> <span class="id" title="keyword">goal</span> <span class="id" title="keyword">with</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| <span class="id" title="var">H</span>: <a class="idref" href="GMu.Definitions.html#term"><span class="id" title="inductive">term</span></a> (<a class="idref" href="GMu.Definitions.html#trm_abs"><span class="id" title="constructor">trm_abs</span></a> <span class="id" title="var">_</span> <span class="id" title="var">_</span>) |- <span class="id" title="var">_</span> ⇒ <span class="id" title="tactic">rename</span> <span class="id" title="var">H</span> <span class="id" title="var">into</span> <span class="id" title="var">Hterm</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| <span class="id" title="var">H</span>: <a class="idref" href="GMu.Definitions.html#term"><span class="id" title="inductive">term</span></a> (<a class="idref" href="GMu.Definitions.html#trm_tabs"><span class="id" title="constructor">trm_tabs</span></a> <span class="id" title="var">_</span>) |- <span class="id" title="var">_</span> ⇒ <span class="id" title="tactic">rename</span> <span class="id" title="var">H</span> <span class="id" title="var">into</span> <span class="id" title="var">Hterm</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">end</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="tactic">apply</span> <a class="idref" href="GMu.Definitions.html#value_abs"><span class="id" title="constructor">value_abs</span></a>. <span class="id" title="var">inversions</span> <span class="id" title="var">Hterm</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">apply_fresh</span>× <a class="idref" href="GMu.Definitions.html#term_abs"><span class="id" title="constructor">term_abs</span></a> <span class="id" title="keyword">as</span> <span class="id" title="var">y</span>. <span class="id" title="tactic">rewrite</span>× <a class="idref" href="GMu.InfrastructureSubst.html#subst_ee_open_ee_var"><span class="id" title="lemma">subst_ee_open_ee_var</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="tactic">apply</span> <a class="idref" href="GMu.Definitions.html#value_tabs"><span class="id" title="constructor">value_tabs</span></a>; <span class="id" title="var">inversions</span> <span class="id" title="var">Hterm</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">apply_fresh</span>× <a class="idref" href="GMu.Definitions.html#term_tabs"><span class="id" title="constructor">term_tabs</span></a> <span class="id" title="keyword">as</span> <span class="id" title="var">Y</span>; <span class="id" title="tactic">rewrite</span>× <a class="idref" href="GMu.InfrastructureSubst.html#subst_ee_open_te_var"><span class="id" title="lemma">subst_ee_open_te_var</span></a>;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span>¬ <a class="idref" href="GMu.Prelude.html#value_regular"><span class="id" title="lemma">value_regular</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="var">case_if</span>¬.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">inversions</span> <span class="id" title="var">C</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">congruence</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="tactic">econstructor</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;× <span class="id" title="tactic">econstructor</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;-- <span class="id" title="tactic">apply</span>× <a class="idref" href="GMu.Prelude.html#value_is_term"><span class="id" title="lemma">value_is_term</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;-- <span class="id" title="tactic">inversion</span>× <span class="id" title="var">H</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;× <span class="id" title="tactic">apply</span>× <span class="id" title="var">IHvalue</span>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>
</div>
</div>
<div id="footer">
  Generated by <a href="http://coq.inria.fr/">coqdoc</a> and improved with <a href="https://github.com/tebbi/coqdocjs">CoqdocJS</a>
</div>
</div>
</body>

</html>
