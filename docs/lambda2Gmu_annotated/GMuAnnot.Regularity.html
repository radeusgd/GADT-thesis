<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">

<head>
<meta http-equiv="Content-Type" content="text/html;charset=utf-8" />
<link href="coqdoc.css" rel="stylesheet" type="text/css" />
<link href="coqdocjs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="config.js"></script>
<script type="text/javascript" src="coqdocjs.js"></script>
</head>

<body onload="document.getElementById('content').focus()">
  <div id="header">
    <span class="left">
      <span class="modulename"> <script> document.write(document.title) </script> </span>
    </span>

    <span class="button" id="toggle-proofs"></span>

    <span class="right">
      <a href="../">Project Page</a>
      <a href="./indexpage.html"> Index </a>
      <a href="./toc.html"> Table of Contents </a>
    </span>
</div>
    <div id="content" tabindex="-1" onblur="document.getElementById('content').focus()">
    <div id="main">
<h1 class="libtitle">GMuAnnot.Regularity</h1>

<div class="code">
<span class="id" title="keyword">Set Implicit Arguments</span>.<br/>
<span class="id" title="keyword">Require</span> <span class="id" title="keyword">Import</span> <a class="idref" href="GMuAnnot.Prelude.html#"><span class="id" title="library">GMuAnnot.Prelude</span></a>.<br/>
<span class="id" title="keyword">Require</span> <span class="id" title="keyword">Import</span> <a class="idref" href="GMuAnnot.Infrastructure.html#"><span class="id" title="library">GMuAnnot.Infrastructure</span></a>.<br/>
<span class="id" title="keyword">Require</span> <span class="id" title="keyword">Import</span> <a class="idref" href="GMuAnnot.Equations.html#"><span class="id" title="library">GMuAnnot.Equations</span></a>.<br/>
<span class="id" title="keyword">Require</span> <span class="id" title="keyword">Import</span> <span class="id" title="library">TLC.LibLN</span>.<br/>
<span class="id" title="keyword">Require</span> <span class="id" title="keyword">Import</span> <span class="id" title="library">TLC.LibEnv</span>.<br/>

<br/>
</div>

<div class="doc">
<a id="lab8"></a><h1 class="section">Regularity</h1>

<div class="paragraph"> </div>

Defines basic properties of well formed types and typing judgement.

<div class="paragraph"> </div>

<a id="lab9"></a><h1 class="section">Properties of well-formedness of a type in an environment</h1>

<div class="paragraph"> </div>

 If a type is well-formed in an environment then it is locally closed. 
</div>
<div class="code">

<br/>
<span class="id" title="keyword">Lemma</span> <a id="type_from_wft" class="idref" href="#type_from_wft"><span class="id" title="lemma">type_from_wft</span></a> : <span class="id" title="keyword">∀</span> <a id="0101b9beac487b383a5ba2a8f6922788" class="idref" href="#0101b9beac487b383a5ba2a8f6922788"><span class="id" title="binder">Σ</span></a> <a id="E:2" class="idref" href="#E:2"><span class="id" title="binder">E</span></a> <a id="T:3" class="idref" href="#T:3"><span class="id" title="binder">T</span></a>,<br/>
&nbsp;&nbsp;<a class="idref" href="../lambda2Gmu/GMu.Definitions.html#wft"><span class="id" title="inductive">wft</span></a> <a class="idref" href="GMuAnnot.Regularity.html#0101b9beac487b383a5ba2a8f6922788"><span class="id" title="variable">Σ</span></a> <a class="idref" href="GMuAnnot.Regularity.html#E:2"><span class="id" title="variable">E</span></a> <a class="idref" href="GMuAnnot.Regularity.html#T:3"><span class="id" title="variable">T</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <a class="idref" href="../lambda2Gmu/GMu.Definitions.html#type"><span class="id" title="inductive">type</span></a> <a class="idref" href="GMuAnnot.Regularity.html#T:3"><span class="id" title="variable">T</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">induction</span> 1; <span class="id" title="tactic">eauto</span>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
#[<span class="id" title="var">export</span>] <span class="id" title="keyword">Hint</span> <span class="id" title="keyword">Resolve</span> <span class="id" title="var">type_from_wft</span>.<br/>

<br/>
<span class="comment">(*&nbsp;Lemma&nbsp;values_decidable&nbsp;:&nbsp;forall&nbsp;t,&nbsp;*)</span><br/>
<span class="comment">(*&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;term&nbsp;t&nbsp;-&gt;&nbsp;*)</span><br/>
<span class="comment">(*&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(value&nbsp;t&nbsp;\/&nbsp;~&nbsp;(value&nbsp;t)).&nbsp;*)</span><br/>
<span class="comment">(*&nbsp;&nbsp;&nbsp;induction&nbsp;t;&nbsp;intro&nbsp;H;&nbsp;*)</span><br/>
<span class="comment">(*&nbsp;&nbsp;&nbsp;inversion&nbsp;H;&nbsp;subst;&nbsp;try&nbsp;solve&nbsp;<span class="inlinecode"></span> <span class="inlinecode"></span>*)</span><br/>
<span class="comment">(*&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;right;&nbsp;intro&nbsp;Hv;&nbsp;inversion&nbsp;Hv&nbsp;*)</span><br/>
<span class="comment">(*&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;|&nbsp;left;&nbsp;econstructor&nbsp;*)</span><br/>
<span class="comment">(*&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;].&nbsp;*)</span><br/>
<span class="comment">(*&nbsp;&nbsp;&nbsp;-&nbsp;&nbsp;*)</span><br/>
<span class="comment">(*&nbsp;&nbsp;&nbsp;-&nbsp;match&nbsp;goal&nbsp;with&nbsp;*)</span><br/>
<span class="comment">(*&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;|&nbsp;H:&nbsp;term&nbsp;t&nbsp;|-&nbsp;_&nbsp;=&gt;&nbsp;rename&nbsp;H&nbsp;into&nbsp;Ht&nbsp;end.&nbsp;*)</span><br/>
<span class="comment">(*&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;apply&nbsp;IHt&nbsp;in&nbsp;Ht.&nbsp;*)</span><br/>
<span class="comment">(*&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;destruct&nbsp;Ht&nbsp;as&nbsp;<span class="inlinecode"><span class="id" title="var">Hv</span></span> <span class="inlinecode">|</span> <span class="inlinecode"><span class="id" title="var">Hv</span></span>.&nbsp;*)</span><br/>
<span class="comment">(*&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;+&nbsp;left;&nbsp;constructor*.&nbsp;*)</span><br/>
<span class="comment">(*&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;+&nbsp;right.&nbsp;intro&nbsp;Hv'.&nbsp;inversion*&nbsp;Hv'.&nbsp;*)</span><br/>
<span class="comment">(*&nbsp;&nbsp;&nbsp;-&nbsp;match&nbsp;goal&nbsp;with&nbsp;*)</span><br/>
<span class="comment">(*&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;|&nbsp;H:&nbsp;term&nbsp;t1&nbsp;|-&nbsp;_&nbsp;=&gt;&nbsp;rename&nbsp;H&nbsp;into&nbsp;Ht1&nbsp;end.&nbsp;*)</span><br/>
<span class="comment">(*&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;match&nbsp;goal&nbsp;with&nbsp;*)</span><br/>
<span class="comment">(*&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;|&nbsp;H:&nbsp;term&nbsp;t2&nbsp;|-&nbsp;_&nbsp;=&gt;&nbsp;rename&nbsp;H&nbsp;into&nbsp;Ht2&nbsp;end.&nbsp;*)</span><br/>
<span class="comment">(*&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;apply&nbsp;IHt1&nbsp;in&nbsp;Ht1.&nbsp;*)</span><br/>
<span class="comment">(*&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;apply&nbsp;IHt2&nbsp;in&nbsp;Ht2.&nbsp;*)</span><br/>
<span class="comment">(*&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;destruct&nbsp;Ht1;&nbsp;*)</span><br/>
<span class="comment">(*&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;destruct&nbsp;Ht2;&nbsp;*)</span><br/>
<span class="comment">(*&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;try&nbsp;solve&nbsp;<span class="inlinecode"></span> <span class="inlinecode"><span class="id" title="tactic">left</span>;</span> <span class="inlinecode"><span class="id" title="tactic">econstructor</span>;</span> <span class="inlinecode"><span class="id" title="tactic">eauto</span></span> <span class="inlinecode"></span>*)</span><br/>
<span class="comment">(*&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;|&nbsp;right;&nbsp;intro&nbsp;Hv;&nbsp;inversion&nbsp;Hv;&nbsp;congruence&nbsp;].&nbsp;*)</span><br/>
<span class="comment">(*&nbsp;&nbsp;&nbsp;-&nbsp;left;&nbsp;econstructor.&nbsp;*)</span><br/>
<span class="comment">(*&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;econstructor;&nbsp;eauto.&nbsp;*)</span><br/>
<span class="comment">(*&nbsp;&nbsp;&nbsp;-&nbsp;left;&nbsp;econstructor.&nbsp;*)</span><br/>
<span class="comment">(*&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;econstructor;&nbsp;eauto.&nbsp;*)</span><br/>
<span class="comment">(*&nbsp;Qed.&nbsp;*)</span><br/>

<br/>
<span class="id" title="keyword">Ltac</span> <span class="id" title="var">IHap</span> <span class="id" title="var">IH</span> := <span class="id" title="tactic">eapply</span> <span class="id" title="var">IH</span>; <span class="id" title="tactic">eauto</span>;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">try</span> (<span class="id" title="tactic">unfold</span> <a class="idref" href="GMuAnnot.Definitions.html#open_ee"><span class="id" title="definition">open_ee</span></a>; <span class="id" title="tactic">rewrite</span> &lt;- <a class="idref" href="GMuAnnot.InfrastructureOpen.html#open_ee_var_preserves_size"><span class="id" title="lemma">open_ee_var_preserves_size</span></a>);<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">try</span> (<span class="id" title="tactic">unfold</span> <a class="idref" href="GMuAnnot.Definitions.html#open_te"><span class="id" title="definition">open_te</span></a>; <span class="id" title="tactic">rewrite</span> &lt;- <a class="idref" href="GMuAnnot.InfrastructureOpen.html#open_te_var_preserves_size"><span class="id" title="lemma">open_te_var_preserves_size</span></a>);<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">cbn</span>; <span class="id" title="var">lia</span>.<br/>

<br/>
<span class="comment">(*&nbsp;Lemma&nbsp;wft_weaken&nbsp;:&nbsp;forall&nbsp;Σ&nbsp;Δ&nbsp;E&nbsp;F&nbsp;G&nbsp;T,&nbsp;*)</span><br/>
<span class="comment">(*&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;wft&nbsp;Σ&nbsp;Δ&nbsp;(E&nbsp;&amp;&nbsp;G)&nbsp;T&nbsp;-&gt;&nbsp;*)</span><br/>
<span class="comment">(*&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;ok&nbsp;(E&nbsp;&amp;&nbsp;F&nbsp;&amp;&nbsp;G)&nbsp;-&gt;&nbsp;*)</span><br/>
<span class="comment">(*&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;wft&nbsp;Σ&nbsp;Δ&nbsp;(E&nbsp;&amp;&nbsp;F&nbsp;&amp;&nbsp;G)&nbsp;T.&nbsp;*)</span><br/>
<span class="comment">(*&nbsp;&nbsp;&nbsp;introv&nbsp;Hwft&nbsp;Hok.&nbsp;gen_eq&nbsp;K:&nbsp;(E&nbsp;&amp;&nbsp;G).&nbsp;gen&nbsp;E&nbsp;F&nbsp;G.&nbsp;*)</span><br/>
<span class="comment">(*&nbsp;&nbsp;&nbsp;induction&nbsp;Hwft;&nbsp;intros;&nbsp;subst;&nbsp;auto.&nbsp;*)</span><br/>
<span class="comment">(*&nbsp;&nbsp;&nbsp;-&nbsp;<span class="comment">(*&nbsp;case:&nbsp;var&nbsp;*)</span>&nbsp;*)</span><br/>
<span class="comment">(*&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;apply&nbsp;(@wft_var&nbsp;Σ&nbsp;(E0&nbsp;&amp;&nbsp;F&nbsp;&amp;&nbsp;G)&nbsp;X).&nbsp;&nbsp;apply*&nbsp;binds_weaken.&nbsp;*)</span><br/>
<span class="comment">(*&nbsp;&nbsp;&nbsp;-&nbsp;<span class="comment">(*&nbsp;case:&nbsp;all&nbsp;*)</span>&nbsp;*)</span><br/>
<span class="comment">(*&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;apply_fresh*&nbsp;wft_all&nbsp;as&nbsp;X.&nbsp;apply_ih_bind*&nbsp;H0.&nbsp;*)</span><br/>
<span class="comment">(*&nbsp;&nbsp;&nbsp;-&nbsp;econstructor;&nbsp;eauto.&nbsp;*)</span><br/>
<span class="comment">(*&nbsp;Qed.&nbsp;*)</span><br/>

<br/>
#[<span class="id" title="var">export</span>] <span class="id" title="keyword">Hint</span> <span class="id" title="keyword">Resolve</span> <span class="id" title="var">subst_tt_type</span> <span class="id" title="var">subst_te_term</span> <span class="id" title="var">subst_ee_term</span>.<br/>
#[<span class="id" title="var">export</span>] <span class="id" title="keyword">Hint</span> <span class="id" title="keyword">Resolve</span> <span class="id" title="var">subst_te_value</span> <span class="id" title="var">subst_ee_value</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="okt_is_ok" class="idref" href="#okt_is_ok"><span class="id" title="lemma">okt_is_ok</span></a> : <span class="id" title="keyword">∀</span> <a id="9c6d78f4cdf6dede5e109a175164bdaa" class="idref" href="#9c6d78f4cdf6dede5e109a175164bdaa"><span class="id" title="binder">Σ</span></a> <a id="d1f0e078f04502659f58b18dce315e18" class="idref" href="#d1f0e078f04502659f58b18dce315e18"><span class="id" title="binder">Δ</span></a> <a id="E:6" class="idref" href="#E:6"><span class="id" title="binder">E</span></a>, <a class="idref" href="../lambda2Gmu/GMu.Definitions.html#okt"><span class="id" title="inductive">okt</span></a> <a class="idref" href="GMuAnnot.Regularity.html#9c6d78f4cdf6dede5e109a175164bdaa"><span class="id" title="variable">Σ</span></a> <a class="idref" href="GMuAnnot.Regularity.html#d1f0e078f04502659f58b18dce315e18"><span class="id" title="variable">Δ</span></a> <a class="idref" href="GMuAnnot.Regularity.html#E:6"><span class="id" title="variable">E</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <span class="id" title="inductive">ok</span> <a class="idref" href="GMuAnnot.Regularity.html#E:6"><span class="id" title="variable">E</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="var">introv</span>. <span class="id" title="tactic">intro</span> <span class="id" title="var">Hokt</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">induction</span> <span class="id" title="var">Hokt</span>; <span class="id" title="tactic">eauto</span>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>
#[<span class="id" title="var">export</span>] <span class="id" title="keyword">Hint</span> <span class="id" title="keyword">Extern</span> 1 (<span class="id" title="inductive">ok</span> <span class="id" title="var">_</span>) ⇒ <span class="id" title="tactic">apply</span> <a class="idref" href="GMuAnnot.Regularity.html#okt_is_ok"><span class="id" title="lemma">okt_is_ok</span></a>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="wft_from_env_has_typ" class="idref" href="#wft_from_env_has_typ"><span class="id" title="lemma">wft_from_env_has_typ</span></a> : <span class="id" title="keyword">∀</span> <a id="0f7fdea5e8c25e3e1a79edf27e9de540" class="idref" href="#0f7fdea5e8c25e3e1a79edf27e9de540"><span class="id" title="binder">Σ</span></a> <a id="be45bd3545ff15616ff7876dda6137a7" class="idref" href="#be45bd3545ff15616ff7876dda6137a7"><span class="id" title="binder">Δ</span></a> <a id="x:9" class="idref" href="#x:9"><span class="id" title="binder">x</span></a> <a id="vk:10" class="idref" href="#vk:10"><span class="id" title="binder">vk</span></a> <a id="U:11" class="idref" href="#U:11"><span class="id" title="binder">U</span></a> <a id="E:12" class="idref" href="#E:12"><span class="id" title="binder">E</span></a>,<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="../lambda2Gmu/GMu.Definitions.html#okt"><span class="id" title="inductive">okt</span></a> <a class="idref" href="GMuAnnot.Regularity.html#0f7fdea5e8c25e3e1a79edf27e9de540"><span class="id" title="variable">Σ</span></a> <a class="idref" href="GMuAnnot.Regularity.html#be45bd3545ff15616ff7876dda6137a7"><span class="id" title="variable">Δ</span></a> <a class="idref" href="GMuAnnot.Regularity.html#E:12"><span class="id" title="variable">E</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <span class="id" title="definition">binds</span> <a class="idref" href="GMuAnnot.Regularity.html#x:9"><span class="id" title="variable">x</span></a> (<a class="idref" href="../lambda2Gmu/GMu.Definitions.html#bind_var"><span class="id" title="constructor">bind_var</span></a> <a class="idref" href="GMuAnnot.Regularity.html#vk:10"><span class="id" title="variable">vk</span></a> <a class="idref" href="GMuAnnot.Regularity.html#U:11"><span class="id" title="variable">U</span></a>) <a class="idref" href="GMuAnnot.Regularity.html#E:12"><span class="id" title="variable">E</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <a class="idref" href="../lambda2Gmu/GMu.Definitions.html#wft"><span class="id" title="inductive">wft</span></a> <a class="idref" href="GMuAnnot.Regularity.html#0f7fdea5e8c25e3e1a79edf27e9de540"><span class="id" title="variable">Σ</span></a> <a class="idref" href="GMuAnnot.Regularity.html#be45bd3545ff15616ff7876dda6137a7"><span class="id" title="variable">Δ</span></a> <a class="idref" href="GMuAnnot.Regularity.html#U:11"><span class="id" title="variable">U</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">induction</span> <span class="id" title="var">E</span> <span class="id" title="keyword">using</span> <span class="id" title="lemma">env_ind</span>; <span class="id" title="tactic">intros</span> <span class="id" title="var">Ok</span> <span class="id" title="var">B</span>.<br/>
&nbsp;&nbsp;<span class="id" title="var">false</span>× <span class="id" title="lemma">binds_empty_inv</span>.<br/>
&nbsp;&nbsp;<span class="id" title="var">inversions</span> <span class="id" title="var">Ok</span>.<br/>
&nbsp;&nbsp;- <span class="id" title="var">false</span> (<span class="id" title="lemma">empty_push_inv</span> <span class="id" title="var">H</span>).<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">destruct</span> (<span class="id" title="lemma">eq_push_inv</span> <span class="id" title="var">H</span>) <span class="id" title="keyword">as</span> [? [? ?]]; <span class="id" title="tactic">subst</span>. <span class="id" title="tactic">clear</span> <span class="id" title="var">H</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">lets</span> [[? <span class="id" title="var">HT</span>] | [? <span class="id" title="var">HB</span>]]: <span class="id" title="lemma">binds_push_inv</span> <span class="id" title="var">B</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="tactic">inversion</span>× <span class="id" title="var">HT</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="tactic">apply</span>× <span class="id" title="var">IHE</span>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="wft_strengthen_typ" class="idref" href="#wft_strengthen_typ"><span class="id" title="lemma">wft_strengthen_typ</span></a> : <span class="id" title="keyword">∀</span> <a id="475f6c17bae93ed6b0d4829862030679" class="idref" href="#475f6c17bae93ed6b0d4829862030679"><span class="id" title="binder">Σ</span></a> <a id="D1:14" class="idref" href="#D1:14"><span class="id" title="binder">D1</span></a> <a id="D2:15" class="idref" href="#D2:15"><span class="id" title="binder">D2</span></a> <a id="U:16" class="idref" href="#U:16"><span class="id" title="binder">U</span></a> <a id="T:17" class="idref" href="#T:17"><span class="id" title="binder">T</span></a>,<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="GMuAnnot.Regularity.html#U:16"><span class="id" title="variable">U</span></a> <span class="id" title="notation">\</span><span class="id" title="notation">notin</span> <a class="idref" href="../lambda2Gmu/GMu.Definitions.html#fv_typ"><span class="id" title="definition">fv_typ</span></a> <a class="idref" href="GMuAnnot.Regularity.html#T:17"><span class="id" title="variable">T</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="../lambda2Gmu/GMu.Definitions.html#wft"><span class="id" title="inductive">wft</span></a> <a class="idref" href="GMuAnnot.Regularity.html#475f6c17bae93ed6b0d4829862030679"><span class="id" title="variable">Σ</span></a> (<a class="idref" href="GMuAnnot.Regularity.html#D1:14"><span class="id" title="variable">D1</span></a> <a class="idref" href="../lambda2Gmu/GMu.Definitions.html#3ca84bd817dd2b1e2f0f693cd9400702"><span class="id" title="notation">|,|</span></a> <a class="idref" href="../lambda2Gmu/GMu.Definitions.html#b5ab1b23d5b56035820660ded1af9bea"><span class="id" title="notation">[</span></a><a class="idref" href="../lambda2Gmu/GMu.Definitions.html#tc_var"><span class="id" title="constructor">tc_var</span></a> <a class="idref" href="GMuAnnot.Regularity.html#U:16"><span class="id" title="variable">U</span></a><a class="idref" href="../lambda2Gmu/GMu.Definitions.html#b5ab1b23d5b56035820660ded1af9bea"><span class="id" title="notation">]*</span></a> <a class="idref" href="../lambda2Gmu/GMu.Definitions.html#3ca84bd817dd2b1e2f0f693cd9400702"><span class="id" title="notation">|,|</span></a> <a class="idref" href="GMuAnnot.Regularity.html#D2:15"><span class="id" title="variable">D2</span></a>) <a class="idref" href="GMuAnnot.Regularity.html#T:17"><span class="id" title="variable">T</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <a class="idref" href="../lambda2Gmu/GMu.Definitions.html#wft"><span class="id" title="inductive">wft</span></a> <a class="idref" href="GMuAnnot.Regularity.html#475f6c17bae93ed6b0d4829862030679"><span class="id" title="variable">Σ</span></a> (<a class="idref" href="GMuAnnot.Regularity.html#D1:14"><span class="id" title="variable">D1</span></a> <a class="idref" href="../lambda2Gmu/GMu.Definitions.html#3ca84bd817dd2b1e2f0f693cd9400702"><span class="id" title="notation">|,|</span></a> <a class="idref" href="GMuAnnot.Regularity.html#D2:15"><span class="id" title="variable">D2</span></a>) <a class="idref" href="GMuAnnot.Regularity.html#T:17"><span class="id" title="variable">T</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="var">introv</span> <span class="id" title="var">Ufresh</span> <span class="id" title="var">Hwft</span>. <span class="id" title="var">gen_eq</span> <span class="id" title="var">G</span>: (<span class="id" title="var">D1</span> <a class="idref" href="../lambda2Gmu/GMu.Definitions.html#3ca84bd817dd2b1e2f0f693cd9400702"><span class="id" title="notation">|,|</span></a> <a class="idref" href="../lambda2Gmu/GMu.Definitions.html#b5ab1b23d5b56035820660ded1af9bea"><span class="id" title="notation">[</span></a><a class="idref" href="../lambda2Gmu/GMu.Definitions.html#tc_var"><span class="id" title="constructor">tc_var</span></a> <span class="id" title="var">U</span><a class="idref" href="../lambda2Gmu/GMu.Definitions.html#b5ab1b23d5b56035820660ded1af9bea"><span class="id" title="notation">]*</span></a> <a class="idref" href="../lambda2Gmu/GMu.Definitions.html#3ca84bd817dd2b1e2f0f693cd9400702"><span class="id" title="notation">|,|</span></a> <span class="id" title="var">D2</span>). <span class="id" title="var">gen</span> <span class="id" title="var">D2</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">induction</span> <span class="id" title="var">Hwft</span>; <span class="id" title="tactic">intros</span> <span class="id" title="var">D2</span> <span class="id" title="var">EQ</span>; <span class="id" title="var">cbn</span> <span class="id" title="tactic">in</span> <span class="id" title="var">Ufresh</span>; <span class="id" title="tactic">subst</span>; <span class="id" title="tactic">auto</span>.<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">apply</span>× <a class="idref" href="../lambda2Gmu/GMu.Definitions.html#wft_var"><span class="id" title="constructor">wft_var</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">repeat</span> <span class="id" title="var">destruct_in_app</span>;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">unfold</span> <a class="idref" href="../lambda2Gmu/GMu.Definitions.html#is_var_defined"><span class="id" title="definition">is_var_defined</span></a>; <span class="id" title="tactic">eauto</span> <span class="id" title="keyword">using</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.0/stdlib//Coq.Lists.List.html#in_or_app"><span class="id" title="lemma">List.in_or_app</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">cbn</span> <span class="id" title="tactic">in</span> <span class="id" title="var">H</span>. <span class="id" title="tactic">intuition</span>. <span class="id" title="var">inversions</span> <span class="id" title="var">H0</span>. <span class="id" title="var">exfalso</span>; <span class="id" title="tactic">eauto</span> <span class="id" title="keyword">using</span> <span class="id" title="lemma">in_singleton_self</span>.<br/>
&nbsp;&nbsp;- <span class="comment">(*&nbsp;todo:&nbsp;binds_cases&nbsp;tactic&nbsp;*)</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">match</span> <span class="id" title="keyword">goal</span> <span class="id" title="keyword">with</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;| <span class="id" title="var">H</span>: <span class="id" title="keyword">∀</span> <a id="X:20" class="idref" href="#X:20"><span class="id" title="binder">X</span></a>, <a class="idref" href="GMuAnnot.Regularity.html#X:18"><span class="id" title="variable">X</span></a> <span class="id" title="notation">\</span><span class="id" title="notation">notin</span> <span class="id" title="var">L</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> ?<span class="id" title="var">P3</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <span class="id" title="keyword">∀</span> <a id="F0:21" class="idref" href="#F0:21"><span class="id" title="binder">F0</span></a>, ?<span class="id" title="var">P1</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> ?<span class="id" title="var">P2</span> |- <span class="id" title="var">_</span> ⇒<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rename</span> <span class="id" title="var">H</span> <span class="id" title="var">into</span> <span class="id" title="var">H_ctxEq_implies_wft</span> <span class="id" title="keyword">end</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">apply_fresh</span>× <a class="idref" href="../lambda2Gmu/GMu.Definitions.html#wft_all"><span class="id" title="constructor">wft_all</span></a> <span class="id" title="keyword">as</span> <span class="id" title="var">Y</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">lets</span>× <span class="id" title="var">IH</span>: <span class="id" title="var">H_ctxEq_implies_wft</span> <span class="id" title="var">Y</span> (<span class="id" title="var">D2</span> <a class="idref" href="../lambda2Gmu/GMu.Definitions.html#c75eef461fb5f0f666c2430395694606"><span class="id" title="notation">|,</span></a> <a class="idref" href="../lambda2Gmu/GMu.Definitions.html#tc_var"><span class="id" title="constructor">tc_var</span></a> <span class="id" title="var">Y</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="var">lets</span> [<span class="id" title="var">Hfv</span> | <span class="id" title="var">Hfv</span>]: <a class="idref" href="GMuAnnot.InfrastructureFV.html#fv_open"><span class="id" title="lemma">fv_open</span></a> <span class="id" title="var">T2</span> (<a class="idref" href="../lambda2Gmu/GMu.Definitions.html#typ_fvar"><span class="id" title="constructor">typ_fvar</span></a> <span class="id" title="var">Y</span>) 0;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">cbn</span> <span class="id" title="tactic">in</span> <span class="id" title="var">Hfv</span>; <span class="id" title="tactic">unfold</span> <a class="idref" href="../lambda2Gmu/GMu.Definitions.html#open_tt"><span class="id" title="definition">open_tt</span></a>; <span class="id" title="tactic">rewrite</span> <span class="id" title="var">Hfv</span>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">econstructor</span>; <span class="id" title="tactic">eauto</span>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="wft_strengthen_equation" class="idref" href="#wft_strengthen_equation"><span class="id" title="lemma">wft_strengthen_equation</span></a> : <span class="id" title="keyword">∀</span> <a id="d0cc8ffb472da08f91141220c07a3c85" class="idref" href="#d0cc8ffb472da08f91141220c07a3c85"><span class="id" title="binder">Σ</span></a> <a id="D1:23" class="idref" href="#D1:23"><span class="id" title="binder">D1</span></a> <a id="D2:24" class="idref" href="#D2:24"><span class="id" title="binder">D2</span></a> <a id="43c0ba8a83c2111b07e3b37ab47e1030" class="idref" href="#43c0ba8a83c2111b07e3b37ab47e1030"><span class="id" title="binder">ϵ</span></a> <a id="T:26" class="idref" href="#T:26"><span class="id" title="binder">T</span></a>,<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="../lambda2Gmu/GMu.Definitions.html#wft"><span class="id" title="inductive">wft</span></a> <a class="idref" href="GMuAnnot.Regularity.html#d0cc8ffb472da08f91141220c07a3c85"><span class="id" title="variable">Σ</span></a> (<a class="idref" href="GMuAnnot.Regularity.html#D1:23"><span class="id" title="variable">D1</span></a> <a class="idref" href="../lambda2Gmu/GMu.Definitions.html#3ca84bd817dd2b1e2f0f693cd9400702"><span class="id" title="notation">|,|</span></a> <a class="idref" href="../lambda2Gmu/GMu.Definitions.html#b5ab1b23d5b56035820660ded1af9bea"><span class="id" title="notation">[</span></a><a class="idref" href="../lambda2Gmu/GMu.Definitions.html#tc_eq"><span class="id" title="constructor">tc_eq</span></a> <a class="idref" href="GMuAnnot.Regularity.html#43c0ba8a83c2111b07e3b37ab47e1030"><span class="id" title="variable">ϵ</span></a><a class="idref" href="../lambda2Gmu/GMu.Definitions.html#b5ab1b23d5b56035820660ded1af9bea"><span class="id" title="notation">]*</span></a> <a class="idref" href="../lambda2Gmu/GMu.Definitions.html#3ca84bd817dd2b1e2f0f693cd9400702"><span class="id" title="notation">|,|</span></a> <a class="idref" href="GMuAnnot.Regularity.html#D2:24"><span class="id" title="variable">D2</span></a>) <a class="idref" href="GMuAnnot.Regularity.html#T:26"><span class="id" title="variable">T</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="../lambda2Gmu/GMu.Definitions.html#wft"><span class="id" title="inductive">wft</span></a> <a class="idref" href="GMuAnnot.Regularity.html#d0cc8ffb472da08f91141220c07a3c85"><span class="id" title="variable">Σ</span></a> (<a class="idref" href="GMuAnnot.Regularity.html#D1:23"><span class="id" title="variable">D1</span></a> <a class="idref" href="../lambda2Gmu/GMu.Definitions.html#3ca84bd817dd2b1e2f0f693cd9400702"><span class="id" title="notation">|,|</span></a> <a class="idref" href="GMuAnnot.Regularity.html#D2:24"><span class="id" title="variable">D2</span></a>) <a class="idref" href="GMuAnnot.Regularity.html#T:26"><span class="id" title="variable">T</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="var">introv</span> <span class="id" title="var">Hwft</span>. <span class="id" title="var">gen_eq</span> <span class="id" title="var">G</span>: (<span class="id" title="var">D1</span> <a class="idref" href="../lambda2Gmu/GMu.Definitions.html#3ca84bd817dd2b1e2f0f693cd9400702"><span class="id" title="notation">|,|</span></a> <a class="idref" href="../lambda2Gmu/GMu.Definitions.html#b5ab1b23d5b56035820660ded1af9bea"><span class="id" title="notation">[</span></a><a class="idref" href="../lambda2Gmu/GMu.Definitions.html#tc_eq"><span class="id" title="constructor">tc_eq</span></a> <span class="id" title="var">ϵ</span><a class="idref" href="../lambda2Gmu/GMu.Definitions.html#b5ab1b23d5b56035820660ded1af9bea"><span class="id" title="notation">]*</span></a> <a class="idref" href="../lambda2Gmu/GMu.Definitions.html#3ca84bd817dd2b1e2f0f693cd9400702"><span class="id" title="notation">|,|</span></a> <span class="id" title="var">D2</span>). <span class="id" title="var">gen</span> <span class="id" title="var">D2</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">induction</span> <span class="id" title="var">Hwft</span>; <span class="id" title="tactic">intros</span> <span class="id" title="var">D2</span> <span class="id" title="var">EQ</span>; <span class="id" title="tactic">subst</span>; <span class="id" title="tactic">auto</span>.<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">apply</span>× <a class="idref" href="../lambda2Gmu/GMu.Definitions.html#wft_var"><span class="id" title="constructor">wft_var</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">unfold</span> <a class="idref" href="../lambda2Gmu/GMu.Definitions.html#is_var_defined"><span class="id" title="definition">is_var_defined</span></a> <span class="id" title="tactic">in</span> ×.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">lets</span> [<span class="id" title="var">Hin</span> | <span class="id" title="var">Hin</span>]: <a class="idref" href="http://coq.inria.fr/distrib/V8.13.0/stdlib//Coq.Lists.List.html#in_app_or"><span class="id" title="lemma">List.in_app_or</span></a> <span class="id" title="var">H</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="tactic">apply</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.0/stdlib//Coq.Lists.List.html#in_or_app"><span class="id" title="lemma">List.in_or_app</span></a>; <span class="id" title="tactic">left</span>¬.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="var">lets</span> [? | ?]: <a class="idref" href="http://coq.inria.fr/distrib/V8.13.0/stdlib//Coq.Lists.List.html#in_app_or"><span class="id" title="lemma">List.in_app_or</span></a> <span class="id" title="var">Hin</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;× <span class="id" title="tactic">inversion</span> <span class="id" title="var">H0</span>; <span class="id" title="var">false</span>×.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;× <span class="id" title="tactic">apply</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.0/stdlib//Coq.Lists.List.html#in_or_app"><span class="id" title="lemma">List.in_or_app</span></a>; <span class="id" title="tactic">right</span>¬.<br/>
&nbsp;&nbsp;- <span class="id" title="var">apply_fresh</span> <a class="idref" href="../lambda2Gmu/GMu.Definitions.html#wft_all"><span class="id" title="constructor">wft_all</span></a> <span class="id" title="keyword">as</span> <span class="id" title="var">X</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">lets</span> <span class="id" title="var">IH</span>: <span class="id" title="var">H0</span> <span class="id" title="var">X</span> (<span class="id" title="var">D2</span> <a class="idref" href="../lambda2Gmu/GMu.Definitions.html#c75eef461fb5f0f666c2430395694606"><span class="id" title="notation">|,</span></a> <a class="idref" href="../lambda2Gmu/GMu.Definitions.html#tc_var"><span class="id" title="constructor">tc_var</span></a> <span class="id" title="var">X</span>); <span class="id" title="tactic">auto</span>.<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">econstructor</span>; <span class="id" title="tactic">eauto</span>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="wft_strengthen_equations" class="idref" href="#wft_strengthen_equations"><span class="id" title="lemma">wft_strengthen_equations</span></a> : <span class="id" title="keyword">∀</span> <a id="2ce23d418d95c371330ae00e4301f160" class="idref" href="#2ce23d418d95c371330ae00e4301f160"><span class="id" title="binder">Σ</span></a> <a id="D1:28" class="idref" href="#D1:28"><span class="id" title="binder">D1</span></a> <a id="Deqs:29" class="idref" href="#Deqs:29"><span class="id" title="binder">Deqs</span></a> <a id="D2:30" class="idref" href="#D2:30"><span class="id" title="binder">D2</span></a> <a id="T:31" class="idref" href="#T:31"><span class="id" title="binder">T</span></a>,<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="../lambda2Gmu/GMu.Definitions.html#wft"><span class="id" title="inductive">wft</span></a> <a class="idref" href="GMuAnnot.Regularity.html#2ce23d418d95c371330ae00e4301f160"><span class="id" title="variable">Σ</span></a> (<a class="idref" href="GMuAnnot.Regularity.html#D1:28"><span class="id" title="variable">D1</span></a> <a class="idref" href="../lambda2Gmu/GMu.Definitions.html#3ca84bd817dd2b1e2f0f693cd9400702"><span class="id" title="notation">|,|</span></a> <a class="idref" href="GMuAnnot.Regularity.html#Deqs:29"><span class="id" title="variable">Deqs</span></a> <a class="idref" href="../lambda2Gmu/GMu.Definitions.html#3ca84bd817dd2b1e2f0f693cd9400702"><span class="id" title="notation">|,|</span></a> <a class="idref" href="GMuAnnot.Regularity.html#D2:30"><span class="id" title="variable">D2</span></a>) <a class="idref" href="GMuAnnot.Regularity.html#T:31"><span class="id" title="variable">T</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/V8.13.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">(</span></a><span class="id" title="keyword">∀</span> <a id="eq:32" class="idref" href="#eq:32"><span class="id" title="binder">eq</span></a>, <a class="idref" href="http://coq.inria.fr/distrib/V8.13.0/stdlib//Coq.Lists.List.html#In"><span class="id" title="definition">List.In</span></a> <a class="idref" href="GMuAnnot.Regularity.html#eq:32"><span class="id" title="variable">eq</span></a> <a class="idref" href="GMuAnnot.Regularity.html#Deqs:29"><span class="id" title="variable">Deqs</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.0/stdlib//Coq.Init.Logic.html#a883bdd010993579f99d60b3775bcf54"><span class="id" title="notation">∃</span></a> <a id="895af4478281f3190b1de8fa09be0082" class="idref" href="#895af4478281f3190b1de8fa09be0082"><span class="id" title="binder">ϵ</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.13.0/stdlib//Coq.Init.Logic.html#a883bdd010993579f99d60b3775bcf54"><span class="id" title="notation">,</span></a> <a class="idref" href="GMuAnnot.Regularity.html#eq:32"><span class="id" title="variable">eq</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="../lambda2Gmu/GMu.Definitions.html#tc_eq"><span class="id" title="constructor">tc_eq</span></a> <a class="idref" href="GMuAnnot.Regularity.html#895af4478281f3190b1de8fa09be0082"><span class="id" title="variable">ϵ</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.13.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">)</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="../lambda2Gmu/GMu.Definitions.html#wft"><span class="id" title="inductive">wft</span></a> <a class="idref" href="GMuAnnot.Regularity.html#2ce23d418d95c371330ae00e4301f160"><span class="id" title="variable">Σ</span></a> (<a class="idref" href="GMuAnnot.Regularity.html#D1:28"><span class="id" title="variable">D1</span></a> <a class="idref" href="../lambda2Gmu/GMu.Definitions.html#3ca84bd817dd2b1e2f0f693cd9400702"><span class="id" title="notation">|,|</span></a> <a class="idref" href="GMuAnnot.Regularity.html#D2:30"><span class="id" title="variable">D2</span></a>) <a class="idref" href="GMuAnnot.Regularity.html#T:31"><span class="id" title="variable">T</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">induction</span> <span class="id" title="var">Deqs</span>; <span class="id" title="var">introv</span> <span class="id" title="var">Hwft</span> <span class="id" title="var">Heqs</span>.<br/>
&nbsp;&nbsp;- <span class="id" title="var">clean_empty_Δ</span>. <span class="id" title="tactic">auto</span>.<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">destruct</span> <span class="id" title="var">a</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="var">lets</span> [? ?]: <span class="id" title="var">Heqs</span> (<a class="idref" href="../lambda2Gmu/GMu.Definitions.html#tc_var"><span class="id" title="constructor">tc_var</span></a> <span class="id" title="var">A</span>); <span class="id" title="tactic">auto</span> <span class="id" title="keyword">with</span> <span class="id" title="var">listin</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">false</span>¬.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="var">fold_delta</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <span class="id" title="var">IHDeqs</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;× <span class="id" title="tactic">apply</span>× <a class="idref" href="GMuAnnot.Regularity.html#wft_strengthen_equation"><span class="id" title="lemma">wft_strengthen_equation</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">repeat</span> <span class="id" title="tactic">rewrite</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.0/stdlib//Coq.Lists.List.html#app_assoc"><span class="id" title="lemma">List.app_assoc</span></a> <span class="id" title="tactic">in</span> *; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;× <span class="id" title="tactic">intros</span> <span class="id" title="var">eq1</span> <span class="id" title="var">Hin</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">lets</span> <span class="id" title="var">Hl</span>: <span class="id" title="var">Heqs</span> <span class="id" title="var">eq1</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <span class="id" title="var">Hl</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">cbn</span>. <span class="id" title="tactic">right</span>¬.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="wft_strengthen_typ_many" class="idref" href="#wft_strengthen_typ_many"><span class="id" title="lemma">wft_strengthen_typ_many</span></a> : <span class="id" title="keyword">∀</span> <a id="c9c14b58eeeaee559bef0d4f884fa28f" class="idref" href="#c9c14b58eeeaee559bef0d4f884fa28f"><span class="id" title="binder">Σ</span></a> <a id="As:35" class="idref" href="#As:35"><span class="id" title="binder">As</span></a> <a id="cb2aea9873e9c48b6aed75f059ae789d" class="idref" href="#cb2aea9873e9c48b6aed75f059ae789d"><span class="id" title="binder">Δ</span></a> <a id="T:37" class="idref" href="#T:37"><span class="id" title="binder">T</span></a>,<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="../lambda2Gmu/GMu.Definitions.html#wft"><span class="id" title="inductive">wft</span></a> <a class="idref" href="GMuAnnot.Regularity.html#c9c14b58eeeaee559bef0d4f884fa28f"><span class="id" title="variable">Σ</span></a> (<a class="idref" href="GMuAnnot.Regularity.html#cb2aea9873e9c48b6aed75f059ae789d"><span class="id" title="variable">Δ</span></a> <a class="idref" href="../lambda2Gmu/GMu.Definitions.html#3ca84bd817dd2b1e2f0f693cd9400702"><span class="id" title="notation">|,|</span></a> <a class="idref" href="../lambda2Gmu/GMu.Definitions.html#tc_vars"><span class="id" title="definition">tc_vars</span></a> <a class="idref" href="GMuAnnot.Regularity.html#As:35"><span class="id" title="variable">As</span></a>) <a class="idref" href="GMuAnnot.Regularity.html#T:37"><span class="id" title="variable">T</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/V8.13.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">(</span></a><span class="id" title="keyword">∀</span> <a id="A:38" class="idref" href="#A:38"><span class="id" title="binder">A</span></a>, <a class="idref" href="http://coq.inria.fr/distrib/V8.13.0/stdlib//Coq.Lists.List.html#In"><span class="id" title="definition">List.In</span></a> <a class="idref" href="GMuAnnot.Regularity.html#A:38"><span class="id" title="variable">A</span></a> <a class="idref" href="GMuAnnot.Regularity.html#As:35"><span class="id" title="variable">As</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <a class="idref" href="GMuAnnot.Regularity.html#A:38"><span class="id" title="variable">A</span></a> <span class="id" title="notation">\</span><span class="id" title="notation">notin</span> <a class="idref" href="../lambda2Gmu/GMu.Definitions.html#fv_typ"><span class="id" title="definition">fv_typ</span></a> <a class="idref" href="GMuAnnot.Regularity.html#T:37"><span class="id" title="variable">T</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.13.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">)</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="../lambda2Gmu/GMu.Definitions.html#wft"><span class="id" title="inductive">wft</span></a> <a class="idref" href="GMuAnnot.Regularity.html#c9c14b58eeeaee559bef0d4f884fa28f"><span class="id" title="variable">Σ</span></a> <a class="idref" href="GMuAnnot.Regularity.html#cb2aea9873e9c48b6aed75f059ae789d"><span class="id" title="variable">Δ</span></a> <a class="idref" href="GMuAnnot.Regularity.html#T:37"><span class="id" title="variable">T</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">induction</span> <span class="id" title="var">As</span> <span class="id" title="keyword">as</span> [| <span class="id" title="var">Ah</span> <span class="id" title="var">Ats</span>]; <span class="id" title="var">introv</span> <span class="id" title="var">Hwft</span> <span class="id" title="var">Asfresh</span>.<br/>
&nbsp;&nbsp;- <span class="id" title="var">cbn</span> <span class="id" title="tactic">in</span> ×. <span class="id" title="var">clean_empty_Δ</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">trivial</span>.<br/>
&nbsp;&nbsp;- <span class="id" title="var">cbn</span> <span class="id" title="tactic">in</span> ×. <span class="id" title="var">fold_delta</span>. <span class="id" title="var">fold_delta</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span>× <span class="id" title="var">IHAts</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">lets</span> <span class="id" title="var">W</span>: <a class="idref" href="GMuAnnot.Regularity.html#wft_strengthen_typ"><span class="id" title="lemma">wft_strengthen_typ</span></a> <span class="id" title="var">Σ</span> (<span class="id" title="var">Δ</span> <a class="idref" href="../lambda2Gmu/GMu.Definitions.html#3ca84bd817dd2b1e2f0f693cd9400702"><span class="id" title="notation">|,|</span></a> <a class="idref" href="../lambda2Gmu/GMu.Definitions.html#tc_vars"><span class="id" title="definition">tc_vars</span></a> <span class="id" title="var">Ats</span>) <a class="idref" href="../lambda2Gmu/GMu.Definitions.html#c683a0ef5cfb77e0c243d45a72fd3fea"><span class="id" title="definition">emptyΔ</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">clean_empty_Δ</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span>¬ <span class="id" title="var">W</span>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>
<span class="comment">(*&nbsp;Lemma&nbsp;wft_strengthen&nbsp;:&nbsp;forall&nbsp;Σ&nbsp;Δ&nbsp;E&nbsp;F&nbsp;x&nbsp;U&nbsp;T,&nbsp;*)</span><br/>
<span class="comment">(*&nbsp;&nbsp;wft&nbsp;Σ&nbsp;Δ&nbsp;(E&nbsp;&amp;&nbsp;(x&nbsp;~:&nbsp;U)&nbsp;&amp;&nbsp;F)&nbsp;T&nbsp;-&gt;&nbsp;wft&nbsp;Σ&nbsp;(E&nbsp;&amp;&nbsp;F)&nbsp;T.&nbsp;*)</span><br/>
<span class="comment">(*&nbsp;Proof.&nbsp;*)</span><br/>
<span class="comment">(*&nbsp;&nbsp;&nbsp;introv&nbsp;Hwft.&nbsp;gen_eq&nbsp;G:&nbsp;(E&nbsp;&amp;&nbsp;(x&nbsp;~:&nbsp;U)&nbsp;&amp;&nbsp;F).&nbsp;gen&nbsp;F.&nbsp;*)</span><br/>
<span class="comment">(*&nbsp;&nbsp;&nbsp;induction&nbsp;Hwft;&nbsp;intros&nbsp;F&nbsp;EQ;&nbsp;subst;&nbsp;auto.&nbsp;*)</span><br/>
<span class="comment">(*&nbsp;&nbsp;&nbsp;-&nbsp;*)</span><br/>
<span class="comment">(*&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;match&nbsp;goal&nbsp;with&nbsp;*)</span><br/>
<span class="comment">(*&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;|&nbsp;H:&nbsp;binds&nbsp;_&nbsp;_&nbsp;_&nbsp;|-&nbsp;_&nbsp;=&gt;&nbsp;*)</span><br/>
<span class="comment">(*&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;rename&nbsp;H&nbsp;into&nbsp;Hbinds_bindtyp&nbsp;end.&nbsp;*)</span><br/>
<span class="comment">(*&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;apply*&nbsp;(@wft_var).&nbsp;*)</span><br/>
<span class="comment">(*&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;destruct&nbsp;(binds_concat_inv&nbsp;Hbinds_bindtyp)&nbsp;as&nbsp;<span class="inlinecode">?|[?</span> <span class="inlinecode"><span class="id" title="var">Hbinds2</span>]</span>.&nbsp;*)</span><br/>
<span class="comment">(*&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;+&nbsp;apply~&nbsp;binds_concat_right.&nbsp;*)</span><br/>
<span class="comment">(*&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;+&nbsp;destruct&nbsp;(binds_push_inv&nbsp;Hbinds2)&nbsp;as&nbsp;<span class="inlinecode">[?</span> <span class="inlinecode">?]|[?</span> <span class="inlinecode">?]</span>.&nbsp;*)</span><br/>
<span class="comment">(*&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;*&nbsp;subst.&nbsp;false.&nbsp;*)</span><br/>
<span class="comment">(*&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;*&nbsp;apply~&nbsp;binds_concat_left.&nbsp;*)</span><br/>
<span class="comment">(*&nbsp;&nbsp;&nbsp;-&nbsp;<span class="comment">(*&nbsp;todo:&nbsp;binds_cases&nbsp;tactic&nbsp;*)</span>&nbsp;*)</span><br/>
<span class="comment">(*&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;match&nbsp;goal&nbsp;with&nbsp;*)</span><br/>
<span class="comment">(*&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;|&nbsp;H:&nbsp;forall&nbsp;X,&nbsp;X&nbsp;\notin&nbsp;L&nbsp;-&gt;&nbsp;forall&nbsp;F0,&nbsp;?P1&nbsp;-&gt;&nbsp;?P2&nbsp;|-&nbsp;_&nbsp;=&gt;&nbsp;*)</span><br/>
<span class="comment">(*&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;rename&nbsp;H&nbsp;into&nbsp;H_ctxEq_implies_wft&nbsp;end.&nbsp;*)</span><br/>
<span class="comment">(*&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;apply_fresh*&nbsp;wft_all&nbsp;as&nbsp;Y.&nbsp;apply_ih_bind*&nbsp;H_ctxEq_implies_wft.&nbsp;*)</span><br/>
<span class="comment">(*&nbsp;&nbsp;&nbsp;-&nbsp;econstructor;&nbsp;eauto.&nbsp;*)</span><br/>
<span class="comment">(*&nbsp;Qed.&nbsp;*)</span><br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="okt_implies_okgadt" class="idref" href="#okt_implies_okgadt"><span class="id" title="lemma">okt_implies_okgadt</span></a> : <span class="id" title="keyword">∀</span> <a id="35567acd9698191de072da28ede88db8" class="idref" href="#35567acd9698191de072da28ede88db8"><span class="id" title="binder">Σ</span></a> <a id="132798b8acac29be931b8af59d1aecf3" class="idref" href="#132798b8acac29be931b8af59d1aecf3"><span class="id" title="binder">Δ</span></a> <a id="E:41" class="idref" href="#E:41"><span class="id" title="binder">E</span></a>, <a class="idref" href="../lambda2Gmu/GMu.Definitions.html#okt"><span class="id" title="inductive">okt</span></a> <a class="idref" href="GMuAnnot.Regularity.html#35567acd9698191de072da28ede88db8"><span class="id" title="variable">Σ</span></a> <a class="idref" href="GMuAnnot.Regularity.html#132798b8acac29be931b8af59d1aecf3"><span class="id" title="variable">Δ</span></a> <a class="idref" href="GMuAnnot.Regularity.html#E:41"><span class="id" title="variable">E</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <a class="idref" href="../lambda2Gmu/GMu.Definitions.html#okGadt"><span class="id" title="definition">okGadt</span></a> <a class="idref" href="GMuAnnot.Regularity.html#35567acd9698191de072da28ede88db8"><span class="id" title="variable">Σ</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">induction</span> 1; <span class="id" title="tactic">auto</span>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Ltac</span> <span class="id" title="var">find_ctxeq</span> :=<br/>
&nbsp;&nbsp;<span class="id" title="keyword">match</span> <span class="id" title="keyword">goal</span> <span class="id" title="keyword">with</span><br/>
&nbsp;&nbsp;| <span class="id" title="var">H</span>: <span class="id" title="var">_</span> <span class="id" title="notation">&amp;</span> <span class="id" title="var">_</span> <span class="id" title="notation">¬</span> <span class="id" title="var">_</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <span class="id" title="var">_</span> <span class="id" title="notation">&amp;</span> <span class="id" title="var">_</span> <span class="id" title="notation">¬</span> <span class="id" title="var">_</span> |- <span class="id" title="var">_</span> ⇒<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rename</span> <span class="id" title="var">H</span> <span class="id" title="var">into</span> <span class="id" title="var">Hctx_eq</span><br/>
&nbsp;&nbsp;<span class="id" title="keyword">end</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="okt_push_var_inv" class="idref" href="#okt_push_var_inv"><span class="id" title="lemma">okt_push_var_inv</span></a> : <span class="id" title="keyword">∀</span> <a id="9cdd3744fef7e647d555c1b5b5ffd982" class="idref" href="#9cdd3744fef7e647d555c1b5b5ffd982"><span class="id" title="binder">Σ</span></a> <a id="8607d6c2a9ec9a03517c9fec6401a571" class="idref" href="#8607d6c2a9ec9a03517c9fec6401a571"><span class="id" title="binder">Δ</span></a> <a id="E:44" class="idref" href="#E:44"><span class="id" title="binder">E</span></a> <a id="x:45" class="idref" href="#x:45"><span class="id" title="binder">x</span></a> <a id="vk:46" class="idref" href="#vk:46"><span class="id" title="binder">vk</span></a> <a id="T:47" class="idref" href="#T:47"><span class="id" title="binder">T</span></a>,<br/>
&nbsp;&nbsp;<a class="idref" href="../lambda2Gmu/GMu.Definitions.html#okt"><span class="id" title="inductive">okt</span></a> <a class="idref" href="GMuAnnot.Regularity.html#9cdd3744fef7e647d555c1b5b5ffd982"><span class="id" title="variable">Σ</span></a> <a class="idref" href="GMuAnnot.Regularity.html#8607d6c2a9ec9a03517c9fec6401a571"><span class="id" title="variable">Δ</span></a> (<a class="idref" href="GMuAnnot.Regularity.html#E:44"><span class="id" title="variable">E</span></a> <span class="id" title="notation">&amp;</span> <a class="idref" href="GMuAnnot.Regularity.html#x:45"><span class="id" title="variable">x</span></a> <span class="id" title="notation">¬</span> <a class="idref" href="../lambda2Gmu/GMu.Definitions.html#bind_var"><span class="id" title="constructor">bind_var</span></a> <a class="idref" href="GMuAnnot.Regularity.html#vk:46"><span class="id" title="variable">vk</span></a> <a class="idref" href="GMuAnnot.Regularity.html#T:47"><span class="id" title="variable">T</span></a>) <a class="idref" href="http://coq.inria.fr/distrib/V8.13.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <a class="idref" href="../lambda2Gmu/GMu.Definitions.html#okt"><span class="id" title="inductive">okt</span></a> <a class="idref" href="GMuAnnot.Regularity.html#9cdd3744fef7e647d555c1b5b5ffd982"><span class="id" title="variable">Σ</span></a> <a class="idref" href="GMuAnnot.Regularity.html#8607d6c2a9ec9a03517c9fec6401a571"><span class="id" title="variable">Δ</span></a> <a class="idref" href="GMuAnnot.Regularity.html#E:44"><span class="id" title="variable">E</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.0/stdlib//Coq.Init.Logic.html#ba2b0e492d2b4675a0acf3ea92aabadd"><span class="id" title="notation">∧</span></a> <a class="idref" href="../lambda2Gmu/GMu.Definitions.html#wft"><span class="id" title="inductive">wft</span></a> <a class="idref" href="GMuAnnot.Regularity.html#9cdd3744fef7e647d555c1b5b5ffd982"><span class="id" title="variable">Σ</span></a> <a class="idref" href="GMuAnnot.Regularity.html#8607d6c2a9ec9a03517c9fec6401a571"><span class="id" title="variable">Δ</span></a> <a class="idref" href="GMuAnnot.Regularity.html#T:47"><span class="id" title="variable">T</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.0/stdlib//Coq.Init.Logic.html#ba2b0e492d2b4675a0acf3ea92aabadd"><span class="id" title="notation">∧</span></a> <a class="idref" href="GMuAnnot.Regularity.html#x:45"><span class="id" title="variable">x</span></a> <span class="id" title="notation">#</span> <a class="idref" href="GMuAnnot.Regularity.html#E:44"><span class="id" title="variable">E</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="var">introv</span> <span class="id" title="var">O</span>; <span class="id" title="var">inverts</span> <span class="id" title="var">O</span>.<br/>
&nbsp;&nbsp;- <span class="id" title="var">false</span>× <span class="id" title="lemma">empty_push_inv</span>.<br/>
&nbsp;&nbsp;- <span class="id" title="var">find_ctxeq</span>. <span class="id" title="var">lets</span> (?&amp;<span class="id" title="var">M</span>&amp;?): (<span class="id" title="lemma">eq_push_inv</span> <span class="id" title="var">Hctx_eq</span>). <span class="id" title="tactic">subst</span>. <span class="id" title="var">inverts</span>¬ <span class="id" title="var">M</span>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="okt_is_wft" class="idref" href="#okt_is_wft"><span class="id" title="lemma">okt_is_wft</span></a> : <span class="id" title="keyword">∀</span> <a id="1599156b531db08541b0ea734472e882" class="idref" href="#1599156b531db08541b0ea734472e882"><span class="id" title="binder">Σ</span></a> <a id="f570eeb83f49df461a5c9ba68e6ca6b4" class="idref" href="#f570eeb83f49df461a5c9ba68e6ca6b4"><span class="id" title="binder">Δ</span></a> <a id="E:50" class="idref" href="#E:50"><span class="id" title="binder">E</span></a> <a id="x:51" class="idref" href="#x:51"><span class="id" title="binder">x</span></a> <a id="vk:52" class="idref" href="#vk:52"><span class="id" title="binder">vk</span></a> <a id="T:53" class="idref" href="#T:53"><span class="id" title="binder">T</span></a>,<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="../lambda2Gmu/GMu.Definitions.html#okt"><span class="id" title="inductive">okt</span></a> <a class="idref" href="GMuAnnot.Regularity.html#1599156b531db08541b0ea734472e882"><span class="id" title="variable">Σ</span></a> <a class="idref" href="GMuAnnot.Regularity.html#f570eeb83f49df461a5c9ba68e6ca6b4"><span class="id" title="variable">Δ</span></a> (<a class="idref" href="GMuAnnot.Regularity.html#E:50"><span class="id" title="variable">E</span></a> <span class="id" title="notation">&amp;</span> <a class="idref" href="GMuAnnot.Regularity.html#x:51"><span class="id" title="variable">x</span></a> <span class="id" title="notation">¬</span> <a class="idref" href="../lambda2Gmu/GMu.Definitions.html#bind_var"><span class="id" title="constructor">bind_var</span></a> <a class="idref" href="GMuAnnot.Regularity.html#vk:52"><span class="id" title="variable">vk</span></a> <a class="idref" href="GMuAnnot.Regularity.html#T:53"><span class="id" title="variable">T</span></a>) <a class="idref" href="http://coq.inria.fr/distrib/V8.13.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <a class="idref" href="../lambda2Gmu/GMu.Definitions.html#wft"><span class="id" title="inductive">wft</span></a> <a class="idref" href="GMuAnnot.Regularity.html#1599156b531db08541b0ea734472e882"><span class="id" title="variable">Σ</span></a> <a class="idref" href="GMuAnnot.Regularity.html#f570eeb83f49df461a5c9ba68e6ca6b4"><span class="id" title="variable">Δ</span></a> <a class="idref" href="GMuAnnot.Regularity.html#T:53"><span class="id" title="variable">T</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="var">introv</span> <span class="id" title="var">Hokt</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">inversion</span> <span class="id" title="var">Hokt</span>.<br/>
&nbsp;&nbsp;- <span class="id" title="var">false</span>× <span class="id" title="lemma">empty_push_inv</span>.<br/>
&nbsp;&nbsp;<span class="comment">(*&nbsp;-&nbsp;lets&nbsp;(?&amp;?&amp;?):&nbsp;eq_push_inv&nbsp;H.&nbsp;false*.&nbsp;*)</span><br/>
&nbsp;&nbsp;- <span class="id" title="var">lets</span> (?&amp;?&amp;?): <span class="id" title="lemma">eq_push_inv</span> <span class="id" title="var">H</span>. <span class="id" title="tactic">subst</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">match</span> <span class="id" title="keyword">goal</span> <span class="id" title="keyword">with</span> <span class="id" title="var">Heq</span>: <a class="idref" href="../lambda2Gmu/GMu.Definitions.html#bind_var"><span class="id" title="constructor">bind_var</span></a> ?<span class="id" title="var">k1</span> ?<span class="id" title="var">T1</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="../lambda2Gmu/GMu.Definitions.html#bind_var"><span class="id" title="constructor">bind_var</span></a> ?<span class="id" title="var">k2</span> ?<span class="id" title="var">T2</span> |- <span class="id" title="var">_</span> ⇒ <span class="id" title="var">inversions</span>× <span class="id" title="var">Heq</span> <span class="id" title="keyword">end</span>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="okt_strengthen" class="idref" href="#okt_strengthen"><span class="id" title="lemma">okt_strengthen</span></a> : <span class="id" title="keyword">∀</span> <a id="7674e0ce7f4ec5e4ff169924724c4b41" class="idref" href="#7674e0ce7f4ec5e4ff169924724c4b41"><span class="id" title="binder">Σ</span></a> <a id="a7771386bc693e0f9d7adf834bb6dec0" class="idref" href="#a7771386bc693e0f9d7adf834bb6dec0"><span class="id" title="binder">Δ</span></a> <a id="E:56" class="idref" href="#E:56"><span class="id" title="binder">E</span></a> <a id="x:57" class="idref" href="#x:57"><span class="id" title="binder">x</span></a> <a id="vk:58" class="idref" href="#vk:58"><span class="id" title="binder">vk</span></a> <a id="U:59" class="idref" href="#U:59"><span class="id" title="binder">U</span></a> <a id="F:60" class="idref" href="#F:60"><span class="id" title="binder">F</span></a>,<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="../lambda2Gmu/GMu.Definitions.html#okt"><span class="id" title="inductive">okt</span></a> <a class="idref" href="GMuAnnot.Regularity.html#7674e0ce7f4ec5e4ff169924724c4b41"><span class="id" title="variable">Σ</span></a> <a class="idref" href="GMuAnnot.Regularity.html#a7771386bc693e0f9d7adf834bb6dec0"><span class="id" title="variable">Δ</span></a> (<a class="idref" href="GMuAnnot.Regularity.html#E:56"><span class="id" title="variable">E</span></a> <span class="id" title="notation">&amp;</span> <span class="id" title="notation">(</span><a class="idref" href="GMuAnnot.Regularity.html#x:57"><span class="id" title="variable">x</span></a> <span class="id" title="notation">¬</span> <a class="idref" href="../lambda2Gmu/GMu.Definitions.html#bind_var"><span class="id" title="constructor">bind_var</span></a> <a class="idref" href="GMuAnnot.Regularity.html#vk:58"><span class="id" title="variable">vk</span></a> <a class="idref" href="GMuAnnot.Regularity.html#U:59"><span class="id" title="variable">U</span></a><span class="id" title="notation">)</span> <span class="id" title="notation">&amp;</span> <a class="idref" href="GMuAnnot.Regularity.html#F:60"><span class="id" title="variable">F</span></a>) <a class="idref" href="http://coq.inria.fr/distrib/V8.13.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <a class="idref" href="../lambda2Gmu/GMu.Definitions.html#okt"><span class="id" title="inductive">okt</span></a> <a class="idref" href="GMuAnnot.Regularity.html#7674e0ce7f4ec5e4ff169924724c4b41"><span class="id" title="variable">Σ</span></a> <a class="idref" href="GMuAnnot.Regularity.html#a7771386bc693e0f9d7adf834bb6dec0"><span class="id" title="variable">Δ</span></a> (<a class="idref" href="GMuAnnot.Regularity.html#E:56"><span class="id" title="variable">E</span></a> <span class="id" title="notation">&amp;</span> <a class="idref" href="GMuAnnot.Regularity.html#F:60"><span class="id" title="variable">F</span></a>).<br/>
&nbsp;&nbsp;<span class="id" title="var">introv</span> <span class="id" title="var">O</span>. <span class="id" title="tactic">induction</span> <span class="id" title="var">F</span> <span class="id" title="keyword">using</span> <span class="id" title="lemma">env_ind</span>.<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">rewrite</span> <span class="id" title="lemma">concat_empty_r</span> <span class="id" title="tactic">in</span> ×. <span class="id" title="var">lets</span>*: (<a class="idref" href="GMuAnnot.Regularity.html#okt_push_var_inv"><span class="id" title="lemma">okt_push_var_inv</span></a> <span class="id" title="var">O</span>).<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">rewrite</span> <span class="id" title="lemma">concat_assoc</span> <span class="id" title="tactic">in</span> ×.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment">(*&nbsp;lets&nbsp;Hinv:&nbsp;okt_push_inv&nbsp;O;&nbsp;inversions&nbsp;Hinv.&nbsp;*)</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment">(*&nbsp;+&nbsp;lets&nbsp;(?&amp;?):&nbsp;(okt_push_typ_inv&nbsp;O).&nbsp;*)</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment">(*&nbsp;&nbsp;&nbsp;applys~&nbsp;okt_sub.&nbsp;*)</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment">(*&nbsp;+&nbsp;match&nbsp;goal&nbsp;with&nbsp;*)</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment">(*&nbsp;&nbsp;&nbsp;|&nbsp;H:&nbsp;exists&nbsp;T,&nbsp;v&nbsp;=&nbsp;bind_var&nbsp;T&nbsp;|-&nbsp;_&nbsp;=&gt;&nbsp;*)</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment">(*&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;rename&nbsp;H&nbsp;into&nbsp;Hexists_bindvar&nbsp;end.&nbsp;*)</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment">(*&nbsp;inversions&nbsp;Hexists_bindvar.&nbsp;*)</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment">(*&nbsp;lets&nbsp;(?&amp;?&amp;?):&nbsp;(okt_push_var_inv&nbsp;O).&nbsp;*)</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">v</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">inversions</span> <span class="id" title="var">O</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="var">false</span>× <span class="id" title="lemma">empty_push_inv</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="tactic">apply</span> <span class="id" title="lemma">eq_push_inv</span> <span class="id" title="tactic">in</span> <span class="id" title="var">H</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">H</span> <span class="id" title="keyword">as</span> [? [? ?]]. <span class="id" title="tactic">subst</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">match</span> <span class="id" title="keyword">goal</span> <span class="id" title="keyword">with</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| [ <span class="id" title="var">H</span>: <a class="idref" href="../lambda2Gmu/GMu.Definitions.html#bind_var"><span class="id" title="constructor">bind_var</span></a> ?<span class="id" title="var">vk1</span> ?<span class="id" title="var">T</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="../lambda2Gmu/GMu.Definitions.html#bind_var"><span class="id" title="constructor">bind_var</span></a> ?<span class="id" title="var">vk2</span> ?<span class="id" title="var">t</span> |- <span class="id" title="var">_</span> ] ⇒ <span class="id" title="var">inversions</span> <span class="id" title="var">H</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">end</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">applys</span>¬ <a class="idref" href="../lambda2Gmu/GMu.Definitions.html#okt_typ"><span class="id" title="constructor">okt_typ</span></a>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="okt_strengthen_delta_var" class="idref" href="#okt_strengthen_delta_var"><span class="id" title="lemma">okt_strengthen_delta_var</span></a> : <span class="id" title="keyword">∀</span> <a id="77616297ab8389c2db18b8aa996822b8" class="idref" href="#77616297ab8389c2db18b8aa996822b8"><span class="id" title="binder">Σ</span></a> <a id="D1:62" class="idref" href="#D1:62"><span class="id" title="binder">D1</span></a> <a id="D2:63" class="idref" href="#D2:63"><span class="id" title="binder">D2</span></a> <a id="E:64" class="idref" href="#E:64"><span class="id" title="binder">E</span></a> <a id="X:65" class="idref" href="#X:65"><span class="id" title="binder">X</span></a>,<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="GMuAnnot.Regularity.html#X:65"><span class="id" title="variable">X</span></a> <span class="id" title="notation">#</span> <a class="idref" href="GMuAnnot.Regularity.html#E:64"><span class="id" title="variable">E</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="GMuAnnot.Regularity.html#X:65"><span class="id" title="variable">X</span></a> <span class="id" title="notation">\</span><span class="id" title="notation">notin</span> <a class="idref" href="../lambda2Gmu/GMu.Definitions.html#fv_env"><span class="id" title="definition">fv_env</span></a> <a class="idref" href="GMuAnnot.Regularity.html#E:64"><span class="id" title="variable">E</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="../lambda2Gmu/GMu.Definitions.html#okt"><span class="id" title="inductive">okt</span></a> <a class="idref" href="GMuAnnot.Regularity.html#77616297ab8389c2db18b8aa996822b8"><span class="id" title="variable">Σ</span></a> (<a class="idref" href="GMuAnnot.Regularity.html#D1:62"><span class="id" title="variable">D1</span></a> <a class="idref" href="../lambda2Gmu/GMu.Definitions.html#3ca84bd817dd2b1e2f0f693cd9400702"><span class="id" title="notation">|,|</span></a> <a class="idref" href="../lambda2Gmu/GMu.Definitions.html#b5ab1b23d5b56035820660ded1af9bea"><span class="id" title="notation">[</span></a><a class="idref" href="../lambda2Gmu/GMu.Definitions.html#tc_var"><span class="id" title="constructor">tc_var</span></a> <a class="idref" href="GMuAnnot.Regularity.html#X:65"><span class="id" title="variable">X</span></a><a class="idref" href="../lambda2Gmu/GMu.Definitions.html#b5ab1b23d5b56035820660ded1af9bea"><span class="id" title="notation">]*</span></a> <a class="idref" href="../lambda2Gmu/GMu.Definitions.html#3ca84bd817dd2b1e2f0f693cd9400702"><span class="id" title="notation">|,|</span></a> <a class="idref" href="GMuAnnot.Regularity.html#D2:63"><span class="id" title="variable">D2</span></a>) <a class="idref" href="GMuAnnot.Regularity.html#E:64"><span class="id" title="variable">E</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <a class="idref" href="../lambda2Gmu/GMu.Definitions.html#okt"><span class="id" title="inductive">okt</span></a> <a class="idref" href="GMuAnnot.Regularity.html#77616297ab8389c2db18b8aa996822b8"><span class="id" title="variable">Σ</span></a> (<a class="idref" href="GMuAnnot.Regularity.html#D1:62"><span class="id" title="variable">D1</span></a> <a class="idref" href="../lambda2Gmu/GMu.Definitions.html#3ca84bd817dd2b1e2f0f693cd9400702"><span class="id" title="notation">|,|</span></a> <a class="idref" href="GMuAnnot.Regularity.html#D2:63"><span class="id" title="variable">D2</span></a>) <a class="idref" href="GMuAnnot.Regularity.html#E:64"><span class="id" title="variable">E</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="var">introv</span> <span class="id" title="var">FXE</span> <span class="id" title="var">FXTE</span> <span class="id" title="var">O</span>. <span class="id" title="tactic">induction</span> <span class="id" title="var">E</span> <span class="id" title="keyword">using</span> <span class="id" title="lemma">env_ind</span>.<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">constructor</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">lets</span>*: <a class="idref" href="GMuAnnot.Regularity.html#okt_implies_okgadt"><span class="id" title="lemma">okt_implies_okgadt</span></a>.<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">destruct</span> <span class="id" title="var">v</span> <span class="id" title="keyword">as</span> [<span class="id" title="var">T</span>].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">inversions</span> <span class="id" title="var">O</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="var">lets</span>*: <span class="id" title="lemma">empty_push_inv</span> <span class="id" title="var">H</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="var">lets</span> [? [? ?]]: <span class="id" title="lemma">eq_push_inv</span> <span class="id" title="var">H</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">match</span> <span class="id" title="keyword">goal</span> <span class="id" title="keyword">with</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| <span class="id" title="var">H</span>: <a class="idref" href="../lambda2Gmu/GMu.Definitions.html#bind_var"><span class="id" title="constructor">bind_var</span></a> ?<span class="id" title="var">vk1</span> ?<span class="id" title="var">A</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="../lambda2Gmu/GMu.Definitions.html#bind_var"><span class="id" title="constructor">bind_var</span></a> ?<span class="id" title="var">vk2</span> ?<span class="id" title="var">B</span> |- <span class="id" title="var">_</span> ⇒ <span class="id" title="var">inversions</span> <span class="id" title="var">H</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">end</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">lets</span> [? ?]: <a class="idref" href="GMuAnnot.InfrastructureFV.html#notin_env_inv"><span class="id" title="lemma">notin_env_inv</span></a> <span class="id" title="var">FXTE</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">constructor</span>; <span class="id" title="tactic">auto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;× <span class="id" title="tactic">apply</span> <a class="idref" href="GMuAnnot.Regularity.html#wft_strengthen_typ"><span class="id" title="lemma">wft_strengthen_typ</span></a> <span class="id" title="keyword">with</span> <span class="id" title="var">X</span>; <span class="id" title="tactic">auto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;× <span class="id" title="tactic">apply</span> <a class="idref" href="GMuAnnot.InfrastructureFV.html#e986378a2a44bd3bcdda6d5b28752f62"><span class="id" title="lemma">notin_domΔ_eq</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="GMuAnnot.InfrastructureFV.html#e986378a2a44bd3bcdda6d5b28752f62"><span class="id" title="lemma">notin_domΔ_eq</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">H5</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">H5</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="GMuAnnot.InfrastructureFV.html#e986378a2a44bd3bcdda6d5b28752f62"><span class="id" title="lemma">notin_domΔ_eq</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">H5</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intuition</span>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="okt_is_type" class="idref" href="#okt_is_type"><span class="id" title="lemma">okt_is_type</span></a> : <span class="id" title="keyword">∀</span> <a id="2c4bc88cf29784b11cf0422588c29192" class="idref" href="#2c4bc88cf29784b11cf0422588c29192"><span class="id" title="binder">Σ</span></a> <a id="7e3627dd3a2403746b83b58e438b6bc7" class="idref" href="#7e3627dd3a2403746b83b58e438b6bc7"><span class="id" title="binder">Δ</span></a> <a id="E:68" class="idref" href="#E:68"><span class="id" title="binder">E</span></a> <a id="x:69" class="idref" href="#x:69"><span class="id" title="binder">x</span></a> <a id="vk:70" class="idref" href="#vk:70"><span class="id" title="binder">vk</span></a> <a id="T:71" class="idref" href="#T:71"><span class="id" title="binder">T</span></a>,<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="../lambda2Gmu/GMu.Definitions.html#okt"><span class="id" title="inductive">okt</span></a> <a class="idref" href="GMuAnnot.Regularity.html#2c4bc88cf29784b11cf0422588c29192"><span class="id" title="variable">Σ</span></a> <a class="idref" href="GMuAnnot.Regularity.html#7e3627dd3a2403746b83b58e438b6bc7"><span class="id" title="variable">Δ</span></a> (<a class="idref" href="GMuAnnot.Regularity.html#E:68"><span class="id" title="variable">E</span></a> <span class="id" title="notation">&amp;</span> <a class="idref" href="GMuAnnot.Regularity.html#x:69"><span class="id" title="variable">x</span></a> <span class="id" title="notation">¬</span> <a class="idref" href="../lambda2Gmu/GMu.Definitions.html#bind_var"><span class="id" title="constructor">bind_var</span></a> <a class="idref" href="GMuAnnot.Regularity.html#vk:70"><span class="id" title="variable">vk</span></a> <a class="idref" href="GMuAnnot.Regularity.html#T:71"><span class="id" title="variable">T</span></a>) <a class="idref" href="http://coq.inria.fr/distrib/V8.13.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <a class="idref" href="../lambda2Gmu/GMu.Definitions.html#type"><span class="id" title="inductive">type</span></a> <a class="idref" href="GMuAnnot.Regularity.html#T:71"><span class="id" title="variable">T</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="var">introv</span> <span class="id" title="var">Hokt</span>. <span class="id" title="tactic">apply</span> <a class="idref" href="GMuAnnot.Regularity.html#okt_is_wft"><span class="id" title="lemma">okt_is_wft</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">Hokt</span>. <span class="id" title="tactic">apply</span>× <a class="idref" href="GMuAnnot.Regularity.html#type_from_wft"><span class="id" title="lemma">type_from_wft</span></a>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="wft_type" class="idref" href="#wft_type"><span class="id" title="lemma">wft_type</span></a> : <span class="id" title="keyword">∀</span> <a id="5f7f8a3a36b9c7b682466610e664c174" class="idref" href="#5f7f8a3a36b9c7b682466610e664c174"><span class="id" title="binder">Σ</span></a> <a id="86302de672c86bc3ab370eeb5038eadd" class="idref" href="#86302de672c86bc3ab370eeb5038eadd"><span class="id" title="binder">Δ</span></a> <a id="T:74" class="idref" href="#T:74"><span class="id" title="binder">T</span></a>,<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="../lambda2Gmu/GMu.Definitions.html#wft"><span class="id" title="inductive">wft</span></a> <a class="idref" href="GMuAnnot.Regularity.html#5f7f8a3a36b9c7b682466610e664c174"><span class="id" title="variable">Σ</span></a> <a class="idref" href="GMuAnnot.Regularity.html#86302de672c86bc3ab370eeb5038eadd"><span class="id" title="variable">Δ</span></a> <a class="idref" href="GMuAnnot.Regularity.html#T:74"><span class="id" title="variable">T</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <a class="idref" href="../lambda2Gmu/GMu.Definitions.html#type"><span class="id" title="inductive">type</span></a> <a class="idref" href="GMuAnnot.Regularity.html#T:74"><span class="id" title="variable">T</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">induction</span> 1; <span class="id" title="tactic">eauto</span>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="wft_weaken" class="idref" href="#wft_weaken"><span class="id" title="lemma">wft_weaken</span></a> : <span class="id" title="keyword">∀</span> <a id="5e616d60b6019fd1fcdddd9ee38e237a" class="idref" href="#5e616d60b6019fd1fcdddd9ee38e237a"><span class="id" title="binder">Σ</span></a> <a id="D1:76" class="idref" href="#D1:76"><span class="id" title="binder">D1</span></a> <a id="D2:77" class="idref" href="#D2:77"><span class="id" title="binder">D2</span></a> <a id="D3:78" class="idref" href="#D3:78"><span class="id" title="binder">D3</span></a> <a id="T:79" class="idref" href="#T:79"><span class="id" title="binder">T</span></a>,<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="../lambda2Gmu/GMu.Definitions.html#wft"><span class="id" title="inductive">wft</span></a> <a class="idref" href="GMuAnnot.Regularity.html#5e616d60b6019fd1fcdddd9ee38e237a"><span class="id" title="variable">Σ</span></a> (<a class="idref" href="GMuAnnot.Regularity.html#D1:76"><span class="id" title="variable">D1</span></a> <a class="idref" href="../lambda2Gmu/GMu.Definitions.html#3ca84bd817dd2b1e2f0f693cd9400702"><span class="id" title="notation">|,|</span></a> <a class="idref" href="GMuAnnot.Regularity.html#D3:78"><span class="id" title="variable">D3</span></a>) <a class="idref" href="GMuAnnot.Regularity.html#T:79"><span class="id" title="variable">T</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="../lambda2Gmu/GMu.Definitions.html#wft"><span class="id" title="inductive">wft</span></a> <a class="idref" href="GMuAnnot.Regularity.html#5e616d60b6019fd1fcdddd9ee38e237a"><span class="id" title="variable">Σ</span></a> (<a class="idref" href="GMuAnnot.Regularity.html#D1:76"><span class="id" title="variable">D1</span></a> <a class="idref" href="../lambda2Gmu/GMu.Definitions.html#3ca84bd817dd2b1e2f0f693cd9400702"><span class="id" title="notation">|,|</span></a> <a class="idref" href="GMuAnnot.Regularity.html#D2:77"><span class="id" title="variable">D2</span></a> <a class="idref" href="../lambda2Gmu/GMu.Definitions.html#3ca84bd817dd2b1e2f0f693cd9400702"><span class="id" title="notation">|,|</span></a> <a class="idref" href="GMuAnnot.Regularity.html#D3:78"><span class="id" title="variable">D3</span></a>) <a class="idref" href="GMuAnnot.Regularity.html#T:79"><span class="id" title="variable">T</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="var">introv</span> <span class="id" title="var">WT</span>. <span class="id" title="var">gen_eq</span> <span class="id" title="var">K</span>: (<span class="id" title="var">D1</span> <a class="idref" href="../lambda2Gmu/GMu.Definitions.html#3ca84bd817dd2b1e2f0f693cd9400702"><span class="id" title="notation">|,|</span></a> <span class="id" title="var">D3</span>). <span class="id" title="var">gen</span> <span class="id" title="var">D3</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">induction</span> <span class="id" title="var">WT</span>; <span class="id" title="tactic">auto</span>; <span class="id" title="var">introv</span> <span class="id" title="var">EQ</span>.<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">constructor</span>. <span class="id" title="tactic">unfold</span> <a class="idref" href="../lambda2Gmu/GMu.Definitions.html#is_var_defined"><span class="id" title="definition">is_var_defined</span></a> <span class="id" title="tactic">in</span> ×.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">subst</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">lets</span> [? | ?]: <a class="idref" href="http://coq.inria.fr/distrib/V8.13.0/stdlib//Coq.Lists.List.html#in_app_or"><span class="id" title="lemma">List.in_app_or</span></a> <span class="id" title="var">H</span>;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">auto</span> <span class="id" title="keyword">using</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.0/stdlib//Coq.Lists.List.html#in_or_app"><span class="id" title="lemma">List.in_or_app</span></a>.<br/>
&nbsp;&nbsp;- <span class="id" title="var">apply_fresh</span>× <a class="idref" href="../lambda2Gmu/GMu.Definitions.html#wft_all"><span class="id" title="constructor">wft_all</span></a> <span class="id" title="keyword">as</span> <span class="id" title="var">Y</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">assert</span> (<span class="id" title="var">Yfr</span>: <span class="id" title="var">Y</span> <span class="id" title="notation">\</span><span class="id" title="notation">notin</span> <span class="id" title="var">L</span>); <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">lets</span>: <span class="id" title="var">H0</span> <span class="id" title="var">Yfr</span> (<span class="id" title="var">D3</span> <a class="idref" href="../lambda2Gmu/GMu.Definitions.html#c75eef461fb5f0f666c2430395694606"><span class="id" title="notation">|,</span></a> <a class="idref" href="../lambda2Gmu/GMu.Definitions.html#tc_var"><span class="id" title="constructor">tc_var</span></a> <span class="id" title="var">Y</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">assert</span> (<span class="id" title="var">Hassoc</span>: <a class="idref" href="http://coq.inria.fr/distrib/V8.13.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">(</span></a><a class="idref" href="../lambda2Gmu/GMu.Definitions.html#3ca84bd817dd2b1e2f0f693cd9400702"><span class="id" title="notation">(</span></a><span class="id" title="var">D1</span> <a class="idref" href="../lambda2Gmu/GMu.Definitions.html#3ca84bd817dd2b1e2f0f693cd9400702"><span class="id" title="notation">|,|</span></a> <span class="id" title="var">D2</span><a class="idref" href="../lambda2Gmu/GMu.Definitions.html#3ca84bd817dd2b1e2f0f693cd9400702"><span class="id" title="notation">)</span></a> <a class="idref" href="../lambda2Gmu/GMu.Definitions.html#3ca84bd817dd2b1e2f0f693cd9400702"><span class="id" title="notation">|,|</span></a> <a class="idref" href="../lambda2Gmu/GMu.Definitions.html#3ca84bd817dd2b1e2f0f693cd9400702"><span class="id" title="notation">(</span></a><span class="id" title="var">D3</span> <a class="idref" href="../lambda2Gmu/GMu.Definitions.html#c75eef461fb5f0f666c2430395694606"><span class="id" title="notation">|,</span></a> <a class="idref" href="../lambda2Gmu/GMu.Definitions.html#tc_var"><span class="id" title="constructor">tc_var</span></a> <span class="id" title="var">Y</span><a class="idref" href="../lambda2Gmu/GMu.Definitions.html#3ca84bd817dd2b1e2f0f693cd9400702"><span class="id" title="notation">)</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.13.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">)</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">(</span></a><a class="idref" href="../lambda2Gmu/GMu.Definitions.html#3ca84bd817dd2b1e2f0f693cd9400702"><span class="id" title="notation">((</span></a><span class="id" title="var">D1</span> <a class="idref" href="../lambda2Gmu/GMu.Definitions.html#3ca84bd817dd2b1e2f0f693cd9400702"><span class="id" title="notation">|,|</span></a> <span class="id" title="var">D2</span><a class="idref" href="../lambda2Gmu/GMu.Definitions.html#3ca84bd817dd2b1e2f0f693cd9400702"><span class="id" title="notation">)</span></a> <a class="idref" href="../lambda2Gmu/GMu.Definitions.html#3ca84bd817dd2b1e2f0f693cd9400702"><span class="id" title="notation">|,|</span></a> <span class="id" title="var">D3</span><a class="idref" href="../lambda2Gmu/GMu.Definitions.html#3ca84bd817dd2b1e2f0f693cd9400702"><span class="id" title="notation">)</span></a> <a class="idref" href="../lambda2Gmu/GMu.Definitions.html#3ca84bd817dd2b1e2f0f693cd9400702"><span class="id" title="notation">|,|</span></a> <a class="idref" href="../lambda2Gmu/GMu.Definitions.html#b5ab1b23d5b56035820660ded1af9bea"><span class="id" title="notation">[</span></a><a class="idref" href="../lambda2Gmu/GMu.Definitions.html#tc_var"><span class="id" title="constructor">tc_var</span></a> <span class="id" title="var">Y</span><a class="idref" href="../lambda2Gmu/GMu.Definitions.html#b5ab1b23d5b56035820660ded1af9bea"><span class="id" title="notation">]*</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.13.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">)</span></a>);<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">auto</span> <span class="id" title="keyword">using</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.0/stdlib//Coq.Lists.List.html#app_assoc"><span class="id" title="lemma">List.app_assoc</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> &lt;- <span class="id" title="var">Hassoc</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <span class="id" title="var">H1</span>. <span class="id" title="tactic">subst</span>. <span class="id" title="tactic">auto</span> <span class="id" title="keyword">using</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.0/stdlib//Coq.Lists.List.html#app_assoc"><span class="id" title="lemma">List.app_assoc</span></a>.<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">apply</span>× <a class="idref" href="../lambda2Gmu/GMu.Definitions.html#wft_gadt"><span class="id" title="constructor">wft_gadt</span></a>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Ltac</span> <span class="id" title="var">destruct_app_list</span> :=<br/>
&nbsp;&nbsp;<span class="id" title="keyword">match</span> <span class="id" title="keyword">goal</span> <span class="id" title="keyword">with</span><br/>
&nbsp;&nbsp;| [ <span class="id" title="var">H</span>: <a class="idref" href="http://coq.inria.fr/distrib/V8.13.0/stdlib//Coq.Lists.List.html#In"><span class="id" title="definition">List.In</span></a> ?<span class="id" title="var">X</span> (?<span class="id" title="var">L</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.0/stdlib//Coq.Init.Datatypes.html#bc347c51eaf667706ae54503b26d52c6"><span class="id" title="notation">++</span></a> ?<span class="id" title="var">K</span>) |- <span class="id" title="var">_</span> ] ⇒<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.0/stdlib//Coq.Lists.List.html#in_app_or"><span class="id" title="lemma">List.in_app_or</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">H</span>; <span class="id" title="tactic">destruct</span> <span class="id" title="var">H</span><br/>
&nbsp;&nbsp;<span class="id" title="keyword">end</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="wft_subst_tb" class="idref" href="#wft_subst_tb"><span class="id" title="lemma">wft_subst_tb</span></a> : <span class="id" title="keyword">∀</span> <a id="27bd8530b8ebec6f60d17615e08f6ce1" class="idref" href="#27bd8530b8ebec6f60d17615e08f6ce1"><span class="id" title="binder">Σ</span></a> <a id="D1:81" class="idref" href="#D1:81"><span class="id" title="binder">D1</span></a> <a id="D2:82" class="idref" href="#D2:82"><span class="id" title="binder">D2</span></a> <a id="Z:83" class="idref" href="#Z:83"><span class="id" title="binder">Z</span></a> <a id="P:84" class="idref" href="#P:84"><span class="id" title="binder">P</span></a> <a id="T:85" class="idref" href="#T:85"><span class="id" title="binder">T</span></a>,<br/>
&nbsp;&nbsp;<a class="idref" href="../lambda2Gmu/GMu.Definitions.html#wft"><span class="id" title="inductive">wft</span></a> <a class="idref" href="GMuAnnot.Regularity.html#27bd8530b8ebec6f60d17615e08f6ce1"><span class="id" title="variable">Σ</span></a> (<a class="idref" href="GMuAnnot.Regularity.html#D1:81"><span class="id" title="variable">D1</span></a> <a class="idref" href="../lambda2Gmu/GMu.Definitions.html#3ca84bd817dd2b1e2f0f693cd9400702"><span class="id" title="notation">|,|</span></a> <a class="idref" href="../lambda2Gmu/GMu.Definitions.html#b5ab1b23d5b56035820660ded1af9bea"><span class="id" title="notation">[</span></a><a class="idref" href="../lambda2Gmu/GMu.Definitions.html#tc_var"><span class="id" title="constructor">tc_var</span></a> <a class="idref" href="GMuAnnot.Regularity.html#Z:83"><span class="id" title="variable">Z</span></a><a class="idref" href="../lambda2Gmu/GMu.Definitions.html#b5ab1b23d5b56035820660ded1af9bea"><span class="id" title="notation">]*</span></a> <a class="idref" href="../lambda2Gmu/GMu.Definitions.html#3ca84bd817dd2b1e2f0f693cd9400702"><span class="id" title="notation">|,|</span></a> <a class="idref" href="GMuAnnot.Regularity.html#D2:82"><span class="id" title="variable">D2</span></a>) <a class="idref" href="GMuAnnot.Regularity.html#T:85"><span class="id" title="variable">T</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="../lambda2Gmu/GMu.Definitions.html#wft"><span class="id" title="inductive">wft</span></a> <a class="idref" href="GMuAnnot.Regularity.html#27bd8530b8ebec6f60d17615e08f6ce1"><span class="id" title="variable">Σ</span></a> <a class="idref" href="GMuAnnot.Regularity.html#D1:81"><span class="id" title="variable">D1</span></a> <a class="idref" href="GMuAnnot.Regularity.html#P:84"><span class="id" title="variable">P</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="../lambda2Gmu/GMu.Definitions.html#wft"><span class="id" title="inductive">wft</span></a> <a class="idref" href="GMuAnnot.Regularity.html#27bd8530b8ebec6f60d17615e08f6ce1"><span class="id" title="variable">Σ</span></a> (<a class="idref" href="GMuAnnot.Regularity.html#D1:81"><span class="id" title="variable">D1</span></a> <a class="idref" href="../lambda2Gmu/GMu.Definitions.html#3ca84bd817dd2b1e2f0f693cd9400702"><span class="id" title="notation">|,|</span></a> <a class="idref" href="GMuAnnot.Regularity.html#D2:82"><span class="id" title="variable">D2</span></a>) (<a class="idref" href="../lambda2Gmu/GMu.Definitions.html#subst_tt"><span class="id" title="definition">subst_tt</span></a> <a class="idref" href="GMuAnnot.Regularity.html#Z:83"><span class="id" title="variable">Z</span></a> <a class="idref" href="GMuAnnot.Regularity.html#P:84"><span class="id" title="variable">P</span></a> <a class="idref" href="GMuAnnot.Regularity.html#T:85"><span class="id" title="variable">T</span></a>).<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="var">introv</span> <span class="id" title="var">WT</span> <span class="id" title="var">WP</span>; <span class="id" title="var">gen_eq</span> <span class="id" title="var">G</span>: (<span class="id" title="var">D1</span> <a class="idref" href="../lambda2Gmu/GMu.Definitions.html#3ca84bd817dd2b1e2f0f693cd9400702"><span class="id" title="notation">|,|</span></a> <a class="idref" href="../lambda2Gmu/GMu.Definitions.html#b5ab1b23d5b56035820660ded1af9bea"><span class="id" title="notation">[</span></a><a class="idref" href="../lambda2Gmu/GMu.Definitions.html#tc_var"><span class="id" title="constructor">tc_var</span></a> <span class="id" title="var">Z</span><a class="idref" href="../lambda2Gmu/GMu.Definitions.html#b5ab1b23d5b56035820660ded1af9bea"><span class="id" title="notation">]*</span></a> <a class="idref" href="../lambda2Gmu/GMu.Definitions.html#3ca84bd817dd2b1e2f0f693cd9400702"><span class="id" title="notation">|,|</span></a> <span class="id" title="var">D2</span>). <span class="id" title="var">gen</span> <span class="id" title="var">D2</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">induction</span> <span class="id" title="var">WT</span>; <span class="id" title="tactic">intros</span>; <span class="id" title="tactic">subst</span>; <span class="id" title="tactic">simpl</span> <span class="id" title="var">subst_tt</span>; <span class="id" title="tactic">auto</span>.<br/>
&nbsp;&nbsp;- <span class="id" title="var">case_var</span>×.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="var">lets</span> <span class="id" title="var">Hw</span>: <a class="idref" href="GMuAnnot.Regularity.html#wft_weaken"><span class="id" title="lemma">wft_weaken</span></a> <span class="id" title="var">D1</span> <span class="id" title="var">D2</span> <a class="idref" href="../lambda2Gmu/GMu.Definitions.html#c683a0ef5cfb77e0c243d45a72fd3fea"><span class="id" title="definition">emptyΔ</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">repeat</span> <span class="id" title="tactic">rewrite</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.0/stdlib//Coq.Lists.List.html#app_nil_r"><span class="id" title="lemma">List.app_nil_r</span></a> <span class="id" title="tactic">in</span> ×.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span>× <span class="id" title="var">Hw</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="tactic">constructor</span>. <span class="id" title="tactic">unfold</span> <a class="idref" href="../lambda2Gmu/GMu.Definitions.html#is_var_defined"><span class="id" title="definition">is_var_defined</span></a> <span class="id" title="tactic">in</span> ×.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">repeat</span> <span class="id" title="var">destruct_app_list</span>; <span class="id" title="tactic">auto</span> <span class="id" title="keyword">using</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.0/stdlib//Coq.Lists.List.html#in_or_app"><span class="id" title="lemma">List.in_or_app</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">cbn</span> <span class="id" title="tactic">in</span> <span class="id" title="var">H</span>. <span class="id" title="tactic">destruct</span> <span class="id" title="var">H</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;× <span class="id" title="tactic">congruence</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;× <span class="id" title="var">contradiction</span>.<br/>
&nbsp;&nbsp;- <span class="id" title="var">apply_fresh</span>× <a class="idref" href="../lambda2Gmu/GMu.Definitions.html#wft_all"><span class="id" title="constructor">wft_all</span></a> <span class="id" title="keyword">as</span> <span class="id" title="var">Y</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">lets</span>: <a class="idref" href="GMuAnnot.Regularity.html#wft_type"><span class="id" title="lemma">wft_type</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span>× <a class="idref" href="GMuAnnot.InfrastructureSubst.html#subst_tt_open_tt_var"><span class="id" title="lemma">subst_tt_open_tt_var</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">lets</span>× <span class="id" title="var">IH</span>: <span class="id" title="var">H0</span> <span class="id" title="var">Y</span> (<span class="id" title="var">D2</span> <a class="idref" href="../lambda2Gmu/GMu.Definitions.html#c75eef461fb5f0f666c2430395694606"><span class="id" title="notation">|,</span></a> <a class="idref" href="../lambda2Gmu/GMu.Definitions.html#tc_var"><span class="id" title="constructor">tc_var</span></a> <span class="id" title="var">Y</span>).<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">apply</span>× <a class="idref" href="../lambda2Gmu/GMu.Definitions.html#wft_gadt"><span class="id" title="constructor">wft_gadt</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="var">introv</span> <span class="id" title="var">Tin</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.0/stdlib//Coq.Lists.List.html#in_map_iff"><span class="id" title="lemma">List.in_map_iff</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">Tin</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">Tin</span> <span class="id" title="keyword">as</span> [<span class="id" title="var">U</span> [? <span class="id" title="var">Tin</span>]]; <span class="id" title="tactic">subst</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span>× <span class="id" title="var">H0</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="tactic">apply</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.0/stdlib//Coq.Lists.List.html#map_length"><span class="id" title="lemma">List.map_length</span></a>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="wft_open" class="idref" href="#wft_open"><span class="id" title="lemma">wft_open</span></a> : <span class="id" title="keyword">∀</span> <a id="fc85eefe06c558ba688df7af8e52608e" class="idref" href="#fc85eefe06c558ba688df7af8e52608e"><span class="id" title="binder">Σ</span></a> <a id="2796a1490d0bdb49ee247cdbb1368981" class="idref" href="#2796a1490d0bdb49ee247cdbb1368981"><span class="id" title="binder">Δ</span></a> <a id="U:88" class="idref" href="#U:88"><span class="id" title="binder">U</span></a> <a id="T1:89" class="idref" href="#T1:89"><span class="id" title="binder">T1</span></a>,<br/>
&nbsp;&nbsp;<a class="idref" href="../lambda2Gmu/GMu.Definitions.html#wft"><span class="id" title="inductive">wft</span></a> <a class="idref" href="GMuAnnot.Regularity.html#fc85eefe06c558ba688df7af8e52608e"><span class="id" title="variable">Σ</span></a> <a class="idref" href="GMuAnnot.Regularity.html#2796a1490d0bdb49ee247cdbb1368981"><span class="id" title="variable">Δ</span></a> (<a class="idref" href="../lambda2Gmu/GMu.Definitions.html#typ_all"><span class="id" title="constructor">typ_all</span></a> <a class="idref" href="GMuAnnot.Regularity.html#T1:89"><span class="id" title="variable">T1</span></a>) <a class="idref" href="http://coq.inria.fr/distrib/V8.13.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="../lambda2Gmu/GMu.Definitions.html#wft"><span class="id" title="inductive">wft</span></a> <a class="idref" href="GMuAnnot.Regularity.html#fc85eefe06c558ba688df7af8e52608e"><span class="id" title="variable">Σ</span></a> <a class="idref" href="GMuAnnot.Regularity.html#2796a1490d0bdb49ee247cdbb1368981"><span class="id" title="variable">Δ</span></a> <a class="idref" href="GMuAnnot.Regularity.html#U:88"><span class="id" title="variable">U</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="../lambda2Gmu/GMu.Definitions.html#wft"><span class="id" title="inductive">wft</span></a> <a class="idref" href="GMuAnnot.Regularity.html#fc85eefe06c558ba688df7af8e52608e"><span class="id" title="variable">Σ</span></a> <a class="idref" href="GMuAnnot.Regularity.html#2796a1490d0bdb49ee247cdbb1368981"><span class="id" title="variable">Δ</span></a> (<a class="idref" href="../lambda2Gmu/GMu.Definitions.html#open_tt"><span class="id" title="definition">open_tt</span></a> <a class="idref" href="GMuAnnot.Regularity.html#T1:89"><span class="id" title="variable">T1</span></a> <a class="idref" href="GMuAnnot.Regularity.html#U:88"><span class="id" title="variable">U</span></a>).<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="var">introv</span> <span class="id" title="var">WA</span> <span class="id" title="var">WU</span>. <span class="id" title="var">inversions</span> <span class="id" title="var">WA</span>. <span class="id" title="var">pick_fresh</span> <span class="id" title="var">X</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span>× (@<a class="idref" href="GMuAnnot.InfrastructureSubst.html#subst_tt_intro"><span class="id" title="lemma">subst_tt_intro</span></a> <span class="id" title="var">X</span>).<br/>
&nbsp;&nbsp;<span class="id" title="var">lets</span> <span class="id" title="var">K</span>: (@<a class="idref" href="GMuAnnot.Regularity.html#wft_subst_tb"><span class="id" title="lemma">wft_subst_tb</span></a> <span class="id" title="var">Σ</span> <span class="id" title="var">Δ</span> <a class="idref" href="../lambda2Gmu/GMu.Definitions.html#c683a0ef5cfb77e0c243d45a72fd3fea"><span class="id" title="definition">emptyΔ</span></a> <span class="id" title="var">X</span>).<br/>
&nbsp;&nbsp;<span class="id" title="var">clean_empty_Δ</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">apply</span>× <span class="id" title="var">K</span>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
</div>

<div class="doc">
<a id="lab10"></a><h2 class="section">GADT environment properties</h2>

</div>
<div class="code">

<br/>
#[<span class="id" title="var">export</span>] <span class="id" title="keyword">Hint</span> <span class="id" title="keyword">Resolve</span> <span class="id" title="var">okt_is_ok</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="gadt_constructor_ok" class="idref" href="#gadt_constructor_ok"><span class="id" title="lemma">gadt_constructor_ok</span></a> : <span class="id" title="keyword">∀</span> <a id="e7d7d1a5c8faf52a5c71ecfd041f3db5" class="idref" href="#e7d7d1a5c8faf52a5c71ecfd041f3db5"><span class="id" title="binder">Σ</span></a> <a id="Name:91" class="idref" href="#Name:91"><span class="id" title="binder">Name</span></a> <a id="Tarity:92" class="idref" href="#Tarity:92"><span class="id" title="binder">Tarity</span></a> <a id="Ctors:93" class="idref" href="#Ctors:93"><span class="id" title="binder">Ctors</span></a> <a id="Ctor:94" class="idref" href="#Ctor:94"><span class="id" title="binder">Ctor</span></a> <a id="Carity:95" class="idref" href="#Carity:95"><span class="id" title="binder">Carity</span></a> <a id="CargType:96" class="idref" href="#CargType:96"><span class="id" title="binder">CargType</span></a> <a id="CretTypes:97" class="idref" href="#CretTypes:97"><span class="id" title="binder">CretTypes</span></a>,<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="definition">binds</span> <a class="idref" href="GMuAnnot.Regularity.html#Name:91"><span class="id" title="variable">Name</span></a> (<a class="idref" href="../lambda2Gmu/GMu.Definitions.html#mkGADT"><span class="id" title="constructor">mkGADT</span></a> <a class="idref" href="GMuAnnot.Regularity.html#Tarity:92"><span class="id" title="variable">Tarity</span></a> <a class="idref" href="GMuAnnot.Regularity.html#Ctors:93"><span class="id" title="variable">Ctors</span></a>) <a class="idref" href="GMuAnnot.Regularity.html#e7d7d1a5c8faf52a5c71ecfd041f3db5"><span class="id" title="variable">Σ</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/V8.13.0/stdlib//Coq.Lists.List.html#nth_error"><span class="id" title="definition">List.nth_error</span></a> <a class="idref" href="GMuAnnot.Regularity.html#Ctors:93"><span class="id" title="variable">Ctors</span></a> <a class="idref" href="GMuAnnot.Regularity.html#Ctor:94"><span class="id" title="variable">Ctor</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.0/stdlib//Coq.Init.Datatypes.html#Some"><span class="id" title="constructor">Some</span></a> (<a class="idref" href="../lambda2Gmu/GMu.Definitions.html#mkGADTconstructor"><span class="id" title="constructor">mkGADTconstructor</span></a> <a class="idref" href="GMuAnnot.Regularity.html#Carity:95"><span class="id" title="variable">Carity</span></a> <a class="idref" href="GMuAnnot.Regularity.html#CargType:96"><span class="id" title="variable">CargType</span></a> <a class="idref" href="GMuAnnot.Regularity.html#CretTypes:97"><span class="id" title="variable">CretTypes</span></a>) <a class="idref" href="http://coq.inria.fr/distrib/V8.13.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="../lambda2Gmu/GMu.Definitions.html#okGadt"><span class="id" title="definition">okGadt</span></a> <a class="idref" href="GMuAnnot.Regularity.html#e7d7d1a5c8faf52a5c71ecfd041f3db5"><span class="id" title="variable">Σ</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="../lambda2Gmu/GMu.Definitions.html#okConstructorDef"><span class="id" title="inductive">okConstructorDef</span></a> <a class="idref" href="GMuAnnot.Regularity.html#e7d7d1a5c8faf52a5c71ecfd041f3db5"><span class="id" title="variable">Σ</span></a> <a class="idref" href="GMuAnnot.Regularity.html#Tarity:92"><span class="id" title="variable">Tarity</span></a> (<a class="idref" href="../lambda2Gmu/GMu.Definitions.html#mkGADTconstructor"><span class="id" title="constructor">mkGADTconstructor</span></a> <a class="idref" href="GMuAnnot.Regularity.html#Carity:95"><span class="id" title="variable">Carity</span></a> <a class="idref" href="GMuAnnot.Regularity.html#CargType:96"><span class="id" title="variable">CargType</span></a> <a class="idref" href="GMuAnnot.Regularity.html#CretTypes:97"><span class="id" title="variable">CretTypes</span></a>).<br/>
&nbsp;&nbsp;<span class="id" title="var">introv</span> <span class="id" title="var">Hbind</span> <span class="id" title="var">Hlist</span> <span class="id" title="var">HokG</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">inversion</span> <span class="id" title="var">HokG</span> <span class="id" title="keyword">as</span> [<span class="id" title="var">Hok</span> <span class="id" title="var">HokG'</span>].<br/>
&nbsp;&nbsp;<span class="id" title="tactic">apply</span>× <span class="id" title="var">HokG'</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">apply</span>× <a class="idref" href="http://coq.inria.fr/distrib/V8.13.0/stdlib//Coq.Lists.List.html#nth_error_In"><span class="id" title="lemma">List.nth_error_In</span></a>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="wft_subst_tb_many" class="idref" href="#wft_subst_tb_many"><span class="id" title="lemma">wft_subst_tb_many</span></a> : <span class="id" title="keyword">∀</span> <a id="d28bbe011225204c88b57a270b5a3987" class="idref" href="#d28bbe011225204c88b57a270b5a3987"><span class="id" title="binder">Σ</span></a> (<a id="As:99" class="idref" href="#As:99"><span class="id" title="binder">As</span></a> : <a class="idref" href="http://coq.inria.fr/distrib/V8.13.0/stdlib//Coq.Init.Datatypes.html#list"><span class="id" title="inductive">list</span></a> <span class="id" title="axiom">var</span>) (<a id="Us:100" class="idref" href="#Us:100"><span class="id" title="binder">Us</span></a> : <a class="idref" href="http://coq.inria.fr/distrib/V8.13.0/stdlib//Coq.Init.Datatypes.html#list"><span class="id" title="inductive">list</span></a> <a class="idref" href="../lambda2Gmu/GMu.Definitions.html#typ"><span class="id" title="inductive">typ</span></a>) <a id="221c1aaa62dce03a81da09831f639e1d" class="idref" href="#221c1aaa62dce03a81da09831f639e1d"><span class="id" title="binder">Δ</span></a> (<a id="T:102" class="idref" href="#T:102"><span class="id" title="binder">T</span></a> : <a class="idref" href="../lambda2Gmu/GMu.Definitions.html#typ"><span class="id" title="inductive">typ</span></a>),<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/V8.13.0/stdlib//Coq.Init.Datatypes.html#length"><span class="id" title="definition">length</span></a> <a class="idref" href="GMuAnnot.Regularity.html#As:99"><span class="id" title="variable">As</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.0/stdlib//Coq.Init.Datatypes.html#length"><span class="id" title="definition">length</span></a> <a class="idref" href="GMuAnnot.Regularity.html#Us:100"><span class="id" title="variable">Us</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="../lambda2Gmu/GMu.Definitions.html#wft"><span class="id" title="inductive">wft</span></a> <a class="idref" href="GMuAnnot.Regularity.html#d28bbe011225204c88b57a270b5a3987"><span class="id" title="variable">Σ</span></a> (<a class="idref" href="GMuAnnot.Regularity.html#221c1aaa62dce03a81da09831f639e1d"><span class="id" title="variable">Δ</span></a> <a class="idref" href="../lambda2Gmu/GMu.Definitions.html#3ca84bd817dd2b1e2f0f693cd9400702"><span class="id" title="notation">|,|</span></a> <a class="idref" href="../lambda2Gmu/GMu.Definitions.html#tc_vars"><span class="id" title="definition">tc_vars</span></a> <a class="idref" href="GMuAnnot.Regularity.html#As:99"><span class="id" title="variable">As</span></a>) <a class="idref" href="GMuAnnot.Regularity.html#T:102"><span class="id" title="variable">T</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/V8.13.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">(</span></a><span class="id" title="keyword">∀</span> <a id="U:103" class="idref" href="#U:103"><span class="id" title="binder">U</span></a>, <a class="idref" href="http://coq.inria.fr/distrib/V8.13.0/stdlib//Coq.Lists.List.html#In"><span class="id" title="definition">List.In</span></a> <a class="idref" href="GMuAnnot.Regularity.html#U:103"><span class="id" title="variable">U</span></a> <a class="idref" href="GMuAnnot.Regularity.html#Us:100"><span class="id" title="variable">Us</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <a class="idref" href="../lambda2Gmu/GMu.Definitions.html#wft"><span class="id" title="inductive">wft</span></a> <a class="idref" href="GMuAnnot.Regularity.html#d28bbe011225204c88b57a270b5a3987"><span class="id" title="variable">Σ</span></a> <a class="idref" href="GMuAnnot.Regularity.html#221c1aaa62dce03a81da09831f639e1d"><span class="id" title="variable">Δ</span></a> <a class="idref" href="GMuAnnot.Regularity.html#U:103"><span class="id" title="variable">U</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.13.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">)</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment">(*&nbsp;(forall&nbsp;A,&nbsp;List.In&nbsp;A&nbsp;As&nbsp;-&gt;&nbsp;A&nbsp;\notin&nbsp;dom&nbsp;E)&nbsp;-&gt;&nbsp;*)</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="../lambda2Gmu/GMu.Definitions.html#DistinctList"><span class="id" title="inductive">DistinctList</span></a> <a class="idref" href="GMuAnnot.Regularity.html#As:99"><span class="id" title="variable">As</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="../lambda2Gmu/GMu.Definitions.html#wft"><span class="id" title="inductive">wft</span></a> <a class="idref" href="GMuAnnot.Regularity.html#d28bbe011225204c88b57a270b5a3987"><span class="id" title="variable">Σ</span></a> <a class="idref" href="GMuAnnot.Regularity.html#221c1aaa62dce03a81da09831f639e1d"><span class="id" title="variable">Δ</span></a> (<a class="idref" href="../lambda2Gmu/GMu.Definitions.html#subst_tt_many"><span class="id" title="definition">subst_tt_many</span></a> <a class="idref" href="GMuAnnot.Regularity.html#As:99"><span class="id" title="variable">As</span></a> <a class="idref" href="GMuAnnot.Regularity.html#Us:100"><span class="id" title="variable">Us</span></a> <a class="idref" href="GMuAnnot.Regularity.html#T:102"><span class="id" title="variable">T</span></a>).<br/>
&nbsp;&nbsp;<span class="id" title="tactic">induction</span> <span class="id" title="var">As</span> <span class="id" title="keyword">as</span> [|<span class="id" title="var">Ah</span> <span class="id" title="var">Ats</span>];<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">introv</span> <span class="id" title="var">Hlen</span> <span class="id" title="var">HwftT</span> <span class="id" title="var">WwftUs</span> <span class="id" title="var">HD</span>;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">Us</span> <span class="id" title="keyword">as</span> [|<span class="id" title="var">Uh</span> <span class="id" title="var">Uts</span>]; <span class="id" title="tactic">inversion</span> <span class="id" title="var">Hlen</span>.<br/>
&nbsp;&nbsp;- <span class="id" title="var">cbn</span> <span class="id" title="tactic">in</span> ×.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">clean_empty_Δ</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">auto</span>.<br/>
&nbsp;&nbsp;- <span class="id" title="var">cbn</span> <span class="id" title="tactic">in</span> ×. <span class="id" title="var">inversions</span> <span class="id" title="var">HD</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <span class="id" title="var">IHAts</span>; <span class="id" title="tactic">eauto</span> <span class="id" title="keyword">with</span> <span class="id" title="var">listin</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">fold</span> (<a class="idref" href="../lambda2Gmu/GMu.Definitions.html#tc_vars"><span class="id" title="definition">tc_vars</span></a> <span class="id" title="var">Ats</span>) <span class="id" title="tactic">in</span> <span class="id" title="var">HwftT</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">fold</span> (<a class="idref" href="../lambda2Gmu/GMu.Definitions.html#3ca84bd817dd2b1e2f0f693cd9400702"><span class="id" title="notation">(</span></a><span class="id" title="var">Δ</span> <a class="idref" href="../lambda2Gmu/GMu.Definitions.html#3ca84bd817dd2b1e2f0f693cd9400702"><span class="id" title="notation">|,|</span></a> <a class="idref" href="../lambda2Gmu/GMu.Definitions.html#tc_vars"><span class="id" title="definition">tc_vars</span></a> <span class="id" title="var">Ats</span><a class="idref" href="../lambda2Gmu/GMu.Definitions.html#3ca84bd817dd2b1e2f0f693cd9400702"><span class="id" title="notation">)</span></a> <a class="idref" href="../lambda2Gmu/GMu.Definitions.html#3ca84bd817dd2b1e2f0f693cd9400702"><span class="id" title="notation">|,|</span></a> <a class="idref" href="../lambda2Gmu/GMu.Definitions.html#b5ab1b23d5b56035820660ded1af9bea"><span class="id" title="notation">[</span></a><a class="idref" href="../lambda2Gmu/GMu.Definitions.html#tc_var"><span class="id" title="constructor">tc_var</span></a> <span class="id" title="var">Ah</span><a class="idref" href="../lambda2Gmu/GMu.Definitions.html#b5ab1b23d5b56035820660ded1af9bea"><span class="id" title="notation">]*</span></a>) <span class="id" title="tactic">in</span> <span class="id" title="var">HwftT</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">lets</span> <span class="id" title="var">W</span>: <a class="idref" href="GMuAnnot.Regularity.html#wft_subst_tb"><span class="id" title="lemma">wft_subst_tb</span></a> <span class="id" title="var">Σ</span> (<span class="id" title="var">Δ</span> <a class="idref" href="../lambda2Gmu/GMu.Definitions.html#3ca84bd817dd2b1e2f0f693cd9400702"><span class="id" title="notation">|,|</span></a> <a class="idref" href="../lambda2Gmu/GMu.Definitions.html#tc_vars"><span class="id" title="definition">tc_vars</span></a> <span class="id" title="var">Ats</span>) <a class="idref" href="../lambda2Gmu/GMu.Definitions.html#c683a0ef5cfb77e0c243d45a72fd3fea"><span class="id" title="definition">emptyΔ</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">clean_empty_Δ</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span>¬ <span class="id" title="var">W</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> &lt;- (<a class="idref" href="http://coq.inria.fr/distrib/V8.13.0/stdlib//Coq.Lists.List.html#app_nil_l"><span class="id" title="lemma">List.app_nil_l</span></a> (<span class="id" title="var">Δ</span> <a class="idref" href="../lambda2Gmu/GMu.Definitions.html#3ca84bd817dd2b1e2f0f693cd9400702"><span class="id" title="notation">|,|</span></a> <a class="idref" href="../lambda2Gmu/GMu.Definitions.html#tc_vars"><span class="id" title="definition">tc_vars</span></a> <span class="id" title="var">Ats</span>)).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span>¬ <a class="idref" href="GMuAnnot.Regularity.html#wft_weaken"><span class="id" title="lemma">wft_weaken</span></a>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="wft_open_many" class="idref" href="#wft_open_many"><span class="id" title="lemma">wft_open_many</span></a> : <span class="id" title="keyword">∀</span> <a id="677396ac970d964cdc61bafddef2c5d5" class="idref" href="#677396ac970d964cdc61bafddef2c5d5"><span class="id" title="binder">Δ</span></a> <a id="1ff6ac9c7b5724ab259a0ddfc84e9a1e" class="idref" href="#1ff6ac9c7b5724ab259a0ddfc84e9a1e"><span class="id" title="binder">Σ</span></a> <a id="Alphas:106" class="idref" href="#Alphas:106"><span class="id" title="binder">Alphas</span></a> <a id="Ts:107" class="idref" href="#Ts:107"><span class="id" title="binder">Ts</span></a> <a id="U:108" class="idref" href="#U:108"><span class="id" title="binder">U</span></a>,<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/V8.13.0/stdlib//Coq.Init.Datatypes.html#length"><span class="id" title="definition">length</span></a> <a class="idref" href="GMuAnnot.Regularity.html#Alphas:106"><span class="id" title="variable">Alphas</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.0/stdlib//Coq.Init.Datatypes.html#length"><span class="id" title="definition">length</span></a> <a class="idref" href="GMuAnnot.Regularity.html#Ts:107"><span class="id" title="variable">Ts</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="../lambda2Gmu/GMu.Definitions.html#DistinctList"><span class="id" title="inductive">DistinctList</span></a> <a class="idref" href="GMuAnnot.Regularity.html#Alphas:106"><span class="id" title="variable">Alphas</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment">(*&nbsp;(forall&nbsp;A&nbsp;:&nbsp;var,&nbsp;List.In&nbsp;A&nbsp;Alphas&nbsp;-&gt;&nbsp;A&nbsp;\notin&nbsp;dom&nbsp;E)&nbsp;-&gt;&nbsp;*)</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/V8.13.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">(</span></a><span class="id" title="keyword">∀</span> <a id="A:109" class="idref" href="#A:109"><span class="id" title="binder">A</span></a> : <span class="id" title="axiom">var</span>, <a class="idref" href="http://coq.inria.fr/distrib/V8.13.0/stdlib//Coq.Lists.List.html#In"><span class="id" title="definition">List.In</span></a> <a class="idref" href="GMuAnnot.Regularity.html#A:109"><span class="id" title="variable">A</span></a> <a class="idref" href="GMuAnnot.Regularity.html#Alphas:106"><span class="id" title="variable">Alphas</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <a class="idref" href="GMuAnnot.Regularity.html#A:109"><span class="id" title="variable">A</span></a> <span class="id" title="notation">\</span><span class="id" title="notation">notin</span> <a class="idref" href="../lambda2Gmu/GMu.Definitions.html#fv_typ"><span class="id" title="definition">fv_typ</span></a> <a class="idref" href="GMuAnnot.Regularity.html#U:108"><span class="id" title="variable">U</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.13.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">)</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/V8.13.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">(</span></a><span class="id" title="keyword">∀</span> (<a id="A:110" class="idref" href="#A:110"><span class="id" title="binder">A</span></a> : <span class="id" title="axiom">var</span>) (<a id="T:111" class="idref" href="#T:111"><span class="id" title="binder">T</span></a> : <a class="idref" href="../lambda2Gmu/GMu.Definitions.html#typ"><span class="id" title="inductive">typ</span></a>), <a class="idref" href="http://coq.inria.fr/distrib/V8.13.0/stdlib//Coq.Lists.List.html#In"><span class="id" title="definition">List.In</span></a> <a class="idref" href="GMuAnnot.Regularity.html#A:110"><span class="id" title="variable">A</span></a> <a class="idref" href="GMuAnnot.Regularity.html#Alphas:106"><span class="id" title="variable">Alphas</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.0/stdlib//Coq.Lists.List.html#In"><span class="id" title="definition">List.In</span></a> <a class="idref" href="GMuAnnot.Regularity.html#T:111"><span class="id" title="variable">T</span></a> <a class="idref" href="GMuAnnot.Regularity.html#Ts:107"><span class="id" title="variable">Ts</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <a class="idref" href="GMuAnnot.Regularity.html#A:110"><span class="id" title="variable">A</span></a> <span class="id" title="notation">\</span><span class="id" title="notation">notin</span> <a class="idref" href="../lambda2Gmu/GMu.Definitions.html#fv_typ"><span class="id" title="definition">fv_typ</span></a> <a class="idref" href="GMuAnnot.Regularity.html#T:111"><span class="id" title="variable">T</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.13.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">)</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/V8.13.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">(</span></a><span class="id" title="keyword">∀</span> <a id="T:112" class="idref" href="#T:112"><span class="id" title="binder">T</span></a> : <a class="idref" href="../lambda2Gmu/GMu.Definitions.html#typ"><span class="id" title="inductive">typ</span></a>, <a class="idref" href="http://coq.inria.fr/distrib/V8.13.0/stdlib//Coq.Lists.List.html#In"><span class="id" title="definition">List.In</span></a> <a class="idref" href="GMuAnnot.Regularity.html#T:112"><span class="id" title="variable">T</span></a> <a class="idref" href="GMuAnnot.Regularity.html#Ts:107"><span class="id" title="variable">Ts</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <a class="idref" href="../lambda2Gmu/GMu.Definitions.html#wft"><span class="id" title="inductive">wft</span></a> <a class="idref" href="GMuAnnot.Regularity.html#1ff6ac9c7b5724ab259a0ddfc84e9a1e"><span class="id" title="variable">Σ</span></a> <a class="idref" href="GMuAnnot.Regularity.html#677396ac970d964cdc61bafddef2c5d5"><span class="id" title="variable">Δ</span></a> <a class="idref" href="GMuAnnot.Regularity.html#T:112"><span class="id" title="variable">T</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.13.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">)</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="../lambda2Gmu/GMu.Definitions.html#wft"><span class="id" title="inductive">wft</span></a> <a class="idref" href="GMuAnnot.Regularity.html#1ff6ac9c7b5724ab259a0ddfc84e9a1e"><span class="id" title="variable">Σ</span></a> (<a class="idref" href="GMuAnnot.Regularity.html#677396ac970d964cdc61bafddef2c5d5"><span class="id" title="variable">Δ</span></a> <a class="idref" href="../lambda2Gmu/GMu.Definitions.html#3ca84bd817dd2b1e2f0f693cd9400702"><span class="id" title="notation">|,|</span></a> <a class="idref" href="../lambda2Gmu/GMu.Definitions.html#tc_vars"><span class="id" title="definition">tc_vars</span></a> <a class="idref" href="GMuAnnot.Regularity.html#Alphas:106"><span class="id" title="variable">Alphas</span></a>) (<a class="idref" href="../lambda2Gmu/GMu.Definitions.html#open_tt_many_var"><span class="id" title="definition">open_tt_many_var</span></a> <a class="idref" href="GMuAnnot.Regularity.html#Alphas:106"><span class="id" title="variable">Alphas</span></a> <a class="idref" href="GMuAnnot.Regularity.html#U:108"><span class="id" title="variable">U</span></a>) <a class="idref" href="http://coq.inria.fr/distrib/V8.13.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="../lambda2Gmu/GMu.Definitions.html#wft"><span class="id" title="inductive">wft</span></a> <a class="idref" href="GMuAnnot.Regularity.html#1ff6ac9c7b5724ab259a0ddfc84e9a1e"><span class="id" title="variable">Σ</span></a> <a class="idref" href="GMuAnnot.Regularity.html#677396ac970d964cdc61bafddef2c5d5"><span class="id" title="variable">Δ</span></a> (<a class="idref" href="../lambda2Gmu/GMu.Definitions.html#open_tt_many"><span class="id" title="definition">open_tt_many</span></a> <a class="idref" href="GMuAnnot.Regularity.html#Ts:107"><span class="id" title="variable">Ts</span></a> <a class="idref" href="GMuAnnot.Regularity.html#U:108"><span class="id" title="variable">U</span></a>).<br/>
&nbsp;&nbsp;<span class="id" title="var">introv</span> <span class="id" title="var">Hlen</span> <span class="id" title="var">Hdistinct</span> <span class="id" title="var">FU</span> <span class="id" title="var">FT</span> <span class="id" title="var">WT</span> <span class="id" title="var">WU</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span>× (@<a class="idref" href="GMuAnnot.InfrastructureSubst.html#subst_tt_intro_many"><span class="id" title="lemma">subst_tt_intro_many</span></a> <span class="id" title="var">Alphas</span>).<br/>
&nbsp;&nbsp;- <span class="id" title="var">lets</span> <span class="id" title="var">Htb</span>: (@<a class="idref" href="GMuAnnot.Regularity.html#wft_subst_tb_many"><span class="id" title="lemma">wft_subst_tb_many</span></a> <span class="id" title="var">Σ</span> <span class="id" title="var">Alphas</span> <span class="id" title="var">Ts</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">specializes_vars</span> <span class="id" title="var">Htb</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span>× <span class="id" title="var">Htb</span>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Hint Rewrite</span> <span class="id" title="axiom">in_union</span> : <span class="id" title="var">fsets</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="notin_fv_wf" class="idref" href="#notin_fv_wf"><span class="id" title="lemma">notin_fv_wf</span></a> : <span class="id" title="keyword">∀</span> <a id="67028e5db0d7f321f964117e73116fa2" class="idref" href="#67028e5db0d7f321f964117e73116fa2"><span class="id" title="binder">Σ</span></a> <a id="fa2afb24cd7d0a5ee8047798ca8faeda" class="idref" href="#fa2afb24cd7d0a5ee8047798ca8faeda"><span class="id" title="binder">Δ</span></a> <a id="X:115" class="idref" href="#X:115"><span class="id" title="binder">X</span></a> <a id="T:116" class="idref" href="#T:116"><span class="id" title="binder">T</span></a>,<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="../lambda2Gmu/GMu.Definitions.html#wft"><span class="id" title="inductive">wft</span></a> <a class="idref" href="GMuAnnot.Regularity.html#67028e5db0d7f321f964117e73116fa2"><span class="id" title="variable">Σ</span></a> <a class="idref" href="GMuAnnot.Regularity.html#fa2afb24cd7d0a5ee8047798ca8faeda"><span class="id" title="variable">Δ</span></a> <a class="idref" href="GMuAnnot.Regularity.html#T:116"><span class="id" title="variable">T</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">(</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.13.0/stdlib//Coq.Init.Logic.html#63a68285c81db8f9bc456233bb9ed181"><span class="id" title="notation">¬</span></a> <a class="idref" href="../lambda2Gmu/GMu.Definitions.html#is_var_defined"><span class="id" title="definition">is_var_defined</span></a> <a class="idref" href="GMuAnnot.Regularity.html#fa2afb24cd7d0a5ee8047798ca8faeda"><span class="id" title="variable">Δ</span></a> <a class="idref" href="GMuAnnot.Regularity.html#X:115"><span class="id" title="variable">X</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.13.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">)</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <a class="idref" href="GMuAnnot.Regularity.html#X:115"><span class="id" title="variable">X</span></a> <span class="id" title="notation">\</span><span class="id" title="notation">notin</span> <a class="idref" href="../lambda2Gmu/GMu.Definitions.html#fv_typ"><span class="id" title="definition">fv_typ</span></a> <a class="idref" href="GMuAnnot.Regularity.html#T:116"><span class="id" title="variable">T</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">induction</span> 1 <span class="id" title="keyword">as</span> [ | ? ? ? <span class="id" title="var">Hbinds</span> | | | |];<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">introv</span> <span class="id" title="var">Fr</span>; <span class="id" title="tactic">simpl</span>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">rewrite</span> <span class="id" title="lemma">notin_singleton</span>. <span class="id" title="tactic">intro</span>. <span class="id" title="tactic">subst</span>. <span class="id" title="var">contradiction</span>.<br/>
&nbsp;&nbsp;- <span class="id" title="var">notin_simpl</span>; <span class="id" title="tactic">auto</span>. <span class="id" title="var">pick_fresh</span> <span class="id" title="var">Y</span>. <span class="id" title="tactic">apply</span>× (@<a class="idref" href="GMuAnnot.InfrastructureFV.html#notin_fv_tt_open"><span class="id" title="lemma">notin_fv_tt_open</span></a> <span class="id" title="var">Y</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span>× <span class="id" title="var">H0</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">cbn</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intro</span> <span class="id" title="var">HF</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">HF</span> <span class="id" title="keyword">as</span> [<span class="id" title="var">HF</span> | <span class="id" title="var">HF</span>].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="var">inversions</span> <span class="id" title="var">HF</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">assert</span> (<span class="id" title="var">X</span> <span class="id" title="notation">\</span><span class="id" title="notation">notin</span> <span class="id" title="notation">\{</span> <span class="id" title="var">X</span><span class="id" title="notation">}</span>); <span class="id" title="tactic">eauto</span> <span class="id" title="keyword">using</span> <span class="id" title="lemma">in_singleton_self</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="var">contradiction</span>.<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">intro</span> <span class="id" title="var">Hin</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">lets</span>× <span class="id" title="var">Hex</span>: <a class="idref" href="GMuAnnot.InfrastructureFV.html#in_fold_exists"><span class="id" title="lemma">in_fold_exists</span></a> <span class="id" title="var">Hin</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">Hex</span> <span class="id" title="keyword">as</span> [<span class="id" title="var">Hex</span> | <span class="id" title="var">Hex</span>].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="tactic">destruct</span> <span class="id" title="var">Hex</span> <span class="id" title="keyword">as</span> [<span class="id" title="var">T</span> [<span class="id" title="var">Tin</span> <span class="id" title="var">fvT</span>]].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">lets</span>× <span class="id" title="var">Hf</span>: <span class="id" title="var">H0</span> <span class="id" title="var">T</span> <span class="id" title="var">Tin</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="tactic">apply</span>× <span class="id" title="lemma">in_empty_inv</span>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="typing_regular" class="idref" href="#typing_regular"><span class="id" title="lemma">typing_regular</span></a> : <span class="id" title="keyword">∀</span> <a id="388873efb4be7b6002f3f68ecd6fa136" class="idref" href="#388873efb4be7b6002f3f68ecd6fa136"><span class="id" title="binder">Σ</span></a> <a id="d88596c37c823f121469a4fc8512e4df" class="idref" href="#d88596c37c823f121469a4fc8512e4df"><span class="id" title="binder">Δ</span></a> <a id="E:119" class="idref" href="#E:119"><span class="id" title="binder">E</span></a> <a id="e:120" class="idref" href="#e:120"><span class="id" title="binder">e</span></a> <a id="T:121" class="idref" href="#T:121"><span class="id" title="binder">T</span></a> <a id="TT:122" class="idref" href="#TT:122"><span class="id" title="binder">TT</span></a>,<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="GMuAnnot.Definitions.html#01c16c7ccd254b860cbd58c1da68710e"><span class="id" title="notation">{</span></a><a class="idref" href="GMuAnnot.Regularity.html#388873efb4be7b6002f3f68ecd6fa136"><span class="id" title="variable">Σ</span></a><a class="idref" href="GMuAnnot.Definitions.html#01c16c7ccd254b860cbd58c1da68710e"><span class="id" title="notation">,</span></a> <a class="idref" href="GMuAnnot.Regularity.html#d88596c37c823f121469a4fc8512e4df"><span class="id" title="variable">Δ</span></a><a class="idref" href="GMuAnnot.Definitions.html#01c16c7ccd254b860cbd58c1da68710e"><span class="id" title="notation">,</span></a> <a class="idref" href="GMuAnnot.Regularity.html#E:119"><span class="id" title="variable">E</span></a><a class="idref" href="GMuAnnot.Definitions.html#01c16c7ccd254b860cbd58c1da68710e"><span class="id" title="notation">}</span></a> <a class="idref" href="GMuAnnot.Definitions.html#01c16c7ccd254b860cbd58c1da68710e"><span class="id" title="notation">⊢(</span></a><a class="idref" href="GMuAnnot.Regularity.html#TT:122"><span class="id" title="variable">TT</span></a><a class="idref" href="GMuAnnot.Definitions.html#01c16c7ccd254b860cbd58c1da68710e"><span class="id" title="notation">)</span></a> <a class="idref" href="GMuAnnot.Regularity.html#e:120"><span class="id" title="variable">e</span></a> <a class="idref" href="GMuAnnot.Definitions.html#01c16c7ccd254b860cbd58c1da68710e"><span class="id" title="notation">∈</span></a> <a class="idref" href="GMuAnnot.Regularity.html#T:121"><span class="id" title="variable">T</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="../lambda2Gmu/GMu.Definitions.html#okt"><span class="id" title="inductive">okt</span></a> <a class="idref" href="GMuAnnot.Regularity.html#388873efb4be7b6002f3f68ecd6fa136"><span class="id" title="variable">Σ</span></a> <a class="idref" href="GMuAnnot.Regularity.html#d88596c37c823f121469a4fc8512e4df"><span class="id" title="variable">Δ</span></a> <a class="idref" href="GMuAnnot.Regularity.html#E:119"><span class="id" title="variable">E</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.0/stdlib//Coq.Init.Logic.html#ba2b0e492d2b4675a0acf3ea92aabadd"><span class="id" title="notation">∧</span></a> <a class="idref" href="GMuAnnot.Definitions.html#term"><span class="id" title="inductive">term</span></a> <a class="idref" href="GMuAnnot.Regularity.html#e:120"><span class="id" title="variable">e</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.0/stdlib//Coq.Init.Logic.html#ba2b0e492d2b4675a0acf3ea92aabadd"><span class="id" title="notation">∧</span></a> <a class="idref" href="../lambda2Gmu/GMu.Definitions.html#wft"><span class="id" title="inductive">wft</span></a> <a class="idref" href="GMuAnnot.Regularity.html#388873efb4be7b6002f3f68ecd6fa136"><span class="id" title="variable">Σ</span></a> <a class="idref" href="GMuAnnot.Regularity.html#d88596c37c823f121469a4fc8512e4df"><span class="id" title="variable">Δ</span></a> <a class="idref" href="GMuAnnot.Regularity.html#T:121"><span class="id" title="variable">T</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">intro</span> <span class="id" title="var">Hbounds</span>.<br/>
&nbsp;&nbsp;<span class="id" title="var">introv</span> <span class="id" title="var">Typ</span>.<br/>
&nbsp;&nbsp;<span class="id" title="var">lets</span> <span class="id" title="var">Typ2</span>: <span class="id" title="var">Typ</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">induction</span> <span class="id" title="var">Typ</span> <span class="id" title="keyword">as</span> [ |<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;|<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| ? ? ? ? ? ? ? ? ? <span class="id" title="var">IH</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;|<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| ? ? ? ? ? ? ? ? ? <span class="id" title="var">IH</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| | | |<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| ? ? ? ? ? ? ? <span class="id" title="var">IHval</span> ? <span class="id" title="var">IH</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| ? ? ? ? ? ? ? ? ? ? ? ? <span class="id" title="var">IH</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;|<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;|<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;];<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">try</span> <span class="id" title="tactic">solve</span> [<span class="id" title="var">splits</span>*].<br/>
&nbsp;&nbsp;- <span class="id" title="var">splits</span>×. <span class="id" title="tactic">apply</span>× <a class="idref" href="GMuAnnot.Regularity.html#wft_from_env_has_typ"><span class="id" title="lemma">wft_from_env_has_typ</span></a>.<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">subst</span>. <span class="id" title="tactic">destruct</span> <span class="id" title="var">IHTyp</span> <span class="id" title="keyword">as</span> [<span class="id" title="var">Hokt</span> [<span class="id" title="var">Hterm</span> <span class="id" title="var">Hwft</span>]]; <span class="id" title="tactic">auto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">splits</span>×.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">lets</span>× <span class="id" title="var">HG</span>: <a class="idref" href="GMuAnnot.Regularity.html#okt_implies_okgadt"><span class="id" title="lemma">okt_implies_okgadt</span></a> <span class="id" title="var">Hokt</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">lets</span>× <span class="id" title="var">GADTC</span>: <a class="idref" href="GMuAnnot.Regularity.html#gadt_constructor_ok"><span class="id" title="lemma">gadt_constructor_ok</span></a> <span class="id" title="var">HG</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">inversions</span> <span class="id" title="var">GADTC</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <a class="idref" href="GMuAnnot.InfrastructureOpen.html#rewrite_open_tt_many_gadt"><span class="id" title="lemma">rewrite_open_tt_many_gadt</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">econstructor</span>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="var">introv</span> <span class="id" title="var">TiL</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">lets</span>× <span class="id" title="var">TiL2</span>: <span class="id" title="var">TiL</span>. <span class="id" title="tactic">apply</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.0/stdlib//Coq.Lists.List.html#in_map_iff"><span class="id" title="lemma">List.in_map_iff</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">TiL2</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">inversion</span> <span class="id" title="var">TiL2</span> <span class="id" title="keyword">as</span> [<span class="id" title="var">CretT</span> [<span class="id" title="var">Heq</span> <span class="id" title="var">CiC</span>]]. <span class="id" title="tactic">subst</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">let</span> <span class="id" title="var">usedvars</span> := <span class="id" title="var">gather_vars</span> <span class="id" title="tactic">in</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">lets</span>× <span class="id" title="var">EAlphas</span>: <a class="idref" href="GMuAnnot.Prelude.html#exist_alphas"><span class="id" title="lemma">exist_alphas</span></a> (<span class="id" title="var">usedvars</span>) (<a class="idref" href="http://coq.inria.fr/distrib/V8.13.0/stdlib//Coq.Init.Datatypes.html#length"><span class="id" title="definition">length</span></a> <span class="id" title="var">Ts</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">inversion</span> <span class="id" title="var">EAlphas</span> <span class="id" title="keyword">as</span> [<span class="id" title="var">Alphas</span> [<span class="id" title="var">A1</span> [<span class="id" title="var">A2</span> <span class="id" title="var">A3</span>]]].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">lets</span>× <span class="id" title="var">HH</span>: <span class="id" title="var">H9</span> <span class="id" title="var">Alphas</span> <span class="id" title="var">CiC</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> (@<a class="idref" href="GMuAnnot.Regularity.html#wft_open_many"><span class="id" title="lemma">wft_open_many</span></a> <span class="id" title="var">Δ</span> <span class="id" title="var">Σ</span> <span class="id" title="var">Alphas</span> <span class="id" title="var">Ts</span>); <span class="id" title="tactic">auto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;× <span class="id" title="var">introv</span> <span class="id" title="var">Ain</span>; <span class="id" title="var">lets</span>¬ <span class="id" title="var">FA</span>: <span class="id" title="var">A3</span> <span class="id" title="var">Ain</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;× <span class="id" title="var">introv</span> <span class="id" title="var">Ain</span> <span class="id" title="var">Tin</span>; <span class="id" title="var">lets</span>¬ <span class="id" title="var">FA</span>: <span class="id" title="var">A3</span> <span class="id" title="var">Ain</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eauto</span> <span class="id" title="keyword">using</span> <a class="idref" href="GMuAnnot.InfrastructureFV.html#fv_typs_notin"><span class="id" title="lemma">fv_typs_notin</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;× <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="tactic">rewrite</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.0/stdlib//Coq.Lists.List.html#map_length"><span class="id" title="lemma">List.map_length</span></a>. <span class="id" title="tactic">trivial</span>.<br/>
&nbsp;&nbsp;- <span class="id" title="var">pick_fresh</span> <span class="id" title="var">y</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">copyTo</span> <span class="id" title="var">IH</span> <span class="id" title="var">IH1</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">assert</span> (<span class="id" title="var">yL</span>: <span class="id" title="var">y</span> <span class="id" title="notation">\</span><span class="id" title="notation">notin</span> <span class="id" title="var">L</span>); <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">lets</span>¬ [? [? ?]]: <span class="id" title="var">IH</span> <span class="id" title="var">yL</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">splits</span>×.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="var">apply_folding</span> <span class="id" title="var">E</span> <a class="idref" href="GMuAnnot.Regularity.html#okt_strengthen"><span class="id" title="lemma">okt_strengthen</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="tactic">econstructor</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;× <span class="id" title="tactic">apply</span>× <a class="idref" href="GMuAnnot.Regularity.html#okt_is_type"><span class="id" title="lemma">okt_is_type</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;× <span class="id" title="tactic">intros</span>. <span class="id" title="tactic">apply</span>× <span class="id" title="var">IH1</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="tactic">econstructor</span>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span>× <a class="idref" href="GMuAnnot.Regularity.html#okt_is_wft"><span class="id" title="lemma">okt_is_wft</span></a>.<br/>
&nbsp;&nbsp;- <span class="id" title="var">splits</span>×.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span>¬ <span class="id" title="var">IHTyp2</span> <span class="id" title="keyword">as</span> [? [? <span class="id" title="var">Hwft</span>]]. <span class="id" title="tactic">inversion</span>× <span class="id" title="var">Hwft</span>.<br/>
&nbsp;&nbsp;- <span class="id" title="var">copyTo</span> <span class="id" title="var">IH</span> <span class="id" title="var">IH1</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">pick_fresh_gen</span> (<span class="id" title="var">L</span> <span class="id" title="notation">\</span><span class="id" title="notation">u</span> <a class="idref" href="../lambda2Gmu/GMu.Definitions.html#fv_env"><span class="id" title="definition">fv_env</span></a> <span class="id" title="var">E</span> <span class="id" title="notation">\</span><span class="id" title="notation">u</span> <span class="id" title="axiom">dom</span> <span class="id" title="var">E</span>) <span class="id" title="var">y</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">add_notin</span> <span class="id" title="var">y</span> <span class="id" title="var">L</span>. <span class="id" title="var">lets</span>¬ <span class="id" title="var">HF</span>: <span class="id" title="var">IH</span> <span class="id" title="var">Fr0</span>. <span class="id" title="var">destructs</span>¬ <span class="id" title="var">HF</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">splits</span>×.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;× <span class="id" title="tactic">rewrite</span> &lt;- (<a class="idref" href="http://coq.inria.fr/distrib/V8.13.0/stdlib//Coq.Lists.List.html#app_nil_l"><span class="id" title="lemma">List.app_nil_l</span></a> <span class="id" title="var">Δ</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="GMuAnnot.Regularity.html#okt_strengthen_delta_var"><span class="id" title="lemma">okt_strengthen_delta_var</span></a> <span class="id" title="keyword">with</span> <span class="id" title="var">y</span>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;× <span class="id" title="tactic">apply</span>× <a class="idref" href="GMuAnnot.Definitions.html#term_tabs"><span class="id" title="constructor">term_tabs</span></a>. <span class="id" title="tactic">intros</span>. <span class="id" title="tactic">apply</span>× <span class="id" title="var">IH1</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;× <span class="id" title="var">apply_fresh</span>× <a class="idref" href="../lambda2Gmu/GMu.Definitions.html#wft_all"><span class="id" title="constructor">wft_all</span></a> <span class="id" title="keyword">as</span> <span class="id" title="var">Y</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">add_notin</span> <span class="id" title="var">Y</span> <span class="id" title="var">L</span>. <span class="id" title="var">lets</span>¬ <span class="id" title="var">HF</span>: <span class="id" title="var">IH1</span> <span class="id" title="var">Y</span> <span class="id" title="var">Fr1</span>. <span class="id" title="tactic">destruct</span>× <span class="id" title="var">HF</span>.<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">subst</span>. <span class="id" title="var">splits</span>×. <span class="id" title="tactic">destruct</span>¬ <span class="id" title="var">IHTyp</span> <span class="id" title="keyword">as</span> [? [? <span class="id" title="var">Hwft</span>]].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">copyTo</span> <span class="id" title="var">Hwft</span> <span class="id" title="var">Hwft2</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">inversions</span> <span class="id" title="var">Hwft</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">match</span> <span class="id" title="keyword">goal</span> <span class="id" title="keyword">with</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;| <span class="id" title="var">IH</span>: <span class="id" title="keyword">∀</span> <a id="X:124" class="idref" href="#X:124"><span class="id" title="binder">X</span></a> : <span class="id" title="axiom">var</span>, <a class="idref" href="GMuAnnot.Regularity.html#X:123"><span class="id" title="variable">X</span></a> <span class="id" title="notation">\</span><span class="id" title="notation">notin</span> <span class="id" title="var">L</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> ?<span class="id" title="var">conclusion</span> |- <span class="id" title="var">_</span> ⇒<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">pick_fresh</span> <span class="id" title="var">Y</span>; <span class="id" title="var">add_notin</span> <span class="id" title="var">Y</span> <span class="id" title="var">L</span>; <span class="id" title="var">lets</span> <span class="id" title="var">HW</span>: <span class="id" title="var">IH</span> <span class="id" title="var">Y</span> <span class="id" title="var">Fr0</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">end</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span>× <a class="idref" href="GMuAnnot.Regularity.html#wft_open"><span class="id" title="lemma">wft_open</span></a>.<br/>
&nbsp;&nbsp;- <span class="id" title="var">splits</span>×.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span>¬ <span class="id" title="var">IHTyp</span> <span class="id" title="keyword">as</span> [? [? <span class="id" title="var">Hwft</span>]]. <span class="id" title="tactic">inversion</span>× <span class="id" title="var">Hwft</span>.<br/>
&nbsp;&nbsp;- <span class="id" title="var">splits</span>×.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span>¬ <span class="id" title="var">IHTyp</span> <span class="id" title="keyword">as</span> [? [? <span class="id" title="var">Hwft</span>]]. <span class="id" title="tactic">inversion</span>× <span class="id" title="var">Hwft</span>.<br/>
&nbsp;&nbsp;- <span class="id" title="var">pick_fresh</span> <span class="id" title="var">y</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">copyTo</span> <span class="id" title="var">IH</span> <span class="id" title="var">IH1</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">specializes</span> <span class="id" title="var">IH1</span> <span class="id" title="var">y</span>. <span class="id" title="var">destructs</span>¬ <span class="id" title="var">IH1</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">splits</span>×.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="var">apply_folding</span> <span class="id" title="var">E</span> <a class="idref" href="GMuAnnot.Regularity.html#okt_strengthen"><span class="id" title="lemma">okt_strengthen</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="tactic">econstructor</span>. <span class="id" title="tactic">apply</span>× <a class="idref" href="GMuAnnot.Regularity.html#okt_is_type"><span class="id" title="lemma">okt_is_type</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intros</span>. <span class="id" title="tactic">apply</span>× <span class="id" title="var">IH</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intros</span>. <span class="id" title="tactic">apply</span>× <span class="id" title="var">IHval</span>.<br/>
&nbsp;&nbsp;- <span class="id" title="var">destructs</span>¬ <span class="id" title="var">IHTyp</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">pick_fresh</span> <span class="id" title="var">y</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">assert</span> (<span class="id" title="var">yFr</span>: <span class="id" title="var">y</span> <span class="id" title="notation">\</span><span class="id" title="notation">notin</span> <span class="id" title="var">L</span>); <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">lets</span> <span class="id" title="var">IH1</span>: <span class="id" title="var">H</span> <span class="id" title="var">yFr</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">destructs</span>¬ <span class="id" title="var">IH1</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">splits</span>×.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">econstructor</span>; <span class="id" title="tactic">auto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">introv</span> <span class="id" title="var">HxiL</span>. <span class="id" title="var">lets</span> <span class="id" title="var">HF</span>: <span class="id" title="var">H</span> <span class="id" title="var">x</span> <span class="id" title="var">HxiL</span>. <span class="id" title="var">destructs</span>¬ <span class="id" title="var">HF</span>.<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">destruct</span>¬ <span class="id" title="var">IHTyp</span> <span class="id" title="keyword">as</span> [<span class="id" title="var">Hokt</span> [<span class="id" title="var">Hterme</span> <span class="id" title="var">HwftT</span>]].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">splits</span>×.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="tactic">econstructor</span>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;2: {<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">lets</span>× <span class="id" title="var">OKG</span>: <a class="idref" href="GMuAnnot.Regularity.html#okt_implies_okgadt"><span class="id" title="lemma">okt_implies_okgadt</span></a> <span class="id" title="var">Hokt</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">inversions</span> <span class="id" title="var">OKG</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">lets</span>*: <span class="id" title="var">H6</span> <span class="id" title="var">H0</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">Defs</span> <span class="id" title="keyword">as</span> [|<span class="id" title="var">Def0</span>].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;1: {<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">H</span>. <span class="id" title="var">false</span>×.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}<br/>
<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">ms</span> <span class="id" title="keyword">as</span> [|<span class="id" title="var">cl0</span>].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;1: {<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">false</span>×.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}<br/>
<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">lets</span> [<span class="id" title="var">Alphas</span> [? [?]]]: <a class="idref" href="GMuAnnot.Prelude.html#exist_alphas"><span class="id" title="lemma">exist_alphas</span></a> <span class="id" title="var">L</span> (<a class="idref" href="../lambda2Gmu/GMu.Definitions.html#Carity"><span class="id" title="projection">Carity</span></a> <span class="id" title="var">Def0</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">pick_fresh</span> <span class="id" title="var">x</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">lets</span>¬ : <span class="id" title="var">H4</span> <span class="id" title="var">Def0</span> <span class="id" title="var">cl0</span> <span class="id" title="var">Alphas</span> <span class="id" title="var">x</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id" title="var">cbn</span>. <span class="id" title="tactic">auto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id" title="tactic">destruct</span> <span class="id" title="var">H10</span>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="tactic">apply</span>× <span class="id" title="var">H3</span>. <span class="id" title="var">cbn</span>. <span class="id" title="tactic">auto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="tactic">destruct</span> <span class="id" title="var">H11</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span>× <a class="idref" href="GMuAnnot.Regularity.html#type_from_wft"><span class="id" title="lemma">type_from_wft</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intros</span> <span class="id" title="var">cl</span> <span class="id" title="var">clin</span> <span class="id" title="var">Alphas</span> <span class="id" title="var">x</span> <span class="id" title="var">Hlen</span> <span class="id" title="var">Hdist</span> <span class="id" title="var">Afresh</span> <span class="id" title="var">xfresh</span> <span class="id" title="var">xAlphas</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">cl</span> <span class="id" title="keyword">as</span> [<span class="id" title="var">clA</span> <span class="id" title="var">clT</span>].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">cbn</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="../lambda2Gmu/GMu.Zip.html#F2_from_zip"><span class="id" title="lemma">F2_from_zip</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">H4</span>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">lets</span>× [<span class="id" title="var">Def</span> [<span class="id" title="var">DefIn</span> [<span class="id" title="var">DefIn2</span> <span class="id" title="var">HDef</span>]]]: <a class="idref" href="../lambda2Gmu/GMu.Zip.html#forall2_from_snd"><span class="id" title="lemma">forall2_from_snd</span></a> <span class="id" title="var">clin</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">cbn</span> <span class="id" title="tactic">in</span> <span class="id" title="var">HDef</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">cbn</span> <span class="id" title="tactic">in</span> <span class="id" title="var">Hlen</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">lets</span> <span class="id" title="var">Hlen2</span>: <span class="id" title="var">H2</span> <span class="id" title="var">DefIn2</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">cbn</span> <span class="id" title="tactic">in</span> <span class="id" title="var">Hlen2</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">assert</span> (<span class="id" title="var">Hlen3</span>: <a class="idref" href="http://coq.inria.fr/distrib/V8.13.0/stdlib//Coq.Init.Datatypes.html#length"><span class="id" title="definition">length</span></a> <span class="id" title="var">Alphas</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="../lambda2Gmu/GMu.Definitions.html#Carity"><span class="id" title="projection">Carity</span></a> <span class="id" title="var">Def</span>); <span class="id" title="tactic">try</span> <span class="id" title="var">lia</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">lets</span>¬ <span class="id" title="var">HF</span>: <span class="id" title="var">HDef</span> <span class="id" title="var">Alphas</span> <span class="id" title="var">x</span> <span class="id" title="var">Hlen3</span> <span class="id" title="var">Hdist</span> <span class="id" title="var">Afresh</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">lets</span>¬ [? [? ?]]: <span class="id" title="var">HF</span> <span class="id" title="var">xfresh</span> <span class="id" title="var">xAlphas</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">lets</span>¬ <span class="id" title="var">HT</span>: <span class="id" title="var">H3</span> <span class="id" title="var">Def</span> (<a class="idref" href="GMuAnnot.Definitions.html#clause"><span class="id" title="constructor">clause</span></a> <span class="id" title="var">clA</span> <span class="id" title="var">clT</span>) <span class="id" title="var">Alphas</span> <span class="id" title="var">x</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="tactic">assert</span> (<span class="id" title="var">ms</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'&lt;&gt;'_x"><span class="id" title="notation">≠</span></a> <a class="idref" href="../lambda2Gmu/GMu.Definitions.html#d2bf88c7986052c9dc5d682cca2fc0ac"><span class="id" title="notation">[]*</span></a>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;× <span class="id" title="var">lets</span> <span class="id" title="var">gadtOk</span>: <a class="idref" href="GMuAnnot.Regularity.html#okt_implies_okgadt"><span class="id" title="lemma">okt_implies_okgadt</span></a> <span class="id" title="var">Hokt</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">inversion</span> <span class="id" title="var">gadtOk</span> <span class="id" title="keyword">as</span> [? <span class="id" title="var">okDefs</span>].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">lets</span> [<span class="id" title="var">defNEmpty</span> <span class="id" title="var">okDef</span>]: <span class="id" title="var">okDefs</span> <span class="id" title="var">H0</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intro</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">Defs</span>; <span class="id" title="tactic">subst</span>; <span class="id" title="tactic">eauto</span>. <span class="id" title="var">cbn</span> <span class="id" title="tactic">in</span> <span class="id" title="var">H1</span>. <span class="id" title="var">lia</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;× <span class="id" title="tactic">destruct</span> <span class="id" title="var">ms</span> <span class="id" title="keyword">as</span> [ | <span class="id" title="var">cl1</span> <span class="id" title="var">rest</span>]; [ <span class="id" title="var">contradiction</span> | <span class="id" title="tactic">idtac</span> ].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="../lambda2Gmu/GMu.Zip.html#F2_from_zip"><span class="id" title="lemma">F2_from_zip</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">H3</span>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">lets</span>× [<span class="id" title="var">Def</span> [<span class="id" title="var">DefIn</span> [<span class="id" title="var">DefIn2</span> <span class="id" title="var">HDef</span>]]]: <a class="idref" href="../lambda2Gmu/GMu.Zip.html#forall2_from_snd"><span class="id" title="lemma">forall2_from_snd</span></a> <span class="id" title="var">cl1</span> <span class="id" title="var">H3</span>;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eauto</span> <span class="id" title="keyword">with</span> <span class="id" title="var">listin</span>.<br/>

<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment">(*&nbsp;May&nbsp;want&nbsp;a&nbsp;tactic&nbsp;'pick_fresh&nbsp;Alphas'&nbsp;*)</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">lets</span>× [<span class="id" title="var">Alphas</span> [<span class="id" title="var">A1</span> [<span class="id" title="var">A2</span> <span class="id" title="var">A3</span>]]]: <a class="idref" href="GMuAnnot.Prelude.html#exist_alphas"><span class="id" title="lemma">exist_alphas</span></a> (<a class="idref" href="../lambda2Gmu/GMu.Definitions.html#Carity"><span class="id" title="projection">Carity</span></a> <span class="id" title="var">Def</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">instantiate</span> (1:=<span class="id" title="var">L</span> <span class="id" title="notation">\</span><span class="id" title="notation">u</span> <a class="idref" href="../lambda2Gmu/GMu.Definitions.html#fv_typ"><span class="id" title="definition">fv_typ</span></a> <span class="id" title="var">Tc</span>) <span class="id" title="tactic">in</span> <span class="id" title="var">A3</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">pick_fresh</span> <span class="id" title="var">x</span>.<br/>

<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">assert</span> (<span class="id" title="var">Afresh</span>: (<span class="id" title="keyword">∀</span> <a id="A:126" class="idref" href="#A:126"><span class="id" title="binder">A</span></a> : <span class="id" title="axiom">var</span>, <a class="idref" href="http://coq.inria.fr/distrib/V8.13.0/stdlib//Coq.Lists.List.html#In"><span class="id" title="definition">List.In</span></a> <a class="idref" href="GMuAnnot.Regularity.html#A:125"><span class="id" title="variable">A</span></a> <span class="id" title="var">Alphas</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <a class="idref" href="GMuAnnot.Regularity.html#A:125"><span class="id" title="variable">A</span></a> <span class="id" title="notation">\</span><span class="id" title="notation">notin</span> <span class="id" title="var">L</span>));<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;[ <span class="id" title="var">introv</span> <span class="id" title="var">Ain</span>; <span class="id" title="var">lets</span>*: <span class="id" title="var">A3</span> <span class="id" title="var">Ain</span> | <span class="id" title="tactic">idtac</span> ].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">assert</span> (<span class="id" title="var">xfresh</span>: <span class="id" title="var">x</span> <span class="id" title="notation">\</span><span class="id" title="notation">notin</span> <span class="id" title="var">L</span>); <span class="id" title="tactic">eauto</span>.<br/>

<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">assert</span> (<span class="id" title="var">xfreshA</span>: <span class="id" title="var">x</span> <span class="id" title="notation">\</span><span class="id" title="notation">notin</span> <span class="id" title="definition">from_list</span> <span class="id" title="var">Alphas</span>); <span class="id" title="tactic">eauto</span>.<br/>

<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">lets</span>× <span class="id" title="var">HTyp</span>: <span class="id" title="var">HDef</span> <span class="id" title="var">A1</span> <span class="id" title="var">A2</span> <span class="id" title="var">Afresh</span> <span class="id" title="var">xfresh</span> <span class="id" title="var">xfreshA</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">lets</span>¬ [? [? <span class="id" title="var">Hwft2</span>]]: <span class="id" title="var">H4</span> <span class="id" title="var">HTyp</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="GMuAnnot.Regularity.html#wft_strengthen_typ_many"><span class="id" title="lemma">wft_strengthen_typ_many</span></a> <span class="id" title="keyword">with</span> <span class="id" title="var">Alphas</span>; <span class="id" title="tactic">auto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;-- <span class="id" title="tactic">rewrite</span> &lt;- (<a class="idref" href="http://coq.inria.fr/distrib/V8.13.0/stdlib//Coq.Lists.List.html#app_nil_l"><span class="id" title="lemma">List.app_nil_l</span></a> (<span class="id" title="var">Δ</span> <a class="idref" href="../lambda2Gmu/GMu.Definitions.html#3ca84bd817dd2b1e2f0f693cd9400702"><span class="id" title="notation">|,|</span></a> <a class="idref" href="../lambda2Gmu/GMu.Definitions.html#tc_vars"><span class="id" title="definition">tc_vars</span></a> <span class="id" title="var">Alphas</span>)).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="GMuAnnot.Regularity.html#wft_strengthen_equations"><span class="id" title="lemma">wft_strengthen_equations</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;++ <span class="id" title="var">clean_empty_Δ</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <span class="id" title="var">Hwft2</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;++ <span class="id" title="var">introv</span> <span class="id" title="var">Hin</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">unfold</span> <a class="idref" href="../lambda2Gmu/GMu.Definitions.html#equations_from_lists"><span class="id" title="definition">equations_from_lists</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">Hin</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <a class="idref" href="../lambda2Gmu/GMu.Zip.html#zipWithIsMappedZip"><span class="id" title="lemma">zipWithIsMappedZip</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">Hin</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.0/stdlib//Coq.Lists.List.html#in_map_iff"><span class="id" title="lemma">List.in_map_iff</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">Hin</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">Hin</span> <span class="id" title="keyword">as</span> [[<span class="id" title="var">U</span> <span class="id" title="var">V</span>] [<span class="id" title="var">Heq</span> <span class="id" title="var">Hin</span>]]. <span class="id" title="tactic">subst</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;-- <span class="id" title="var">introv</span> <span class="id" title="var">Ain</span>. <span class="id" title="var">lets</span>*: <span class="id" title="var">A3</span> <span class="id" title="var">Ain</span>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
</div>

<div class="doc">
The reduction relation is restricted to well-formed objects. 
</div>
<div class="code">

<br/>
<span class="comment">(*&nbsp;does&nbsp;not&nbsp;seem&nbsp;to&nbsp;be&nbsp;helpful&nbsp;for&nbsp;proving&nbsp;safety,&nbsp;just&nbsp;a&nbsp;useful&nbsp;result&nbsp;on&nbsp;its&nbsp;own,&nbsp;but&nbsp;let's&nbsp;ignore&nbsp;it&nbsp;while&nbsp;there&nbsp;are&nbsp;more&nbsp;pressing&nbsp;theorems&nbsp;to&nbsp;prove&nbsp;*)</span><br/>
<span class="comment">(*&nbsp;Lemma&nbsp;red_regular&nbsp;:&nbsp;forall&nbsp;t&nbsp;t',&nbsp;*)</span><br/>
<span class="comment">(*&nbsp;&nbsp;&nbsp;red&nbsp;t&nbsp;t'&nbsp;-&gt;&nbsp;term&nbsp;t&nbsp;/\&nbsp;term&nbsp;t'.&nbsp;*)</span><br/>
<span class="comment">(*&nbsp;Proof.&nbsp;*)</span><br/>
<span class="comment">(*&nbsp;&nbsp;&nbsp;induction&nbsp;1;&nbsp;split;&nbsp;autos*&nbsp;value_regular.&nbsp;*)</span><br/>
<span class="comment">(*&nbsp;&nbsp;&nbsp;-&nbsp;inversions&nbsp;H.&nbsp;pick_fresh&nbsp;y.&nbsp;rewrite*&nbsp;(@subst_ee_intro&nbsp;y).&nbsp;*)</span><br/>
<span class="comment">(*&nbsp;&nbsp;&nbsp;-&nbsp;inversions&nbsp;H.&nbsp;pick_fresh&nbsp;Y.&nbsp;rewrite*&nbsp;(@subst_te_intro&nbsp;Y).&nbsp;*)</span><br/>
<span class="comment">(*&nbsp;&nbsp;&nbsp;-&nbsp;inversions&nbsp;H.&nbsp;pick_fresh&nbsp;y.&nbsp;rewrite*&nbsp;(@subst_ee_intro&nbsp;y).&nbsp;*)</span><br/>
<span class="comment">(*&nbsp;&nbsp;&nbsp;-&nbsp;inversions&nbsp;H.&nbsp;auto.&nbsp;*)</span><br/>
<span class="comment">(*&nbsp;&nbsp;&nbsp;-&nbsp;inversions&nbsp;H.&nbsp;auto.&nbsp;*)</span><br/>
<span class="comment">(*&nbsp;&nbsp;&nbsp;-&nbsp;inversions&nbsp;IHred.&nbsp;econstructor.&nbsp;*)</span><br/>
<span class="comment">(*&nbsp;Qed.&nbsp;*)</span><br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="typing_implies_term" class="idref" href="#typing_implies_term"><span class="id" title="lemma">typing_implies_term</span></a> : <span class="id" title="keyword">∀</span> <a id="65358e173100572b17ccc689a57a129c" class="idref" href="#65358e173100572b17ccc689a57a129c"><span class="id" title="binder">Σ</span></a> <a id="cab2d5cb4b25f0214b4aa66330ddc813" class="idref" href="#cab2d5cb4b25f0214b4aa66330ddc813"><span class="id" title="binder">Δ</span></a> <a id="E:129" class="idref" href="#E:129"><span class="id" title="binder">E</span></a> <a id="e:130" class="idref" href="#e:130"><span class="id" title="binder">e</span></a> <a id="T:131" class="idref" href="#T:131"><span class="id" title="binder">T</span></a> <a id="TT:132" class="idref" href="#TT:132"><span class="id" title="binder">TT</span></a>,<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="GMuAnnot.Definitions.html#01c16c7ccd254b860cbd58c1da68710e"><span class="id" title="notation">{</span></a><a class="idref" href="GMuAnnot.Regularity.html#65358e173100572b17ccc689a57a129c"><span class="id" title="variable">Σ</span></a><a class="idref" href="GMuAnnot.Definitions.html#01c16c7ccd254b860cbd58c1da68710e"><span class="id" title="notation">,</span></a> <a class="idref" href="GMuAnnot.Regularity.html#cab2d5cb4b25f0214b4aa66330ddc813"><span class="id" title="variable">Δ</span></a><a class="idref" href="GMuAnnot.Definitions.html#01c16c7ccd254b860cbd58c1da68710e"><span class="id" title="notation">,</span></a> <a class="idref" href="GMuAnnot.Regularity.html#E:129"><span class="id" title="variable">E</span></a><a class="idref" href="GMuAnnot.Definitions.html#01c16c7ccd254b860cbd58c1da68710e"><span class="id" title="notation">}</span></a> <a class="idref" href="GMuAnnot.Definitions.html#01c16c7ccd254b860cbd58c1da68710e"><span class="id" title="notation">⊢(</span></a><a class="idref" href="GMuAnnot.Regularity.html#TT:132"><span class="id" title="variable">TT</span></a><a class="idref" href="GMuAnnot.Definitions.html#01c16c7ccd254b860cbd58c1da68710e"><span class="id" title="notation">)</span></a> <a class="idref" href="GMuAnnot.Regularity.html#e:130"><span class="id" title="variable">e</span></a> <a class="idref" href="GMuAnnot.Definitions.html#01c16c7ccd254b860cbd58c1da68710e"><span class="id" title="notation">∈</span></a> <a class="idref" href="GMuAnnot.Regularity.html#T:131"><span class="id" title="variable">T</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="GMuAnnot.Definitions.html#term"><span class="id" title="inductive">term</span></a> <a class="idref" href="GMuAnnot.Regularity.html#e:130"><span class="id" title="variable">e</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="var">introv</span> <span class="id" title="var">Typ</span>.<br/>
&nbsp;&nbsp;<span class="id" title="var">lets</span>× <span class="id" title="var">TR</span>: <a class="idref" href="GMuAnnot.Regularity.html#typing_regular"><span class="id" title="lemma">typing_regular</span></a> <span class="id" title="var">Typ</span>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="Tgen_from_any" class="idref" href="#Tgen_from_any"><span class="id" title="lemma">Tgen_from_any</span></a> : <span class="id" title="keyword">∀</span> <a id="bde462675d41d4bc8b1ca99665600e7d" class="idref" href="#bde462675d41d4bc8b1ca99665600e7d"><span class="id" title="binder">Σ</span></a> <a id="f067f79f88b5a3f15dd99bc90a56fc36" class="idref" href="#f067f79f88b5a3f15dd99bc90a56fc36"><span class="id" title="binder">Δ</span></a> <a id="E:135" class="idref" href="#E:135"><span class="id" title="binder">E</span></a> <a id="TT:136" class="idref" href="#TT:136"><span class="id" title="binder">TT</span></a> <a id="e:137" class="idref" href="#e:137"><span class="id" title="binder">e</span></a> <a id="T:138" class="idref" href="#T:138"><span class="id" title="binder">T</span></a>,<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="GMuAnnot.Definitions.html#01c16c7ccd254b860cbd58c1da68710e"><span class="id" title="notation">{</span></a><a class="idref" href="GMuAnnot.Regularity.html#bde462675d41d4bc8b1ca99665600e7d"><span class="id" title="variable">Σ</span></a><a class="idref" href="GMuAnnot.Definitions.html#01c16c7ccd254b860cbd58c1da68710e"><span class="id" title="notation">,</span></a> <a class="idref" href="GMuAnnot.Regularity.html#f067f79f88b5a3f15dd99bc90a56fc36"><span class="id" title="variable">Δ</span></a><a class="idref" href="GMuAnnot.Definitions.html#01c16c7ccd254b860cbd58c1da68710e"><span class="id" title="notation">,</span></a> <a class="idref" href="GMuAnnot.Regularity.html#E:135"><span class="id" title="variable">E</span></a><a class="idref" href="GMuAnnot.Definitions.html#01c16c7ccd254b860cbd58c1da68710e"><span class="id" title="notation">}</span></a> <a class="idref" href="GMuAnnot.Definitions.html#01c16c7ccd254b860cbd58c1da68710e"><span class="id" title="notation">⊢(</span></a><a class="idref" href="GMuAnnot.Regularity.html#TT:136"><span class="id" title="variable">TT</span></a><a class="idref" href="GMuAnnot.Definitions.html#01c16c7ccd254b860cbd58c1da68710e"><span class="id" title="notation">)</span></a> <a class="idref" href="GMuAnnot.Regularity.html#e:137"><span class="id" title="variable">e</span></a> <a class="idref" href="GMuAnnot.Definitions.html#01c16c7ccd254b860cbd58c1da68710e"><span class="id" title="notation">∈</span></a> <a class="idref" href="GMuAnnot.Regularity.html#T:138"><span class="id" title="variable">T</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="GMuAnnot.Definitions.html#01c16c7ccd254b860cbd58c1da68710e"><span class="id" title="notation">{</span></a><a class="idref" href="GMuAnnot.Regularity.html#bde462675d41d4bc8b1ca99665600e7d"><span class="id" title="variable">Σ</span></a><a class="idref" href="GMuAnnot.Definitions.html#01c16c7ccd254b860cbd58c1da68710e"><span class="id" title="notation">,</span></a> <a class="idref" href="GMuAnnot.Regularity.html#f067f79f88b5a3f15dd99bc90a56fc36"><span class="id" title="variable">Δ</span></a><a class="idref" href="GMuAnnot.Definitions.html#01c16c7ccd254b860cbd58c1da68710e"><span class="id" title="notation">,</span></a> <a class="idref" href="GMuAnnot.Regularity.html#E:135"><span class="id" title="variable">E</span></a><a class="idref" href="GMuAnnot.Definitions.html#01c16c7ccd254b860cbd58c1da68710e"><span class="id" title="notation">}</span></a> <a class="idref" href="GMuAnnot.Definitions.html#01c16c7ccd254b860cbd58c1da68710e"><span class="id" title="notation">⊢(</span></a><a class="idref" href="../lambda2Gmu/GMu.Definitions.html#Tgen"><span class="id" title="constructor">Tgen</span></a><a class="idref" href="GMuAnnot.Definitions.html#01c16c7ccd254b860cbd58c1da68710e"><span class="id" title="notation">)</span></a> <a class="idref" href="GMuAnnot.Regularity.html#e:137"><span class="id" title="variable">e</span></a> <a class="idref" href="GMuAnnot.Definitions.html#01c16c7ccd254b860cbd58c1da68710e"><span class="id" title="notation">∈</span></a> <a class="idref" href="GMuAnnot.Regularity.html#T:138"><span class="id" title="variable">T</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="var">introv</span> <span class="id" title="var">Typ</span>.<br/>
&nbsp;&nbsp;<span class="id" title="var">applys</span>¬ <a class="idref" href="GMuAnnot.Definitions.html#typing_eq"><span class="id" title="constructor">typing_eq</span></a> <span class="id" title="var">T</span> <span class="id" title="var">TT</span>.<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">apply</span> <a class="idref" href="GMuAnnot.Equations.html#teq_reflexivity"><span class="id" title="lemma">teq_reflexivity</span></a>.<br/>
&nbsp;&nbsp;- <span class="id" title="var">lets</span>× : <a class="idref" href="GMuAnnot.Regularity.html#typing_regular"><span class="id" title="lemma">typing_regular</span></a> <span class="id" title="var">Typ</span>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
</div>
</div>
<div id="footer">
  Generated by <a href="http://coq.inria.fr/">coqdoc</a> and improved with <a href="https://github.com/tebbi/coqdocjs">CoqdocJS</a>
</div>
</div>
</body>

</html>
