<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">

<head>
<meta http-equiv="Content-Type" content="text/html;charset=utf-8" />
<link href="coqdoc.css" rel="stylesheet" type="text/css" />
<link href="coqdocjs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="config.js"></script>
<script type="text/javascript" src="coqdocjs.js"></script>
</head>

<body onload="document.getElementById('content').focus()">
  <div id="header">
    <span class="left">
      <span class="modulename"> <script> document.write(document.title) </script> </span>
    </span>

    <span class="button" id="toggle-proofs"></span>

    <span class="right">
      <a href="../">Project Page</a>
      <a href="./indexpage.html"> Index </a>
      <a href="./toc.html"> Table of Contents </a>
    </span>
</div>
    <div id="content" tabindex="-1" onblur="document.getElementById('content').focus()">
    <div id="main">
<h1 class="libtitle">GMuAnnot.SubstMatch</h1>

<div class="code">
<span class="id" title="keyword">Set Implicit Arguments</span>.<br/>
<span class="id" title="keyword">Require</span> <span class="id" title="keyword">Import</span> <a class="idref" href="GMuAnnot.Prelude.html#"><span class="id" title="library">GMuAnnot.Prelude</span></a>.<br/>
<span class="id" title="keyword">Require</span> <span class="id" title="keyword">Import</span> <a class="idref" href="GMuAnnot.Infrastructure.html#"><span class="id" title="library">GMuAnnot.Infrastructure</span></a>.<br/>
<span class="id" title="keyword">Require</span> <span class="id" title="keyword">Import</span> <a class="idref" href="GMuAnnot.Regularity.html#"><span class="id" title="library">GMuAnnot.Regularity</span></a>.<br/>
<span class="id" title="keyword">Require</span> <span class="id" title="keyword">Import</span> <a class="idref" href="GMuAnnot.Regularity2.html#"><span class="id" title="library">GMuAnnot.Regularity2</span></a>.<br/>
<span class="id" title="keyword">Require</span> <span class="id" title="keyword">Import</span> <a class="idref" href="GMuAnnot.Equations.html#"><span class="id" title="library">GMuAnnot.Equations</span></a>.<br/>
<span class="id" title="keyword">Require</span> <span class="id" title="keyword">Import</span> <span class="id" title="library">TLC.LibLN</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="subst_sources_from_match" class="idref" href="#subst_sources_from_match"><span class="id" title="lemma">subst_sources_from_match</span></a> : <span class="id" title="keyword">∀</span> <a id="0101b9beac487b383a5ba2a8f6922788" class="idref" href="#0101b9beac487b383a5ba2a8f6922788"><span class="id" title="binder">Σ</span></a> <a id="D:2" class="idref" href="#D:2"><span class="id" title="binder">D</span></a> <a id="6b092533be42a3fec8a8a741a9b7e132" class="idref" href="#6b092533be42a3fec8a8a741a9b7e132"><span class="id" title="binder">Θ</span></a>,<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="../lambda2Gmu/GMu.Definitions.html#subst_matches_typctx"><span class="id" title="inductive">subst_matches_typctx</span></a> <a class="idref" href="GMuAnnot.SubstMatch.html#0101b9beac487b383a5ba2a8f6922788"><span class="id" title="variable">Σ</span></a> <a class="idref" href="GMuAnnot.SubstMatch.html#D:2"><span class="id" title="variable">D</span></a> <a class="idref" href="GMuAnnot.SubstMatch.html#6b092533be42a3fec8a8a741a9b7e132"><span class="id" title="variable">Θ</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="../lambda2Gmu/GMu.Definitions.html#substitution_sources"><span class="id" title="definition">substitution_sources</span></a> <a class="idref" href="GMuAnnot.SubstMatch.html#6b092533be42a3fec8a8a741a9b7e132"><span class="id" title="variable">Θ</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="../lambda2Gmu/GMu.Definitions.html#e1e06a37011ebd9f9e861e05c79f4e29"><span class="id" title="definition">domΔ</span></a> <a class="idref" href="GMuAnnot.SubstMatch.html#D:2"><span class="id" title="variable">D</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">induction</span> 1; <span class="id" title="var">cbn</span>; <span class="id" title="tactic">auto</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">fold</span> (<span class="id" title="definition">from_list</span> (<a class="idref" href="http://coq.inria.fr/distrib/V8.13.0/stdlib//Coq.Lists.List.html#map"><span class="id" title="definition">List.map</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.0/stdlib//Coq.Init.Datatypes.html#fst"><span class="id" title="definition">fst</span></a> <span class="id" title="var">Θ</span>)).<br/>
&nbsp;&nbsp;<span class="id" title="tactic">fold</span> (<a class="idref" href="../lambda2Gmu/GMu.Definitions.html#substitution_sources"><span class="id" title="definition">substitution_sources</span></a> <span class="id" title="var">Θ</span>).<br/>
&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span>¬ <span class="id" title="var">IHsubst_matches_typctx</span>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="subst_match_remove_eq" class="idref" href="#subst_match_remove_eq"><span class="id" title="lemma">subst_match_remove_eq</span></a> : <span class="id" title="keyword">∀</span> <a id="9c6d78f4cdf6dede5e109a175164bdaa" class="idref" href="#9c6d78f4cdf6dede5e109a175164bdaa"><span class="id" title="binder">Σ</span></a> <a id="351691ec1c039c581b03b53a86afbe90" class="idref" href="#351691ec1c039c581b03b53a86afbe90"><span class="id" title="binder">Θ</span></a> <a id="D1:6" class="idref" href="#D1:6"><span class="id" title="binder">D1</span></a> <a id="D2:7" class="idref" href="#D2:7"><span class="id" title="binder">D2</span></a> <a id="T1:8" class="idref" href="#T1:8"><span class="id" title="binder">T1</span></a> <a id="T2:9" class="idref" href="#T2:9"><span class="id" title="binder">T2</span></a>,<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="../lambda2Gmu/GMu.Definitions.html#subst_matches_typctx"><span class="id" title="inductive">subst_matches_typctx</span></a> <a class="idref" href="GMuAnnot.SubstMatch.html#9c6d78f4cdf6dede5e109a175164bdaa"><span class="id" title="variable">Σ</span></a> (<a class="idref" href="GMuAnnot.SubstMatch.html#D1:6"><span class="id" title="variable">D1</span></a> <a class="idref" href="../lambda2Gmu/GMu.Definitions.html#3ca84bd817dd2b1e2f0f693cd9400702"><span class="id" title="notation">|,|</span></a> <a class="idref" href="../lambda2Gmu/GMu.Definitions.html#b5ab1b23d5b56035820660ded1af9bea"><span class="id" title="notation">[</span></a><a class="idref" href="../lambda2Gmu/GMu.Definitions.html#tc_eq"><span class="id" title="constructor">tc_eq</span></a> (<a class="idref" href="GMuAnnot.SubstMatch.html#T1:8"><span class="id" title="variable">T1</span></a> <a class="idref" href="../lambda2Gmu/GMu.Definitions.html#8f9238d4eefe0b5c60a6c98165047666"><span class="id" title="notation">≡</span></a> <a class="idref" href="GMuAnnot.SubstMatch.html#T2:9"><span class="id" title="variable">T2</span></a>)<a class="idref" href="../lambda2Gmu/GMu.Definitions.html#b5ab1b23d5b56035820660ded1af9bea"><span class="id" title="notation">]*</span></a> <a class="idref" href="../lambda2Gmu/GMu.Definitions.html#3ca84bd817dd2b1e2f0f693cd9400702"><span class="id" title="notation">|,|</span></a> <a class="idref" href="GMuAnnot.SubstMatch.html#D2:7"><span class="id" title="variable">D2</span></a>) <a class="idref" href="GMuAnnot.SubstMatch.html#351691ec1c039c581b03b53a86afbe90"><span class="id" title="variable">Θ</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="../lambda2Gmu/GMu.Definitions.html#subst_matches_typctx"><span class="id" title="inductive">subst_matches_typctx</span></a> <a class="idref" href="GMuAnnot.SubstMatch.html#9c6d78f4cdf6dede5e109a175164bdaa"><span class="id" title="variable">Σ</span></a> (<a class="idref" href="GMuAnnot.SubstMatch.html#D1:6"><span class="id" title="variable">D1</span></a> <a class="idref" href="../lambda2Gmu/GMu.Definitions.html#3ca84bd817dd2b1e2f0f693cd9400702"><span class="id" title="notation">|,|</span></a> <a class="idref" href="GMuAnnot.SubstMatch.html#D2:7"><span class="id" title="variable">D2</span></a>) <a class="idref" href="GMuAnnot.SubstMatch.html#351691ec1c039c581b03b53a86afbe90"><span class="id" title="variable">Θ</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="var">introv</span> <span class="id" title="var">Match</span>.<br/>
&nbsp;&nbsp;<span class="id" title="var">gen_eq</span> <span class="id" title="var">D3</span>: (<span class="id" title="var">D1</span> <a class="idref" href="../lambda2Gmu/GMu.Definitions.html#3ca84bd817dd2b1e2f0f693cd9400702"><span class="id" title="notation">|,|</span></a> <a class="idref" href="../lambda2Gmu/GMu.Definitions.html#b5ab1b23d5b56035820660ded1af9bea"><span class="id" title="notation">[</span></a><a class="idref" href="../lambda2Gmu/GMu.Definitions.html#tc_eq"><span class="id" title="constructor">tc_eq</span></a> (<span class="id" title="var">T1</span> <a class="idref" href="../lambda2Gmu/GMu.Definitions.html#8f9238d4eefe0b5c60a6c98165047666"><span class="id" title="notation">≡</span></a> <span class="id" title="var">T2</span>)<a class="idref" href="../lambda2Gmu/GMu.Definitions.html#b5ab1b23d5b56035820660ded1af9bea"><span class="id" title="notation">]*</span></a> <a class="idref" href="../lambda2Gmu/GMu.Definitions.html#3ca84bd817dd2b1e2f0f693cd9400702"><span class="id" title="notation">|,|</span></a> <span class="id" title="var">D2</span>). <span class="id" title="var">gen</span> <span class="id" title="var">D1</span> <span class="id" title="var">D2</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">induction</span> <span class="id" title="var">Match</span>; <span class="id" title="var">introv</span> <span class="id" title="var">EQ</span>; <span class="id" title="tactic">subst</span>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;- <span class="id" title="var">false</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.0/stdlib//Coq.Lists.List.html#app_cons_not_nil"><span class="id" title="lemma">List.app_cons_not_nil</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">cbn</span> <span class="id" title="tactic">in</span> <span class="id" title="var">EQ</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">destruct</span> <span class="id" title="var">D2</span>; <span class="id" title="var">inversions</span> <span class="id" title="var">EQ</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">constructor</span>; <span class="id" title="tactic">try</span> <span class="id" title="tactic">fold</span> (<span class="id" title="var">D1</span> <a class="idref" href="../lambda2Gmu/GMu.Definitions.html#3ca84bd817dd2b1e2f0f693cd9400702"><span class="id" title="notation">|,|</span></a> <span class="id" title="var">D2</span>); <span class="id" title="tactic">auto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">fold_delta</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">repeat</span> <span class="id" title="tactic">rewrite</span> <a class="idref" href="GMuAnnot.InfrastructureFV.html#e986378a2a44bd3bcdda6d5b28752f62"><span class="id" title="lemma">notin_domΔ_eq</span></a> <span class="id" title="tactic">in</span> ×.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">H1</span> <span class="id" title="keyword">as</span> [[? ?] ?].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">split</span>¬.<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">destruct</span> <span class="id" title="var">D2</span>; <span class="id" title="var">inversions</span> <span class="id" title="var">EQ</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="var">cbn</span>. <span class="id" title="tactic">auto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="tactic">constructor</span>; <span class="id" title="tactic">auto</span>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="subst_match_decompose_var" class="idref" href="#subst_match_decompose_var"><span class="id" title="lemma">subst_match_decompose_var</span></a> : <span class="id" title="keyword">∀</span> <a id="2ab75602e9b8af2ca6fd6dbdb1e68a19" class="idref" href="#2ab75602e9b8af2ca6fd6dbdb1e68a19"><span class="id" title="binder">Σ</span></a> <a id="D1:11" class="idref" href="#D1:11"><span class="id" title="binder">D1</span></a> <a id="D2:12" class="idref" href="#D2:12"><span class="id" title="binder">D2</span></a> <a id="Y:13" class="idref" href="#Y:13"><span class="id" title="binder">Y</span></a> <a id="9401309586a3727db9b21d8c17b14653" class="idref" href="#9401309586a3727db9b21d8c17b14653"><span class="id" title="binder">Θ</span></a>,<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="../lambda2Gmu/GMu.Definitions.html#subst_matches_typctx"><span class="id" title="inductive">subst_matches_typctx</span></a> <a class="idref" href="GMuAnnot.SubstMatch.html#2ab75602e9b8af2ca6fd6dbdb1e68a19"><span class="id" title="variable">Σ</span></a> (<a class="idref" href="../lambda2Gmu/GMu.Definitions.html#3ca84bd817dd2b1e2f0f693cd9400702"><span class="id" title="notation">(</span></a><a class="idref" href="GMuAnnot.SubstMatch.html#D1:11"><span class="id" title="variable">D1</span></a> <a class="idref" href="../lambda2Gmu/GMu.Definitions.html#3ca84bd817dd2b1e2f0f693cd9400702"><span class="id" title="notation">|,|</span></a> <a class="idref" href="../lambda2Gmu/GMu.Definitions.html#b5ab1b23d5b56035820660ded1af9bea"><span class="id" title="notation">[</span></a><a class="idref" href="../lambda2Gmu/GMu.Definitions.html#tc_var"><span class="id" title="constructor">tc_var</span></a> <a class="idref" href="GMuAnnot.SubstMatch.html#Y:13"><span class="id" title="variable">Y</span></a><a class="idref" href="../lambda2Gmu/GMu.Definitions.html#b5ab1b23d5b56035820660ded1af9bea"><span class="id" title="notation">]*</span></a><a class="idref" href="../lambda2Gmu/GMu.Definitions.html#3ca84bd817dd2b1e2f0f693cd9400702"><span class="id" title="notation">)</span></a> <a class="idref" href="../lambda2Gmu/GMu.Definitions.html#3ca84bd817dd2b1e2f0f693cd9400702"><span class="id" title="notation">|,|</span></a> <a class="idref" href="GMuAnnot.SubstMatch.html#D2:12"><span class="id" title="variable">D2</span></a>) <a class="idref" href="GMuAnnot.SubstMatch.html#9401309586a3727db9b21d8c17b14653"><span class="id" title="variable">Θ</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/V8.13.0/stdlib//Coq.Init.Logic.html#a883bdd010993579f99d60b3775bcf54"><span class="id" title="notation">∃</span></a> <a id="ac18d727e9e70124b32be671e0d77bbe" class="idref" href="#ac18d727e9e70124b32be671e0d77bbe"><span class="id" title="binder">Θ1</span></a> <a id="c4889f1937d3f67fac4f1f08f0e9a039" class="idref" href="#c4889f1937d3f67fac4f1f08f0e9a039"><span class="id" title="binder">Θ2</span></a> <a id="U:17" class="idref" href="#U:17"><span class="id" title="binder">U</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.13.0/stdlib//Coq.Init.Logic.html#a883bdd010993579f99d60b3775bcf54"><span class="id" title="notation">,</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="GMuAnnot.SubstMatch.html#9401309586a3727db9b21d8c17b14653"><span class="id" title="variable">Θ</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="GMuAnnot.SubstMatch.html#ac18d727e9e70124b32be671e0d77bbe"><span class="id" title="variable">Θ1</span></a> <a class="idref" href="../lambda2Gmu/GMu.Definitions.html#3ca84bd817dd2b1e2f0f693cd9400702"><span class="id" title="notation">|,|</span></a> <a class="idref" href="../lambda2Gmu/GMu.Definitions.html#b5ab1b23d5b56035820660ded1af9bea"><span class="id" title="notation">[</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.13.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">(</span></a><a class="idref" href="GMuAnnot.SubstMatch.html#Y:13"><span class="id" title="variable">Y</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.13.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a> <a class="idref" href="GMuAnnot.SubstMatch.html#U:17"><span class="id" title="variable">U</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.13.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">)</span></a><a class="idref" href="../lambda2Gmu/GMu.Definitions.html#b5ab1b23d5b56035820660ded1af9bea"><span class="id" title="notation">]*</span></a> <a class="idref" href="../lambda2Gmu/GMu.Definitions.html#3ca84bd817dd2b1e2f0f693cd9400702"><span class="id" title="notation">|,|</span></a> <a class="idref" href="GMuAnnot.SubstMatch.html#c4889f1937d3f67fac4f1f08f0e9a039"><span class="id" title="variable">Θ2</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.0/stdlib//Coq.Init.Logic.html#ba2b0e492d2b4675a0acf3ea92aabadd"><span class="id" title="notation">∧</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="../lambda2Gmu/GMu.Definitions.html#subst_matches_typctx"><span class="id" title="inductive">subst_matches_typctx</span></a> <a class="idref" href="GMuAnnot.SubstMatch.html#2ab75602e9b8af2ca6fd6dbdb1e68a19"><span class="id" title="variable">Σ</span></a> <a class="idref" href="GMuAnnot.SubstMatch.html#D1:11"><span class="id" title="variable">D1</span></a> <a class="idref" href="GMuAnnot.SubstMatch.html#ac18d727e9e70124b32be671e0d77bbe"><span class="id" title="variable">Θ1</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.0/stdlib//Coq.Init.Logic.html#ba2b0e492d2b4675a0acf3ea92aabadd"><span class="id" title="notation">∧</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="../lambda2Gmu/GMu.Definitions.html#substitution_sources"><span class="id" title="definition">substitution_sources</span></a> <a class="idref" href="GMuAnnot.SubstMatch.html#ac18d727e9e70124b32be671e0d77bbe"><span class="id" title="variable">Θ1</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="../lambda2Gmu/GMu.Definitions.html#e1e06a37011ebd9f9e861e05c79f4e29"><span class="id" title="definition">domΔ</span></a> <a class="idref" href="GMuAnnot.SubstMatch.html#D1:11"><span class="id" title="variable">D1</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.0/stdlib//Coq.Init.Logic.html#ba2b0e492d2b4675a0acf3ea92aabadd"><span class="id" title="notation">∧</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="../lambda2Gmu/GMu.Definitions.html#substitution_sources"><span class="id" title="definition">substitution_sources</span></a> <a class="idref" href="GMuAnnot.SubstMatch.html#c4889f1937d3f67fac4f1f08f0e9a039"><span class="id" title="variable">Θ2</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="../lambda2Gmu/GMu.Definitions.html#e1e06a37011ebd9f9e861e05c79f4e29"><span class="id" title="definition">domΔ</span></a> <a class="idref" href="GMuAnnot.SubstMatch.html#D2:12"><span class="id" title="variable">D2</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.0/stdlib//Coq.Init.Logic.html#ba2b0e492d2b4675a0acf3ea92aabadd"><span class="id" title="notation">∧</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="GMuAnnot.SubstMatch.html#Y:13"><span class="id" title="variable">Y</span></a> <span class="id" title="notation">\</span><span class="id" title="notation">notin</span> <a class="idref" href="../lambda2Gmu/GMu.Definitions.html#e1e06a37011ebd9f9e861e05c79f4e29"><span class="id" title="definition">domΔ</span></a> <a class="idref" href="GMuAnnot.SubstMatch.html#D1:11"><span class="id" title="variable">D1</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">induction</span> <span class="id" title="var">D2</span>; <span class="id" title="var">introv</span> <span class="id" title="var">M</span>; <span class="id" title="var">cbn</span> <span class="id" title="tactic">in</span> ×.<br/>
&nbsp;&nbsp;- <span class="id" title="var">inversions</span> <span class="id" title="var">M</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">∃</span> <span class="id" title="var">Θ0</span> (@<a class="idref" href="http://coq.inria.fr/distrib/V8.13.0/stdlib//Coq.Lists.List.html#nil"><span class="id" title="abbreviation">List.nil</span></a> (<span class="id" title="axiom">var</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.0/stdlib//Coq.Init.Datatypes.html#11c698c8685bb8ab1cf725545c085ac4"><span class="id" title="notation">×</span></a> <a class="idref" href="../lambda2Gmu/GMu.Definitions.html#typ"><span class="id" title="inductive">typ</span></a>)) <span class="id" title="var">T</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">repeat</span> <span class="id" title="tactic">split</span>¬.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span>× <a class="idref" href="GMuAnnot.SubstMatch.html#subst_sources_from_match"><span class="id" title="lemma">subst_sources_from_match</span></a>.<br/>
&nbsp;&nbsp;- <span class="id" title="var">inversions</span> <span class="id" title="var">M</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="var">lets</span> [<span class="id" title="var">O1</span> [<span class="id" title="var">O2</span> [<span class="id" title="var">U</span> [<span class="id" title="var">EQ</span> [<span class="id" title="var">M2</span> [<span class="id" title="var">S1</span> [<span class="id" title="var">S2</span> <span class="id" title="var">D</span>]]]]]]]: <span class="id" title="var">IHD2</span> <span class="id" title="var">H2</span>. <span class="id" title="tactic">subst</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">∃</span> <span class="id" title="var">O1</span> (<a class="idref" href="http://coq.inria.fr/distrib/V8.13.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">(</span></a><span class="id" title="var">A</span><a class="idref" href="http://coq.inria.fr/distrib/V8.13.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a> <span class="id" title="var">T</span><a class="idref" href="http://coq.inria.fr/distrib/V8.13.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">)</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.0/stdlib//Coq.Init.Datatypes.html#::list_scope:x_'::'_x"><span class="id" title="notation">::</span></a> <span class="id" title="var">O2</span>) <span class="id" title="var">U</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">repeat</span> <span class="id" title="tactic">split</span>¬.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">cbn</span>. <span class="id" title="var">fold_subst_src</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span>¬ <span class="id" title="var">S2</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="var">lets</span> [<span class="id" title="var">O1</span> [<span class="id" title="var">O2</span> [<span class="id" title="var">U</span> [<span class="id" title="var">EQ</span> [<span class="id" title="var">M2</span> [<span class="id" title="var">S1</span> [<span class="id" title="var">S2</span> <span class="id" title="var">D</span>]]]]]]]: <span class="id" title="var">IHD2</span> <span class="id" title="var">H1</span>. <span class="id" title="tactic">subst</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">∃</span> <span class="id" title="var">O1</span> <span class="id" title="var">O2</span> <span class="id" title="var">U</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">split</span>¬.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="subst_match_notin_srcs" class="idref" href="#subst_match_notin_srcs"><span class="id" title="lemma">subst_match_notin_srcs</span></a> : <span class="id" title="keyword">∀</span> <a id="8b13b958e79b112c1b4fdea541acbd8a" class="idref" href="#8b13b958e79b112c1b4fdea541acbd8a"><span class="id" title="binder">Σ</span></a> <a id="D:19" class="idref" href="#D:19"><span class="id" title="binder">D</span></a> <a id="O1:20" class="idref" href="#O1:20"><span class="id" title="binder">O1</span></a> <a id="X:21" class="idref" href="#X:21"><span class="id" title="binder">X</span></a> <a id="U:22" class="idref" href="#U:22"><span class="id" title="binder">U</span></a>,<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="../lambda2Gmu/GMu.Definitions.html#subst_matches_typctx"><span class="id" title="inductive">subst_matches_typctx</span></a> <a class="idref" href="GMuAnnot.SubstMatch.html#8b13b958e79b112c1b4fdea541acbd8a"><span class="id" title="variable">Σ</span></a> <a class="idref" href="GMuAnnot.SubstMatch.html#D:19"><span class="id" title="variable">D</span></a> (<a class="idref" href="GMuAnnot.SubstMatch.html#O1:20"><span class="id" title="variable">O1</span></a> <a class="idref" href="../lambda2Gmu/GMu.Definitions.html#c75eef461fb5f0f666c2430395694606"><span class="id" title="notation">|,</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">(</span></a><a class="idref" href="GMuAnnot.SubstMatch.html#X:21"><span class="id" title="variable">X</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.13.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a> <a class="idref" href="GMuAnnot.SubstMatch.html#U:22"><span class="id" title="variable">U</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.13.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">)</span></a>) <a class="idref" href="http://coq.inria.fr/distrib/V8.13.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="GMuAnnot.SubstMatch.html#X:21"><span class="id" title="variable">X</span></a> <span class="id" title="notation">\</span><span class="id" title="notation">notin</span> <a class="idref" href="../lambda2Gmu/GMu.Definitions.html#substitution_sources"><span class="id" title="definition">substitution_sources</span></a> <a class="idref" href="GMuAnnot.SubstMatch.html#O1:20"><span class="id" title="variable">O1</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="var">introv</span> <span class="id" title="var">M</span>.<br/>
&nbsp;&nbsp;<span class="id" title="var">gen_eq</span> <span class="id" title="var">O0</span>: (<span class="id" title="var">O1</span> <a class="idref" href="../lambda2Gmu/GMu.Definitions.html#c75eef461fb5f0f666c2430395694606"><span class="id" title="notation">|,</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">(</span></a><span class="id" title="var">X</span><a class="idref" href="http://coq.inria.fr/distrib/V8.13.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a> <span class="id" title="var">U</span><a class="idref" href="http://coq.inria.fr/distrib/V8.13.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">)</span></a>). <span class="id" title="var">gen</span> <span class="id" title="var">O1</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">induction</span> <span class="id" title="var">M</span>; <span class="id" title="var">introv</span> <span class="id" title="var">EQ</span>; <span class="id" title="tactic">subst</span>; <span class="id" title="tactic">auto</span>.<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">inversion</span> <span class="id" title="var">EQ</span>.<br/>
&nbsp;&nbsp;- <span class="id" title="var">inversions</span> <span class="id" title="var">EQ</span>. <span class="id" title="tactic">auto</span>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="subst_match_remove_right_var" class="idref" href="#subst_match_remove_right_var"><span class="id" title="lemma">subst_match_remove_right_var</span></a> : <span class="id" title="keyword">∀</span> <a id="3eadb2a0aeaeef49bd6cd27b7316c266" class="idref" href="#3eadb2a0aeaeef49bd6cd27b7316c266"><span class="id" title="binder">Σ</span></a> <a id="D1:24" class="idref" href="#D1:24"><span class="id" title="binder">D1</span></a> <a id="X:25" class="idref" href="#X:25"><span class="id" title="binder">X</span></a> <a id="D2:26" class="idref" href="#D2:26"><span class="id" title="binder">D2</span></a> <a id="O1:27" class="idref" href="#O1:27"><span class="id" title="binder">O1</span></a> <a id="U:28" class="idref" href="#U:28"><span class="id" title="binder">U</span></a> <a id="O2:29" class="idref" href="#O2:29"><span class="id" title="binder">O2</span></a> <a id="Y:30" class="idref" href="#Y:30"><span class="id" title="binder">Y</span></a> <a id="V:31" class="idref" href="#V:31"><span class="id" title="binder">V</span></a>,<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="../lambda2Gmu/GMu.Definitions.html#subst_matches_typctx"><span class="id" title="inductive">subst_matches_typctx</span></a> <a class="idref" href="GMuAnnot.SubstMatch.html#3eadb2a0aeaeef49bd6cd27b7316c266"><span class="id" title="variable">Σ</span></a> (<a class="idref" href="../lambda2Gmu/GMu.Definitions.html#3ca84bd817dd2b1e2f0f693cd9400702"><span class="id" title="notation">(</span></a><a class="idref" href="GMuAnnot.SubstMatch.html#D1:24"><span class="id" title="variable">D1</span></a> <a class="idref" href="../lambda2Gmu/GMu.Definitions.html#3ca84bd817dd2b1e2f0f693cd9400702"><span class="id" title="notation">|,|</span></a> <a class="idref" href="../lambda2Gmu/GMu.Definitions.html#b5ab1b23d5b56035820660ded1af9bea"><span class="id" title="notation">[</span></a><a class="idref" href="../lambda2Gmu/GMu.Definitions.html#tc_var"><span class="id" title="constructor">tc_var</span></a> <a class="idref" href="GMuAnnot.SubstMatch.html#X:25"><span class="id" title="variable">X</span></a><a class="idref" href="../lambda2Gmu/GMu.Definitions.html#b5ab1b23d5b56035820660ded1af9bea"><span class="id" title="notation">]*</span></a><a class="idref" href="../lambda2Gmu/GMu.Definitions.html#3ca84bd817dd2b1e2f0f693cd9400702"><span class="id" title="notation">)</span></a> <a class="idref" href="../lambda2Gmu/GMu.Definitions.html#3ca84bd817dd2b1e2f0f693cd9400702"><span class="id" title="notation">|,|</span></a> <a class="idref" href="GMuAnnot.SubstMatch.html#D2:26"><span class="id" title="variable">D2</span></a>) (<a class="idref" href="../lambda2Gmu/GMu.Definitions.html#3ca84bd817dd2b1e2f0f693cd9400702"><span class="id" title="notation">(</span></a><a class="idref" href="GMuAnnot.SubstMatch.html#O1:27"><span class="id" title="variable">O1</span></a> <a class="idref" href="../lambda2Gmu/GMu.Definitions.html#3ca84bd817dd2b1e2f0f693cd9400702"><span class="id" title="notation">|,|</span></a> <a class="idref" href="../lambda2Gmu/GMu.Definitions.html#b5ab1b23d5b56035820660ded1af9bea"><span class="id" title="notation">[</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.13.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">(</span></a><a class="idref" href="GMuAnnot.SubstMatch.html#X:25"><span class="id" title="variable">X</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.13.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a> <a class="idref" href="GMuAnnot.SubstMatch.html#U:28"><span class="id" title="variable">U</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.13.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">)</span></a><a class="idref" href="../lambda2Gmu/GMu.Definitions.html#b5ab1b23d5b56035820660ded1af9bea"><span class="id" title="notation">]*</span></a><a class="idref" href="../lambda2Gmu/GMu.Definitions.html#3ca84bd817dd2b1e2f0f693cd9400702"><span class="id" title="notation">)</span></a> <a class="idref" href="../lambda2Gmu/GMu.Definitions.html#3ca84bd817dd2b1e2f0f693cd9400702"><span class="id" title="notation">|,|</span></a> <a class="idref" href="../lambda2Gmu/GMu.Definitions.html#3ca84bd817dd2b1e2f0f693cd9400702"><span class="id" title="notation">(</span></a><a class="idref" href="GMuAnnot.SubstMatch.html#O2:29"><span class="id" title="variable">O2</span></a> <a class="idref" href="../lambda2Gmu/GMu.Definitions.html#c75eef461fb5f0f666c2430395694606"><span class="id" title="notation">|,</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">(</span></a><a class="idref" href="GMuAnnot.SubstMatch.html#Y:30"><span class="id" title="variable">Y</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.13.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a> <a class="idref" href="GMuAnnot.SubstMatch.html#V:31"><span class="id" title="variable">V</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.13.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">)</span></a><a class="idref" href="../lambda2Gmu/GMu.Definitions.html#3ca84bd817dd2b1e2f0f693cd9400702"><span class="id" title="notation">)</span></a>) <a class="idref" href="http://coq.inria.fr/distrib/V8.13.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/V8.13.0/stdlib//Coq.Init.Logic.html#a883bdd010993579f99d60b3775bcf54"><span class="id" title="notation">∃</span></a> <a id="D3:32" class="idref" href="#D3:32"><span class="id" title="binder">D3</span></a> <a id="D4:33" class="idref" href="#D4:33"><span class="id" title="binder">D4</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.13.0/stdlib//Coq.Init.Logic.html#a883bdd010993579f99d60b3775bcf54"><span class="id" title="notation">,</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="GMuAnnot.SubstMatch.html#D2:26"><span class="id" title="variable">D2</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="GMuAnnot.SubstMatch.html#D3:32"><span class="id" title="variable">D3</span></a> <a class="idref" href="../lambda2Gmu/GMu.Definitions.html#3ca84bd817dd2b1e2f0f693cd9400702"><span class="id" title="notation">|,|</span></a> <a class="idref" href="GMuAnnot.SubstMatch.html#D4:33"><span class="id" title="variable">D4</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.0/stdlib//Coq.Init.Logic.html#ba2b0e492d2b4675a0acf3ea92aabadd"><span class="id" title="notation">∧</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="../lambda2Gmu/GMu.Definitions.html#subst_matches_typctx"><span class="id" title="inductive">subst_matches_typctx</span></a> <a class="idref" href="GMuAnnot.SubstMatch.html#3eadb2a0aeaeef49bd6cd27b7316c266"><span class="id" title="variable">Σ</span></a> (<a class="idref" href="../lambda2Gmu/GMu.Definitions.html#3ca84bd817dd2b1e2f0f693cd9400702"><span class="id" title="notation">(</span></a><a class="idref" href="GMuAnnot.SubstMatch.html#D1:24"><span class="id" title="variable">D1</span></a> <a class="idref" href="../lambda2Gmu/GMu.Definitions.html#3ca84bd817dd2b1e2f0f693cd9400702"><span class="id" title="notation">|,|</span></a> <a class="idref" href="../lambda2Gmu/GMu.Definitions.html#b5ab1b23d5b56035820660ded1af9bea"><span class="id" title="notation">[</span></a><a class="idref" href="../lambda2Gmu/GMu.Definitions.html#tc_var"><span class="id" title="constructor">tc_var</span></a> <a class="idref" href="GMuAnnot.SubstMatch.html#X:25"><span class="id" title="variable">X</span></a><a class="idref" href="../lambda2Gmu/GMu.Definitions.html#b5ab1b23d5b56035820660ded1af9bea"><span class="id" title="notation">]*</span></a><a class="idref" href="../lambda2Gmu/GMu.Definitions.html#3ca84bd817dd2b1e2f0f693cd9400702"><span class="id" title="notation">)</span></a> <a class="idref" href="../lambda2Gmu/GMu.Definitions.html#3ca84bd817dd2b1e2f0f693cd9400702"><span class="id" title="notation">|,|</span></a> <a class="idref" href="GMuAnnot.SubstMatch.html#D3:32"><span class="id" title="variable">D3</span></a>) (<a class="idref" href="../lambda2Gmu/GMu.Definitions.html#3ca84bd817dd2b1e2f0f693cd9400702"><span class="id" title="notation">(</span></a><a class="idref" href="GMuAnnot.SubstMatch.html#O1:27"><span class="id" title="variable">O1</span></a> <a class="idref" href="../lambda2Gmu/GMu.Definitions.html#3ca84bd817dd2b1e2f0f693cd9400702"><span class="id" title="notation">|,|</span></a> <a class="idref" href="../lambda2Gmu/GMu.Definitions.html#b5ab1b23d5b56035820660ded1af9bea"><span class="id" title="notation">[</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.13.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">(</span></a><a class="idref" href="GMuAnnot.SubstMatch.html#X:25"><span class="id" title="variable">X</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.13.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a> <a class="idref" href="GMuAnnot.SubstMatch.html#U:28"><span class="id" title="variable">U</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.13.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">)</span></a><a class="idref" href="../lambda2Gmu/GMu.Definitions.html#b5ab1b23d5b56035820660ded1af9bea"><span class="id" title="notation">]*</span></a><a class="idref" href="../lambda2Gmu/GMu.Definitions.html#3ca84bd817dd2b1e2f0f693cd9400702"><span class="id" title="notation">)</span></a> <a class="idref" href="../lambda2Gmu/GMu.Definitions.html#3ca84bd817dd2b1e2f0f693cd9400702"><span class="id" title="notation">|,|</span></a> <a class="idref" href="GMuAnnot.SubstMatch.html#O2:29"><span class="id" title="variable">O2</span></a>).<br/>
&nbsp;&nbsp;<span class="id" title="tactic">induction</span> <span class="id" title="var">D2</span> <span class="id" title="keyword">as</span> [| [<span class="id" title="var">Z</span> | [<span class="id" title="var">V1</span> <span class="id" title="var">V2</span>]]]; <span class="id" title="var">introv</span> <span class="id" title="var">M</span>.<br/>
&nbsp;&nbsp;- <span class="id" title="var">cbn</span> <span class="id" title="tactic">in</span> ×.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">inversions</span> <span class="id" title="var">M</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">false</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <span class="id" title="var">H6</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span>¬ <a class="idref" href="GMuAnnot.InfrastructureFV.html#subst_match_notin_srcs2"><span class="id" title="lemma">subst_match_notin_srcs2</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.0/stdlib//Coq.Lists.List.html#in_or_app"><span class="id" title="lemma">List.in_or_app</span></a>. <span class="id" title="var">cbn</span>. <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;- <span class="id" title="var">inversions</span> <span class="id" title="var">M</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">∃</span> <span class="id" title="var">D2</span> <a class="idref" href="../lambda2Gmu/GMu.Definitions.html#b5ab1b23d5b56035820660ded1af9bea"><span class="id" title="notation">[</span></a><a class="idref" href="../lambda2Gmu/GMu.Definitions.html#tc_var"><span class="id" title="constructor">tc_var</span></a> <span class="id" title="var">Y</span><a class="idref" href="../lambda2Gmu/GMu.Definitions.html#b5ab1b23d5b56035820660ded1af9bea"><span class="id" title="notation">]*</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">cbn</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">splits</span>¬.<br/>
&nbsp;&nbsp;- <span class="id" title="var">inversions</span> <span class="id" title="var">M</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">lets</span> [<span class="id" title="var">D3</span> [<span class="id" title="var">D4</span> [<span class="id" title="var">EQ</span> <span class="id" title="var">M2</span>]]]: <span class="id" title="var">IHD2</span> <span class="id" title="var">H3</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">subst</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">∃</span> <span class="id" title="var">D3</span> (<span class="id" title="var">D4</span> <a class="idref" href="../lambda2Gmu/GMu.Definitions.html#c75eef461fb5f0f666c2430395694606"><span class="id" title="notation">|,</span></a> <a class="idref" href="../lambda2Gmu/GMu.Definitions.html#tc_eq"><span class="id" title="constructor">tc_eq</span></a> (<span class="id" title="var">V1</span> <a class="idref" href="../lambda2Gmu/GMu.Definitions.html#8f9238d4eefe0b5c60a6c98165047666"><span class="id" title="notation">≡</span></a> <span class="id" title="var">V2</span>)).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">cbn</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">splits</span>¬.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="subst_match_remove_right_var2" class="idref" href="#subst_match_remove_right_var2"><span class="id" title="lemma">subst_match_remove_right_var2</span></a> : <span class="id" title="keyword">∀</span> <a id="c9c14b58eeeaee559bef0d4f884fa28f" class="idref" href="#c9c14b58eeeaee559bef0d4f884fa28f"><span class="id" title="binder">Σ</span></a> <a id="D1:35" class="idref" href="#D1:35"><span class="id" title="binder">D1</span></a> <a id="X:36" class="idref" href="#X:36"><span class="id" title="binder">X</span></a> <a id="D2:37" class="idref" href="#D2:37"><span class="id" title="binder">D2</span></a> <a id="O1:38" class="idref" href="#O1:38"><span class="id" title="binder">O1</span></a> <a id="U:39" class="idref" href="#U:39"><span class="id" title="binder">U</span></a>,<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="../lambda2Gmu/GMu.Definitions.html#subst_matches_typctx"><span class="id" title="inductive">subst_matches_typctx</span></a> <a class="idref" href="GMuAnnot.SubstMatch.html#c9c14b58eeeaee559bef0d4f884fa28f"><span class="id" title="variable">Σ</span></a> (<a class="idref" href="../lambda2Gmu/GMu.Definitions.html#3ca84bd817dd2b1e2f0f693cd9400702"><span class="id" title="notation">(</span></a><a class="idref" href="GMuAnnot.SubstMatch.html#D1:35"><span class="id" title="variable">D1</span></a> <a class="idref" href="../lambda2Gmu/GMu.Definitions.html#3ca84bd817dd2b1e2f0f693cd9400702"><span class="id" title="notation">|,|</span></a> <a class="idref" href="../lambda2Gmu/GMu.Definitions.html#b5ab1b23d5b56035820660ded1af9bea"><span class="id" title="notation">[</span></a><a class="idref" href="../lambda2Gmu/GMu.Definitions.html#tc_var"><span class="id" title="constructor">tc_var</span></a> <a class="idref" href="GMuAnnot.SubstMatch.html#X:36"><span class="id" title="variable">X</span></a><a class="idref" href="../lambda2Gmu/GMu.Definitions.html#b5ab1b23d5b56035820660ded1af9bea"><span class="id" title="notation">]*</span></a><a class="idref" href="../lambda2Gmu/GMu.Definitions.html#3ca84bd817dd2b1e2f0f693cd9400702"><span class="id" title="notation">)</span></a> <a class="idref" href="../lambda2Gmu/GMu.Definitions.html#3ca84bd817dd2b1e2f0f693cd9400702"><span class="id" title="notation">|,|</span></a> <a class="idref" href="GMuAnnot.SubstMatch.html#D2:37"><span class="id" title="variable">D2</span></a>) (<a class="idref" href="GMuAnnot.SubstMatch.html#O1:38"><span class="id" title="variable">O1</span></a> <a class="idref" href="../lambda2Gmu/GMu.Definitions.html#c75eef461fb5f0f666c2430395694606"><span class="id" title="notation">|,</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">(</span></a><a class="idref" href="GMuAnnot.SubstMatch.html#X:36"><span class="id" title="variable">X</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.13.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a> <a class="idref" href="GMuAnnot.SubstMatch.html#U:39"><span class="id" title="variable">U</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.13.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">)</span></a>) <a class="idref" href="http://coq.inria.fr/distrib/V8.13.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="../lambda2Gmu/GMu.Definitions.html#subst_matches_typctx"><span class="id" title="inductive">subst_matches_typctx</span></a> <a class="idref" href="GMuAnnot.SubstMatch.html#c9c14b58eeeaee559bef0d4f884fa28f"><span class="id" title="variable">Σ</span></a> <a class="idref" href="GMuAnnot.SubstMatch.html#D1:35"><span class="id" title="variable">D1</span></a> <a class="idref" href="GMuAnnot.SubstMatch.html#O1:38"><span class="id" title="variable">O1</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">induction</span> <span class="id" title="var">D2</span> <span class="id" title="keyword">as</span> [| [<span class="id" title="var">Z</span> | [<span class="id" title="var">V1</span> <span class="id" title="var">V2</span>]]]; <span class="id" title="var">introv</span> <span class="id" title="var">M</span>.<br/>
&nbsp;&nbsp;- <span class="id" title="var">cbn</span> <span class="id" title="tactic">in</span> ×.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">inversions</span> <span class="id" title="var">M</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">auto</span>.<br/>
&nbsp;&nbsp;- <span class="id" title="var">inversions</span> <span class="id" title="var">M</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">fold_delta</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">repeat</span> <span class="id" title="tactic">rewrite</span> <a class="idref" href="GMuAnnot.InfrastructureFV.html#e986378a2a44bd3bcdda6d5b28752f62"><span class="id" title="lemma">notin_domΔ_eq</span></a> <span class="id" title="tactic">in</span> ×.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">H7</span> <span class="id" title="keyword">as</span> [[? <span class="id" title="var">HF</span>]].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">cbn</span> <span class="id" title="tactic">in</span> <span class="id" title="var">HF</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <span class="id" title="lemma">notin_union</span> <span class="id" title="tactic">in</span> <span class="id" title="var">HF</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">HF</span> <span class="id" title="keyword">as</span> [<span class="id" title="var">HF</span> ?].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">false</span>× <span class="id" title="lemma">notin_same</span>.<br/>
&nbsp;&nbsp;- <span class="id" title="var">inversions</span> <span class="id" title="var">M</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">lets</span>¬ <span class="id" title="var">IH</span>: <span class="id" title="var">IHD2</span> <span class="id" title="var">H3</span>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="equation_weaken_eq" class="idref" href="#equation_weaken_eq"><span class="id" title="lemma">equation_weaken_eq</span></a>:<br/>
&nbsp;&nbsp;<span class="id" title="keyword">∀</span> (<a id="a5fa9249bdc19684169f7ebb302b006b" class="idref" href="#a5fa9249bdc19684169f7ebb302b006b"><span class="id" title="binder">Σ</span></a> : <a class="idref" href="../lambda2Gmu/GMu.Definitions.html#GADTEnv"><span class="id" title="definition">GADTEnv</span></a>) (<a id="D1:41" class="idref" href="#D1:41"><span class="id" title="binder">D1</span></a> <a id="D2:42" class="idref" href="#D2:42"><span class="id" title="binder">D2</span></a> : <a class="idref" href="http://coq.inria.fr/distrib/V8.13.0/stdlib//Coq.Init.Datatypes.html#list"><span class="id" title="inductive">list</span></a> <a class="idref" href="../lambda2Gmu/GMu.Definitions.html#typctx_elem"><span class="id" title="inductive">typctx_elem</span></a>) (<a id="T1:43" class="idref" href="#T1:43"><span class="id" title="binder">T1</span></a> <a id="T2:44" class="idref" href="#T2:44"><span class="id" title="binder">T2</span></a> <a id="U1:45" class="idref" href="#U1:45"><span class="id" title="binder">U1</span></a> <a id="U2:46" class="idref" href="#U2:46"><span class="id" title="binder">U2</span></a> : <a class="idref" href="../lambda2Gmu/GMu.Definitions.html#typ"><span class="id" title="inductive">typ</span></a>),<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="../lambda2Gmu/GMu.Definitions.html#entails_semantic"><span class="id" title="definition">entails_semantic</span></a> <a class="idref" href="GMuAnnot.SubstMatch.html#a5fa9249bdc19684169f7ebb302b006b"><span class="id" title="variable">Σ</span></a> (<a class="idref" href="GMuAnnot.SubstMatch.html#D1:41"><span class="id" title="variable">D1</span></a> <a class="idref" href="../lambda2Gmu/GMu.Definitions.html#3ca84bd817dd2b1e2f0f693cd9400702"><span class="id" title="notation">|,|</span></a> <a class="idref" href="GMuAnnot.SubstMatch.html#D2:42"><span class="id" title="variable">D2</span></a>) (<a class="idref" href="GMuAnnot.SubstMatch.html#T1:43"><span class="id" title="variable">T1</span></a> <a class="idref" href="../lambda2Gmu/GMu.Definitions.html#8f9238d4eefe0b5c60a6c98165047666"><span class="id" title="notation">≡</span></a> <a class="idref" href="GMuAnnot.SubstMatch.html#T2:44"><span class="id" title="variable">T2</span></a>) <a class="idref" href="http://coq.inria.fr/distrib/V8.13.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="../lambda2Gmu/GMu.Definitions.html#entails_semantic"><span class="id" title="definition">entails_semantic</span></a> <a class="idref" href="GMuAnnot.SubstMatch.html#a5fa9249bdc19684169f7ebb302b006b"><span class="id" title="variable">Σ</span></a> (<a class="idref" href="../lambda2Gmu/GMu.Definitions.html#3ca84bd817dd2b1e2f0f693cd9400702"><span class="id" title="notation">(</span></a><a class="idref" href="GMuAnnot.SubstMatch.html#D1:41"><span class="id" title="variable">D1</span></a> <a class="idref" href="../lambda2Gmu/GMu.Definitions.html#3ca84bd817dd2b1e2f0f693cd9400702"><span class="id" title="notation">|,|</span></a> <a class="idref" href="../lambda2Gmu/GMu.Definitions.html#b5ab1b23d5b56035820660ded1af9bea"><span class="id" title="notation">[</span></a><a class="idref" href="../lambda2Gmu/GMu.Definitions.html#tc_eq"><span class="id" title="constructor">tc_eq</span></a> (<a class="idref" href="GMuAnnot.SubstMatch.html#U1:45"><span class="id" title="variable">U1</span></a> <a class="idref" href="../lambda2Gmu/GMu.Definitions.html#8f9238d4eefe0b5c60a6c98165047666"><span class="id" title="notation">≡</span></a> <a class="idref" href="GMuAnnot.SubstMatch.html#U2:46"><span class="id" title="variable">U2</span></a>)<a class="idref" href="../lambda2Gmu/GMu.Definitions.html#b5ab1b23d5b56035820660ded1af9bea"><span class="id" title="notation">]*</span></a><a class="idref" href="../lambda2Gmu/GMu.Definitions.html#3ca84bd817dd2b1e2f0f693cd9400702"><span class="id" title="notation">)</span></a> <a class="idref" href="../lambda2Gmu/GMu.Definitions.html#3ca84bd817dd2b1e2f0f693cd9400702"><span class="id" title="notation">|,|</span></a> <a class="idref" href="GMuAnnot.SubstMatch.html#D2:42"><span class="id" title="variable">D2</span></a>) (<a class="idref" href="GMuAnnot.SubstMatch.html#T1:43"><span class="id" title="variable">T1</span></a> <a class="idref" href="../lambda2Gmu/GMu.Definitions.html#8f9238d4eefe0b5c60a6c98165047666"><span class="id" title="notation">≡</span></a> <a class="idref" href="GMuAnnot.SubstMatch.html#T2:44"><span class="id" title="variable">T2</span></a>).<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="var">introv</span> <span class="id" title="var">H</span>.<br/>
&nbsp;&nbsp;<span class="id" title="var">cbn</span> <span class="id" title="tactic">in</span> ×.<br/>
&nbsp;&nbsp;<span class="id" title="var">introv</span> <span class="id" title="var">M</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <span class="id" title="var">H</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="GMuAnnot.SubstMatch.html#subst_match_remove_eq"><span class="id" title="lemma">subst_match_remove_eq</span></a> <span class="id" title="keyword">with</span> <span class="id" title="var">U1</span> <span class="id" title="var">U2</span>. <span class="id" title="tactic">auto</span>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="subst_eq_strengthen" class="idref" href="#subst_eq_strengthen"><span class="id" title="lemma">subst_eq_strengthen</span></a> : <span class="id" title="keyword">∀</span> <a id="2ce81d995bf0c38f985c207cce3807c0" class="idref" href="#2ce81d995bf0c38f985c207cce3807c0"><span class="id" title="binder">Θ</span></a> <a id="T1:48" class="idref" href="#T1:48"><span class="id" title="binder">T1</span></a> <a id="T2:49" class="idref" href="#T2:49"><span class="id" title="binder">T2</span></a> <a id="Y:50" class="idref" href="#Y:50"><span class="id" title="binder">Y</span></a> <a id="T:51" class="idref" href="#T:51"><span class="id" title="binder">T</span></a>,<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="GMuAnnot.SubstMatch.html#Y:50"><span class="id" title="variable">Y</span></a> <span class="id" title="notation">\</span><span class="id" title="notation">notin</span> <a class="idref" href="../lambda2Gmu/GMu.Definitions.html#substitution_sources"><span class="id" title="definition">substitution_sources</span></a> <a class="idref" href="GMuAnnot.SubstMatch.html#2ce81d995bf0c38f985c207cce3807c0"><span class="id" title="variable">Θ</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/V8.13.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">(</span></a><span class="id" title="keyword">∀</span> <a id="A:52" class="idref" href="#A:52"><span class="id" title="binder">A</span></a> <a id="U:53" class="idref" href="#U:53"><span class="id" title="binder">U</span></a>, <a class="idref" href="http://coq.inria.fr/distrib/V8.13.0/stdlib//Coq.Lists.List.html#In"><span class="id" title="definition">List.In</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">(</span></a><a class="idref" href="GMuAnnot.SubstMatch.html#A:52"><span class="id" title="variable">A</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.13.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a> <a class="idref" href="GMuAnnot.SubstMatch.html#U:53"><span class="id" title="variable">U</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.13.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">)</span></a> <a class="idref" href="GMuAnnot.SubstMatch.html#2ce81d995bf0c38f985c207cce3807c0"><span class="id" title="variable">Θ</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <a class="idref" href="GMuAnnot.SubstMatch.html#Y:50"><span class="id" title="variable">Y</span></a> <span class="id" title="notation">\</span><span class="id" title="notation">notin</span> <a class="idref" href="../lambda2Gmu/GMu.Definitions.html#fv_typ"><span class="id" title="definition">fv_typ</span></a> <a class="idref" href="GMuAnnot.SubstMatch.html#U:53"><span class="id" title="variable">U</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.13.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">)</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="../lambda2Gmu/GMu.Definitions.html#subst_tt'"><span class="id" title="definition">subst_tt'</span></a> <a class="idref" href="GMuAnnot.SubstMatch.html#T1:48"><span class="id" title="variable">T1</span></a> <a class="idref" href="GMuAnnot.SubstMatch.html#2ce81d995bf0c38f985c207cce3807c0"><span class="id" title="variable">Θ</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="../lambda2Gmu/GMu.Definitions.html#subst_tt'"><span class="id" title="definition">subst_tt'</span></a> <a class="idref" href="GMuAnnot.SubstMatch.html#T2:49"><span class="id" title="variable">T2</span></a> <a class="idref" href="GMuAnnot.SubstMatch.html#2ce81d995bf0c38f985c207cce3807c0"><span class="id" title="variable">Θ</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="../lambda2Gmu/GMu.Definitions.html#subst_tt'"><span class="id" title="definition">subst_tt'</span></a> (<a class="idref" href="../lambda2Gmu/GMu.Definitions.html#subst_tt"><span class="id" title="definition">subst_tt</span></a> <a class="idref" href="GMuAnnot.SubstMatch.html#Y:50"><span class="id" title="variable">Y</span></a> <a class="idref" href="GMuAnnot.SubstMatch.html#T:51"><span class="id" title="variable">T</span></a> <a class="idref" href="GMuAnnot.SubstMatch.html#T1:48"><span class="id" title="variable">T1</span></a>) <a class="idref" href="GMuAnnot.SubstMatch.html#2ce81d995bf0c38f985c207cce3807c0"><span class="id" title="variable">Θ</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="../lambda2Gmu/GMu.Definitions.html#subst_tt'"><span class="id" title="definition">subst_tt'</span></a> (<a class="idref" href="../lambda2Gmu/GMu.Definitions.html#subst_tt"><span class="id" title="definition">subst_tt</span></a> <a class="idref" href="GMuAnnot.SubstMatch.html#Y:50"><span class="id" title="variable">Y</span></a> <a class="idref" href="GMuAnnot.SubstMatch.html#T:51"><span class="id" title="variable">T</span></a> <a class="idref" href="GMuAnnot.SubstMatch.html#T2:49"><span class="id" title="variable">T2</span></a>) <a class="idref" href="GMuAnnot.SubstMatch.html#2ce81d995bf0c38f985c207cce3807c0"><span class="id" title="variable">Θ</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">induction</span> <span class="id" title="var">Θ</span> <span class="id" title="keyword">as</span> [| [<span class="id" title="var">X</span> <span class="id" title="var">U</span>]]; <span class="id" title="var">introv</span> <span class="id" title="var">FrSrc</span> <span class="id" title="var">FrTrg</span> <span class="id" title="var">EQ</span>.<br/>
&nbsp;&nbsp;- <span class="id" title="var">cbn</span> <span class="id" title="tactic">in</span> ×.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">f_equal</span>¬.<br/>
&nbsp;&nbsp;- <span class="id" title="var">cbn</span> <span class="id" title="tactic">in</span> ×.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">fold_subst_src</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">assert</span> (<span class="id" title="var">Y</span> <span class="id" title="notation">\</span><span class="id" title="notation">notin</span> <a class="idref" href="../lambda2Gmu/GMu.Definitions.html#fv_typ"><span class="id" title="definition">fv_typ</span></a> <span class="id" title="var">U</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="tactic">eauto</span> <span class="id" title="keyword">with</span> <span class="id" title="var">listin</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="tactic">rewrite</span>¬ <a class="idref" href="GMuAnnot.InfrastructureSubst.html#subst_commute"><span class="id" title="lemma">subst_commute</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> (<a class="idref" href="GMuAnnot.InfrastructureSubst.html#subst_commute"><span class="id" title="lemma">subst_commute</span></a> <span class="id" title="var">U</span>); <span class="id" title="tactic">auto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span>¬ <span class="id" title="var">IHΘ</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eauto</span> <span class="id" title="keyword">with</span> <span class="id" title="var">listin</span>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="subst_eq_strengthen_gen" class="idref" href="#subst_eq_strengthen_gen"><span class="id" title="lemma">subst_eq_strengthen_gen</span></a> : <span class="id" title="keyword">∀</span> <a id="ad7104dcdc25fbf367892a63f7c55f7b" class="idref" href="#ad7104dcdc25fbf367892a63f7c55f7b"><span class="id" title="binder">Θ1</span></a> <a id="134659efbaba58e9553edfce2608d398" class="idref" href="#134659efbaba58e9553edfce2608d398"><span class="id" title="binder">Θ2</span></a> <a id="X:56" class="idref" href="#X:56"><span class="id" title="binder">X</span></a> <a id="U:57" class="idref" href="#U:57"><span class="id" title="binder">U</span></a> <a id="fe1b904099dfeab72f9743c2bf233c57" class="idref" href="#fe1b904099dfeab72f9743c2bf233c57"><span class="id" title="binder">Σ</span></a> <a id="D1:59" class="idref" href="#D1:59"><span class="id" title="binder">D1</span></a> <a id="D2:60" class="idref" href="#D2:60"><span class="id" title="binder">D2</span></a> <a id="T1:61" class="idref" href="#T1:61"><span class="id" title="binder">T1</span></a> <a id="T2:62" class="idref" href="#T2:62"><span class="id" title="binder">T2</span></a>,<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="../lambda2Gmu/GMu.Definitions.html#subst_tt'"><span class="id" title="definition">subst_tt'</span></a> <a class="idref" href="GMuAnnot.SubstMatch.html#T1:61"><span class="id" title="variable">T1</span></a> (<a class="idref" href="GMuAnnot.SubstMatch.html#ad7104dcdc25fbf367892a63f7c55f7b"><span class="id" title="variable">Θ1</span></a> <a class="idref" href="../lambda2Gmu/GMu.Definitions.html#3ca84bd817dd2b1e2f0f693cd9400702"><span class="id" title="notation">|,|</span></a> <a class="idref" href="GMuAnnot.SubstMatch.html#134659efbaba58e9553edfce2608d398"><span class="id" title="variable">Θ2</span></a>) <a class="idref" href="http://coq.inria.fr/distrib/V8.13.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="../lambda2Gmu/GMu.Definitions.html#subst_tt'"><span class="id" title="definition">subst_tt'</span></a> <a class="idref" href="GMuAnnot.SubstMatch.html#T2:62"><span class="id" title="variable">T2</span></a> (<a class="idref" href="GMuAnnot.SubstMatch.html#ad7104dcdc25fbf367892a63f7c55f7b"><span class="id" title="variable">Θ1</span></a> <a class="idref" href="../lambda2Gmu/GMu.Definitions.html#3ca84bd817dd2b1e2f0f693cd9400702"><span class="id" title="notation">|,|</span></a> <a class="idref" href="GMuAnnot.SubstMatch.html#134659efbaba58e9553edfce2608d398"><span class="id" title="variable">Θ2</span></a>) <a class="idref" href="http://coq.inria.fr/distrib/V8.13.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="../lambda2Gmu/GMu.Definitions.html#subst_matches_typctx"><span class="id" title="inductive">subst_matches_typctx</span></a> <a class="idref" href="GMuAnnot.SubstMatch.html#fe1b904099dfeab72f9743c2bf233c57"><span class="id" title="variable">Σ</span></a> (<a class="idref" href="GMuAnnot.SubstMatch.html#D1:59"><span class="id" title="variable">D1</span></a> <a class="idref" href="../lambda2Gmu/GMu.Definitions.html#3ca84bd817dd2b1e2f0f693cd9400702"><span class="id" title="notation">|,|</span></a> <a class="idref" href="../lambda2Gmu/GMu.Definitions.html#b5ab1b23d5b56035820660ded1af9bea"><span class="id" title="notation">[</span></a><a class="idref" href="../lambda2Gmu/GMu.Definitions.html#tc_var"><span class="id" title="constructor">tc_var</span></a> <a class="idref" href="GMuAnnot.SubstMatch.html#X:56"><span class="id" title="variable">X</span></a><a class="idref" href="../lambda2Gmu/GMu.Definitions.html#b5ab1b23d5b56035820660ded1af9bea"><span class="id" title="notation">]*</span></a> <a class="idref" href="../lambda2Gmu/GMu.Definitions.html#3ca84bd817dd2b1e2f0f693cd9400702"><span class="id" title="notation">|,|</span></a> <a class="idref" href="GMuAnnot.SubstMatch.html#D2:60"><span class="id" title="variable">D2</span></a>) (<a class="idref" href="../lambda2Gmu/GMu.Definitions.html#3ca84bd817dd2b1e2f0f693cd9400702"><span class="id" title="notation">(</span></a><a class="idref" href="GMuAnnot.SubstMatch.html#ad7104dcdc25fbf367892a63f7c55f7b"><span class="id" title="variable">Θ1</span></a> <a class="idref" href="../lambda2Gmu/GMu.Definitions.html#3ca84bd817dd2b1e2f0f693cd9400702"><span class="id" title="notation">|,|</span></a> <a class="idref" href="../lambda2Gmu/GMu.Definitions.html#b5ab1b23d5b56035820660ded1af9bea"><span class="id" title="notation">[</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.13.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">(</span></a><a class="idref" href="GMuAnnot.SubstMatch.html#X:56"><span class="id" title="variable">X</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.13.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a> <a class="idref" href="GMuAnnot.SubstMatch.html#U:57"><span class="id" title="variable">U</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.13.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">)</span></a><a class="idref" href="../lambda2Gmu/GMu.Definitions.html#b5ab1b23d5b56035820660ded1af9bea"><span class="id" title="notation">]*</span></a><a class="idref" href="../lambda2Gmu/GMu.Definitions.html#3ca84bd817dd2b1e2f0f693cd9400702"><span class="id" title="notation">)</span></a> <a class="idref" href="../lambda2Gmu/GMu.Definitions.html#3ca84bd817dd2b1e2f0f693cd9400702"><span class="id" title="notation">|,|</span></a> <a class="idref" href="GMuAnnot.SubstMatch.html#134659efbaba58e9553edfce2608d398"><span class="id" title="variable">Θ2</span></a>) <a class="idref" href="http://coq.inria.fr/distrib/V8.13.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="../lambda2Gmu/GMu.Definitions.html#subst_tt'"><span class="id" title="definition">subst_tt'</span></a> <a class="idref" href="GMuAnnot.SubstMatch.html#T1:61"><span class="id" title="variable">T1</span></a> (<a class="idref" href="../lambda2Gmu/GMu.Definitions.html#3ca84bd817dd2b1e2f0f693cd9400702"><span class="id" title="notation">(</span></a><a class="idref" href="GMuAnnot.SubstMatch.html#ad7104dcdc25fbf367892a63f7c55f7b"><span class="id" title="variable">Θ1</span></a> <a class="idref" href="../lambda2Gmu/GMu.Definitions.html#3ca84bd817dd2b1e2f0f693cd9400702"><span class="id" title="notation">|,|</span></a> <a class="idref" href="../lambda2Gmu/GMu.Definitions.html#b5ab1b23d5b56035820660ded1af9bea"><span class="id" title="notation">[</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.13.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">(</span></a><a class="idref" href="GMuAnnot.SubstMatch.html#X:56"><span class="id" title="variable">X</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.13.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a> <a class="idref" href="GMuAnnot.SubstMatch.html#U:57"><span class="id" title="variable">U</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.13.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">)</span></a><a class="idref" href="../lambda2Gmu/GMu.Definitions.html#b5ab1b23d5b56035820660ded1af9bea"><span class="id" title="notation">]*</span></a><a class="idref" href="../lambda2Gmu/GMu.Definitions.html#3ca84bd817dd2b1e2f0f693cd9400702"><span class="id" title="notation">)</span></a> <a class="idref" href="../lambda2Gmu/GMu.Definitions.html#3ca84bd817dd2b1e2f0f693cd9400702"><span class="id" title="notation">|,|</span></a> <a class="idref" href="GMuAnnot.SubstMatch.html#134659efbaba58e9553edfce2608d398"><span class="id" title="variable">Θ2</span></a>) <a class="idref" href="http://coq.inria.fr/distrib/V8.13.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="../lambda2Gmu/GMu.Definitions.html#subst_tt'"><span class="id" title="definition">subst_tt'</span></a> <a class="idref" href="GMuAnnot.SubstMatch.html#T2:62"><span class="id" title="variable">T2</span></a> (<a class="idref" href="../lambda2Gmu/GMu.Definitions.html#3ca84bd817dd2b1e2f0f693cd9400702"><span class="id" title="notation">(</span></a><a class="idref" href="GMuAnnot.SubstMatch.html#ad7104dcdc25fbf367892a63f7c55f7b"><span class="id" title="variable">Θ1</span></a> <a class="idref" href="../lambda2Gmu/GMu.Definitions.html#3ca84bd817dd2b1e2f0f693cd9400702"><span class="id" title="notation">|,|</span></a> <a class="idref" href="../lambda2Gmu/GMu.Definitions.html#b5ab1b23d5b56035820660ded1af9bea"><span class="id" title="notation">[</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.13.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">(</span></a><a class="idref" href="GMuAnnot.SubstMatch.html#X:56"><span class="id" title="variable">X</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.13.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a> <a class="idref" href="GMuAnnot.SubstMatch.html#U:57"><span class="id" title="variable">U</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.13.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">)</span></a><a class="idref" href="../lambda2Gmu/GMu.Definitions.html#b5ab1b23d5b56035820660ded1af9bea"><span class="id" title="notation">]*</span></a><a class="idref" href="../lambda2Gmu/GMu.Definitions.html#3ca84bd817dd2b1e2f0f693cd9400702"><span class="id" title="notation">)</span></a> <a class="idref" href="../lambda2Gmu/GMu.Definitions.html#3ca84bd817dd2b1e2f0f693cd9400702"><span class="id" title="notation">|,|</span></a> <a class="idref" href="GMuAnnot.SubstMatch.html#134659efbaba58e9553edfce2608d398"><span class="id" title="variable">Θ2</span></a>).<br/>
&nbsp;&nbsp;<span class="id" title="tactic">induction</span> <span class="id" title="var">Θ2</span> <span class="id" title="keyword">as</span> [| [<span class="id" title="var">Y</span> <span class="id" title="var">V</span>]]; <span class="id" title="var">introv</span> <span class="id" title="var">EQ</span> <span class="id" title="var">M</span>.<br/>
&nbsp;&nbsp;- <span class="id" title="var">cbn</span> <span class="id" title="tactic">in</span> ×.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span>¬ <a class="idref" href="GMuAnnot.SubstMatch.html#subst_eq_strengthen"><span class="id" title="lemma">subst_eq_strengthen</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="tactic">apply</span>× <a class="idref" href="GMuAnnot.SubstMatch.html#subst_match_notin_srcs"><span class="id" title="lemma">subst_match_notin_srcs</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="tactic">apply</span>× <a class="idref" href="GMuAnnot.Equations.html#subst_has_no_fv2"><span class="id" title="lemma">subst_has_no_fv2</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">fold_delta</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">lets</span>*: <a class="idref" href="GMuAnnot.SubstMatch.html#subst_match_remove_right_var2"><span class="id" title="lemma">subst_match_remove_right_var2</span></a> <span class="id" title="var">M</span>.<br/>
&nbsp;&nbsp;- <span class="id" title="var">cbn</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">lets</span> [<span class="id" title="var">D3</span> [<span class="id" title="var">D4</span> [<span class="id" title="var">EQ2</span> <span class="id" title="var">M2</span>]]]: <a class="idref" href="GMuAnnot.SubstMatch.html#subst_match_remove_right_var"><span class="id" title="lemma">subst_match_remove_right_var</span></a> <span class="id" title="var">M</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span>× <span class="id" title="var">IHΘ2</span>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="subst_eq_weaken" class="idref" href="#subst_eq_weaken"><span class="id" title="lemma">subst_eq_weaken</span></a> : <span class="id" title="keyword">∀</span> <a id="179584d2e7df21bfd98fd06b89034bec" class="idref" href="#179584d2e7df21bfd98fd06b89034bec"><span class="id" title="binder">Θ1</span></a> <a id="8e389f77fb78d46454ab6065878bc5f4" class="idref" href="#8e389f77fb78d46454ab6065878bc5f4"><span class="id" title="binder">Θ2</span></a> <a id="T1:65" class="idref" href="#T1:65"><span class="id" title="binder">T1</span></a> <a id="T2:66" class="idref" href="#T2:66"><span class="id" title="binder">T2</span></a> <a id="X:67" class="idref" href="#X:67"><span class="id" title="binder">X</span></a> <a id="U:68" class="idref" href="#U:68"><span class="id" title="binder">U</span></a>,<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="../lambda2Gmu/GMu.Definitions.html#subst_tt'"><span class="id" title="definition">subst_tt'</span></a> <a class="idref" href="GMuAnnot.SubstMatch.html#T1:65"><span class="id" title="variable">T1</span></a> (<a class="idref" href="../lambda2Gmu/GMu.Definitions.html#3ca84bd817dd2b1e2f0f693cd9400702"><span class="id" title="notation">(</span></a><a class="idref" href="GMuAnnot.SubstMatch.html#179584d2e7df21bfd98fd06b89034bec"><span class="id" title="variable">Θ1</span></a> <a class="idref" href="../lambda2Gmu/GMu.Definitions.html#3ca84bd817dd2b1e2f0f693cd9400702"><span class="id" title="notation">|,|</span></a> <a class="idref" href="../lambda2Gmu/GMu.Definitions.html#b5ab1b23d5b56035820660ded1af9bea"><span class="id" title="notation">[</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.13.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">(</span></a><a class="idref" href="GMuAnnot.SubstMatch.html#X:67"><span class="id" title="variable">X</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.13.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a> <a class="idref" href="GMuAnnot.SubstMatch.html#U:68"><span class="id" title="variable">U</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.13.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">)</span></a><a class="idref" href="../lambda2Gmu/GMu.Definitions.html#b5ab1b23d5b56035820660ded1af9bea"><span class="id" title="notation">]*</span></a><a class="idref" href="../lambda2Gmu/GMu.Definitions.html#3ca84bd817dd2b1e2f0f693cd9400702"><span class="id" title="notation">)</span></a> <a class="idref" href="../lambda2Gmu/GMu.Definitions.html#3ca84bd817dd2b1e2f0f693cd9400702"><span class="id" title="notation">|,|</span></a> <a class="idref" href="GMuAnnot.SubstMatch.html#8e389f77fb78d46454ab6065878bc5f4"><span class="id" title="variable">Θ2</span></a>) <a class="idref" href="http://coq.inria.fr/distrib/V8.13.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="../lambda2Gmu/GMu.Definitions.html#subst_tt'"><span class="id" title="definition">subst_tt'</span></a> <a class="idref" href="GMuAnnot.SubstMatch.html#T2:66"><span class="id" title="variable">T2</span></a> (<a class="idref" href="../lambda2Gmu/GMu.Definitions.html#3ca84bd817dd2b1e2f0f693cd9400702"><span class="id" title="notation">(</span></a><a class="idref" href="GMuAnnot.SubstMatch.html#179584d2e7df21bfd98fd06b89034bec"><span class="id" title="variable">Θ1</span></a> <a class="idref" href="../lambda2Gmu/GMu.Definitions.html#3ca84bd817dd2b1e2f0f693cd9400702"><span class="id" title="notation">|,|</span></a> <a class="idref" href="../lambda2Gmu/GMu.Definitions.html#b5ab1b23d5b56035820660ded1af9bea"><span class="id" title="notation">[</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.13.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">(</span></a><a class="idref" href="GMuAnnot.SubstMatch.html#X:67"><span class="id" title="variable">X</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.13.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a> <a class="idref" href="GMuAnnot.SubstMatch.html#U:68"><span class="id" title="variable">U</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.13.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">)</span></a><a class="idref" href="../lambda2Gmu/GMu.Definitions.html#b5ab1b23d5b56035820660ded1af9bea"><span class="id" title="notation">]*</span></a><a class="idref" href="../lambda2Gmu/GMu.Definitions.html#3ca84bd817dd2b1e2f0f693cd9400702"><span class="id" title="notation">)</span></a> <a class="idref" href="../lambda2Gmu/GMu.Definitions.html#3ca84bd817dd2b1e2f0f693cd9400702"><span class="id" title="notation">|,|</span></a> <a class="idref" href="GMuAnnot.SubstMatch.html#8e389f77fb78d46454ab6065878bc5f4"><span class="id" title="variable">Θ2</span></a>) <a class="idref" href="http://coq.inria.fr/distrib/V8.13.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="GMuAnnot.SubstMatch.html#X:67"><span class="id" title="variable">X</span></a> <span class="id" title="notation">\</span><span class="id" title="notation">notin</span> <a class="idref" href="../lambda2Gmu/GMu.Definitions.html#fv_typ"><span class="id" title="definition">fv_typ</span></a> <a class="idref" href="GMuAnnot.SubstMatch.html#T1:65"><span class="id" title="variable">T1</span></a> <span class="id" title="notation">\</span><span class="id" title="notation">u</span> <a class="idref" href="../lambda2Gmu/GMu.Definitions.html#fv_typ"><span class="id" title="definition">fv_typ</span></a> <a class="idref" href="GMuAnnot.SubstMatch.html#T2:66"><span class="id" title="variable">T2</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/V8.13.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">(</span></a><span class="id" title="keyword">∀</span> <a id="A:69" class="idref" href="#A:69"><span class="id" title="binder">A</span></a> <a id="U:70" class="idref" href="#U:70"><span class="id" title="binder">U</span></a>, <a class="idref" href="http://coq.inria.fr/distrib/V8.13.0/stdlib//Coq.Lists.List.html#In"><span class="id" title="definition">List.In</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">(</span></a><a class="idref" href="GMuAnnot.SubstMatch.html#A:69"><span class="id" title="variable">A</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.13.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a> <a class="idref" href="GMuAnnot.SubstMatch.html#U:70"><span class="id" title="variable">U</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.13.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">)</span></a> <a class="idref" href="GMuAnnot.SubstMatch.html#8e389f77fb78d46454ab6065878bc5f4"><span class="id" title="variable">Θ2</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <a class="idref" href="../lambda2Gmu/GMu.Definitions.html#fv_typ"><span class="id" title="definition">fv_typ</span></a> <a class="idref" href="GMuAnnot.SubstMatch.html#U:70"><span class="id" title="variable">U</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <span class="id" title="notation">\{}</span><a class="idref" href="http://coq.inria.fr/distrib/V8.13.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">)</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="../lambda2Gmu/GMu.Definitions.html#subst_tt'"><span class="id" title="definition">subst_tt'</span></a> <a class="idref" href="GMuAnnot.SubstMatch.html#T1:65"><span class="id" title="variable">T1</span></a> (<a class="idref" href="GMuAnnot.SubstMatch.html#179584d2e7df21bfd98fd06b89034bec"><span class="id" title="variable">Θ1</span></a> <a class="idref" href="../lambda2Gmu/GMu.Definitions.html#3ca84bd817dd2b1e2f0f693cd9400702"><span class="id" title="notation">|,|</span></a> <a class="idref" href="GMuAnnot.SubstMatch.html#8e389f77fb78d46454ab6065878bc5f4"><span class="id" title="variable">Θ2</span></a>) <a class="idref" href="http://coq.inria.fr/distrib/V8.13.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="../lambda2Gmu/GMu.Definitions.html#subst_tt'"><span class="id" title="definition">subst_tt'</span></a> <a class="idref" href="GMuAnnot.SubstMatch.html#T2:66"><span class="id" title="variable">T2</span></a> (<a class="idref" href="GMuAnnot.SubstMatch.html#179584d2e7df21bfd98fd06b89034bec"><span class="id" title="variable">Θ1</span></a> <a class="idref" href="../lambda2Gmu/GMu.Definitions.html#3ca84bd817dd2b1e2f0f693cd9400702"><span class="id" title="notation">|,|</span></a> <a class="idref" href="GMuAnnot.SubstMatch.html#8e389f77fb78d46454ab6065878bc5f4"><span class="id" title="variable">Θ2</span></a>).<br/>
&nbsp;&nbsp;<span class="id" title="tactic">induction</span> <span class="id" title="var">Θ2</span>; <span class="id" title="var">introv</span> <span class="id" title="var">EQ</span> <span class="id" title="var">Fr</span> <span class="id" title="var">Fr2</span>.<br/>
&nbsp;&nbsp;- <span class="id" title="var">cbn</span> <span class="id" title="tactic">in</span> ×.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">repeat</span> <span class="id" title="tactic">rewrite</span>¬ <a class="idref" href="GMuAnnot.InfrastructureSubst.html#subst_tt_fresh"><span class="id" title="lemma">subst_tt_fresh</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">EQ</span>.<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">destruct</span> <span class="id" title="var">a</span> <span class="id" title="keyword">as</span> [<span class="id" title="var">Y</span> <span class="id" title="var">P</span>]; <span class="id" title="var">cbn</span> <span class="id" title="tactic">in</span> ×.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <span class="id" title="lemma">notin_union</span> <span class="id" title="tactic">in</span> ×. <span class="id" title="tactic">destruct</span> <span class="id" title="var">Fr</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">assert</span> (<span class="id" title="var">X</span> <span class="id" title="notation">\</span><span class="id" title="notation">notin</span> <a class="idref" href="../lambda2Gmu/GMu.Definitions.html#fv_typ"><span class="id" title="definition">fv_typ</span></a> <span class="id" title="var">P</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="tactic">rewrite</span> <span class="id" title="var">Fr2</span> <span class="id" title="keyword">with</span> <span class="id" title="var">Y</span> <span class="id" title="var">P</span>; <span class="id" title="tactic">auto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="tactic">apply</span> <span class="id" title="var">IHΘ2</span> <span class="id" title="keyword">with</span> <span class="id" title="var">X</span> <span class="id" title="var">U</span>; <span class="id" title="tactic">auto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;× <span class="id" title="tactic">rewrite</span> <span class="id" title="lemma">notin_union</span> <span class="id" title="tactic">in</span> ×.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">split</span>; <span class="id" title="tactic">apply</span>¬ <a class="idref" href="GMuAnnot.InfrastructureFV.html#fv_subst_tt"><span class="id" title="lemma">fv_subst_tt</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;× <span class="id" title="var">introv</span> <span class="id" title="var">Ain</span>. <span class="id" title="tactic">eauto</span> <span class="id" title="keyword">with</span> <span class="id" title="var">listin</span>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="subst_match_remove_unused_var" class="idref" href="#subst_match_remove_unused_var"><span class="id" title="lemma">subst_match_remove_unused_var</span></a> : <span class="id" title="keyword">∀</span> <a id="71207c1fa4df2a6ffd92a3b175d4607f" class="idref" href="#71207c1fa4df2a6ffd92a3b175d4607f"><span class="id" title="binder">Σ</span></a> <a id="da6b38417ecd9664d05009ebf8480c93" class="idref" href="#da6b38417ecd9664d05009ebf8480c93"><span class="id" title="binder">Θ1</span></a> <a id="6161f0e625030e9692b250a01c669601" class="idref" href="#6161f0e625030e9692b250a01c669601"><span class="id" title="binder">Θ2</span></a> <a id="D1:74" class="idref" href="#D1:74"><span class="id" title="binder">D1</span></a> <a id="D2:75" class="idref" href="#D2:75"><span class="id" title="binder">D2</span></a> <a id="X:76" class="idref" href="#X:76"><span class="id" title="binder">X</span></a> <a id="T:77" class="idref" href="#T:77"><span class="id" title="binder">T</span></a>,<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="../lambda2Gmu/GMu.Definitions.html#subst_matches_typctx"><span class="id" title="inductive">subst_matches_typctx</span></a> <a class="idref" href="GMuAnnot.SubstMatch.html#71207c1fa4df2a6ffd92a3b175d4607f"><span class="id" title="variable">Σ</span></a> (<a class="idref" href="GMuAnnot.SubstMatch.html#D1:74"><span class="id" title="variable">D1</span></a> <a class="idref" href="../lambda2Gmu/GMu.Definitions.html#3ca84bd817dd2b1e2f0f693cd9400702"><span class="id" title="notation">|,|</span></a> <a class="idref" href="../lambda2Gmu/GMu.Definitions.html#b5ab1b23d5b56035820660ded1af9bea"><span class="id" title="notation">[</span></a><a class="idref" href="../lambda2Gmu/GMu.Definitions.html#tc_var"><span class="id" title="constructor">tc_var</span></a> <a class="idref" href="GMuAnnot.SubstMatch.html#X:76"><span class="id" title="variable">X</span></a><a class="idref" href="../lambda2Gmu/GMu.Definitions.html#b5ab1b23d5b56035820660ded1af9bea"><span class="id" title="notation">]*</span></a> <a class="idref" href="../lambda2Gmu/GMu.Definitions.html#3ca84bd817dd2b1e2f0f693cd9400702"><span class="id" title="notation">|,|</span></a> <a class="idref" href="GMuAnnot.SubstMatch.html#D2:75"><span class="id" title="variable">D2</span></a>) (<a class="idref" href="GMuAnnot.SubstMatch.html#da6b38417ecd9664d05009ebf8480c93"><span class="id" title="variable">Θ1</span></a> <a class="idref" href="../lambda2Gmu/GMu.Definitions.html#3ca84bd817dd2b1e2f0f693cd9400702"><span class="id" title="notation">|,|</span></a> <a class="idref" href="../lambda2Gmu/GMu.Definitions.html#b5ab1b23d5b56035820660ded1af9bea"><span class="id" title="notation">[</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.13.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">(</span></a><a class="idref" href="GMuAnnot.SubstMatch.html#X:76"><span class="id" title="variable">X</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.13.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a> <a class="idref" href="GMuAnnot.SubstMatch.html#T:77"><span class="id" title="variable">T</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.13.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">)</span></a><a class="idref" href="../lambda2Gmu/GMu.Definitions.html#b5ab1b23d5b56035820660ded1af9bea"><span class="id" title="notation">]*</span></a> <a class="idref" href="../lambda2Gmu/GMu.Definitions.html#3ca84bd817dd2b1e2f0f693cd9400702"><span class="id" title="notation">|,|</span></a> <a class="idref" href="GMuAnnot.SubstMatch.html#6161f0e625030e9692b250a01c669601"><span class="id" title="variable">Θ2</span></a>) <a class="idref" href="http://coq.inria.fr/distrib/V8.13.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="GMuAnnot.SubstMatch.html#X:76"><span class="id" title="variable">X</span></a> <span class="id" title="notation">\</span><span class="id" title="notation">notin</span> <a class="idref" href="../lambda2Gmu/GMu.Definitions.html#fv_delta"><span class="id" title="definition">fv_delta</span></a> <a class="idref" href="GMuAnnot.SubstMatch.html#D2:75"><span class="id" title="variable">D2</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="../lambda2Gmu/GMu.Definitions.html#subst_matches_typctx"><span class="id" title="inductive">subst_matches_typctx</span></a> <a class="idref" href="GMuAnnot.SubstMatch.html#71207c1fa4df2a6ffd92a3b175d4607f"><span class="id" title="variable">Σ</span></a> (<a class="idref" href="GMuAnnot.SubstMatch.html#D1:74"><span class="id" title="variable">D1</span></a> <a class="idref" href="../lambda2Gmu/GMu.Definitions.html#3ca84bd817dd2b1e2f0f693cd9400702"><span class="id" title="notation">|,|</span></a> <a class="idref" href="GMuAnnot.SubstMatch.html#D2:75"><span class="id" title="variable">D2</span></a>) (<a class="idref" href="GMuAnnot.SubstMatch.html#da6b38417ecd9664d05009ebf8480c93"><span class="id" title="variable">Θ1</span></a> <a class="idref" href="../lambda2Gmu/GMu.Definitions.html#3ca84bd817dd2b1e2f0f693cd9400702"><span class="id" title="notation">|,|</span></a> <a class="idref" href="GMuAnnot.SubstMatch.html#6161f0e625030e9692b250a01c669601"><span class="id" title="variable">Θ2</span></a>).<br/>
&nbsp;&nbsp;<span class="id" title="var">introv</span> <span class="id" title="var">Match</span>.<br/>
&nbsp;&nbsp;<span class="id" title="var">gen_eq</span> <span class="id" title="var">D3</span>: (<span class="id" title="var">D1</span> <a class="idref" href="../lambda2Gmu/GMu.Definitions.html#3ca84bd817dd2b1e2f0f693cd9400702"><span class="id" title="notation">|,|</span></a> <a class="idref" href="../lambda2Gmu/GMu.Definitions.html#b5ab1b23d5b56035820660ded1af9bea"><span class="id" title="notation">[</span></a><a class="idref" href="../lambda2Gmu/GMu.Definitions.html#tc_var"><span class="id" title="constructor">tc_var</span></a> <span class="id" title="var">X</span><a class="idref" href="../lambda2Gmu/GMu.Definitions.html#b5ab1b23d5b56035820660ded1af9bea"><span class="id" title="notation">]*</span></a> <a class="idref" href="../lambda2Gmu/GMu.Definitions.html#3ca84bd817dd2b1e2f0f693cd9400702"><span class="id" title="notation">|,|</span></a> <span class="id" title="var">D2</span>). <span class="id" title="var">gen</span> <span class="id" title="var">D1</span> <span class="id" title="var">D2</span>.<br/>
&nbsp;&nbsp;<span class="id" title="var">gen_eq</span> <span class="id" title="var">Θ3</span>: (<span class="id" title="var">Θ1</span> <a class="idref" href="../lambda2Gmu/GMu.Definitions.html#3ca84bd817dd2b1e2f0f693cd9400702"><span class="id" title="notation">|,|</span></a> <a class="idref" href="../lambda2Gmu/GMu.Definitions.html#b5ab1b23d5b56035820660ded1af9bea"><span class="id" title="notation">[</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.13.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">(</span></a><span class="id" title="var">X</span><a class="idref" href="http://coq.inria.fr/distrib/V8.13.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a> <span class="id" title="var">T</span><a class="idref" href="http://coq.inria.fr/distrib/V8.13.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">)</span></a><a class="idref" href="../lambda2Gmu/GMu.Definitions.html#b5ab1b23d5b56035820660ded1af9bea"><span class="id" title="notation">]*</span></a> <a class="idref" href="../lambda2Gmu/GMu.Definitions.html#3ca84bd817dd2b1e2f0f693cd9400702"><span class="id" title="notation">|,|</span></a> <span class="id" title="var">Θ2</span>). <span class="id" title="var">gen</span> <span class="id" title="var">Θ1</span> <span class="id" title="var">Θ2</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">induction</span> <span class="id" title="var">Match</span>; <span class="id" title="var">introv</span> <span class="id" title="var">EQ</span> <span class="id" title="var">EQ2</span> <span class="id" title="var">Fr</span>; <span class="id" title="tactic">subst</span>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;- <span class="id" title="var">false</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.0/stdlib//Coq.Lists.List.html#app_cons_not_nil"><span class="id" title="lemma">List.app_cons_not_nil</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">cbn</span> <span class="id" title="tactic">in</span> ×.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">destruct</span> <span class="id" title="var">D2</span>; <span class="id" title="var">inversions</span> <span class="id" title="var">EQ</span>;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">cbn</span> <span class="id" title="tactic">in</span> *;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">inversions</span> <span class="id" title="var">EQ2</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="tactic">destruct</span> <span class="id" title="var">Θ2</span>; <span class="id" title="var">inversions</span> <span class="id" title="var">H3</span>; <span class="id" title="tactic">auto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">false</span> <span class="id" title="var">H0</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span>¬ <a class="idref" href="GMuAnnot.InfrastructureFV.html#substitution_sources_from_in"><span class="id" title="lemma">substitution_sources_from_in</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.0/stdlib//Coq.Lists.List.html#in_or_app"><span class="id" title="lemma">List.in_or_app</span></a>. <span class="id" title="var">cbn</span>. <span class="id" title="tactic">auto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="tactic">destruct</span> <span class="id" title="var">Θ2</span>; <span class="id" title="var">inversions</span> <span class="id" title="var">H3</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;× <span class="id" title="tactic">repeat</span> <span class="id" title="tactic">rewrite</span> <a class="idref" href="GMuAnnot.InfrastructureFV.html#e986378a2a44bd3bcdda6d5b28752f62"><span class="id" title="lemma">notin_domΔ_eq</span></a> <span class="id" title="tactic">in</span> ×.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">cbn</span> <span class="id" title="tactic">in</span> <span class="id" title="var">H1</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <span class="id" title="lemma">notin_union</span> <span class="id" title="tactic">in</span> <span class="id" title="var">H1</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">H1</span> <span class="id" title="keyword">as</span> [[<span class="id" title="var">HF</span>]].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">false</span> <span class="id" title="var">HF</span>. <span class="id" title="tactic">apply</span> <span class="id" title="lemma">in_singleton_self</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;× <span class="id" title="tactic">constructor</span>; <span class="id" title="tactic">try</span> <span class="id" title="tactic">fold</span> (<span class="id" title="var">Θ1</span> <a class="idref" href="../lambda2Gmu/GMu.Definitions.html#3ca84bd817dd2b1e2f0f693cd9400702"><span class="id" title="notation">|,|</span></a> <span class="id" title="var">Θ2</span>); <span class="id" title="tactic">auto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;-- <span class="id" title="tactic">fold</span> (<span class="id" title="var">Θ1</span> <a class="idref" href="../lambda2Gmu/GMu.Definitions.html#3ca84bd817dd2b1e2f0f693cd9400702"><span class="id" title="notation">|,|</span></a> <a class="idref" href="../lambda2Gmu/GMu.Definitions.html#b5ab1b23d5b56035820660ded1af9bea"><span class="id" title="notation">[</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.13.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">(</span></a><span class="id" title="var">X</span><a class="idref" href="http://coq.inria.fr/distrib/V8.13.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a> <span class="id" title="var">T</span><a class="idref" href="http://coq.inria.fr/distrib/V8.13.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">)</span></a><a class="idref" href="../lambda2Gmu/GMu.Definitions.html#b5ab1b23d5b56035820660ded1af9bea"><span class="id" title="notation">]*</span></a>) <span class="id" title="tactic">in</span> ×.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">repeat</span> <span class="id" title="tactic">rewrite</span> <a class="idref" href="GMuAnnot.InfrastructureFV.html#subst_src_app"><span class="id" title="lemma">subst_src_app</span></a> <span class="id" title="tactic">in</span> ×.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">repeat</span> <span class="id" title="tactic">rewrite</span> <span class="id" title="lemma">notin_union</span> <span class="id" title="tactic">in</span> ×.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">H0</span> <span class="id" title="keyword">as</span> [[?]].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">split</span>¬.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;-- <span class="id" title="tactic">rewrite</span> <a class="idref" href="GMuAnnot.InfrastructureFV.html#e986378a2a44bd3bcdda6d5b28752f62"><span class="id" title="lemma">notin_domΔ_eq</span></a> <span class="id" title="tactic">in</span> ×.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">H1</span>. <span class="id" title="var">cbn</span> <span class="id" title="tactic">in</span> <span class="id" title="var">H1</span>. <span class="id" title="tactic">rewrite</span> <span class="id" title="lemma">notin_union</span> <span class="id" title="tactic">in</span> <span class="id" title="var">H1</span>. <span class="id" title="tactic">destruct</span> <span class="id" title="var">H1</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">split</span>¬.<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">destruct</span> <span class="id" title="var">D2</span>; <span class="id" title="var">inversions</span> <span class="id" title="var">EQ2</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">cbn</span> <span class="id" title="tactic">in</span> <span class="id" title="var">Fr</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">constructor</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="tactic">fold</span> (<span class="id" title="var">D1</span> <a class="idref" href="../lambda2Gmu/GMu.Definitions.html#3ca84bd817dd2b1e2f0f693cd9400702"><span class="id" title="notation">|,|</span></a> <span class="id" title="var">D2</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span>¬ <span class="id" title="var">IHMatch</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="tactic">apply</span> <a class="idref" href="GMuAnnot.SubstMatch.html#subst_eq_weaken"><span class="id" title="lemma">subst_eq_weaken</span></a> <span class="id" title="keyword">with</span> <span class="id" title="var">X</span> <span class="id" title="var">T</span>; <span class="id" title="tactic">auto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">lets</span> <span class="id" title="var">FM</span>: <a class="idref" href="GMuAnnot.Equations.html#subst_has_no_fv"><span class="id" title="lemma">subst_has_no_fv</span></a> <span class="id" title="var">Match</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">introv</span> <span class="id" title="var">Ain</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <span class="id" title="var">FM</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.0/stdlib//Coq.Lists.List.html#in_or_app"><span class="id" title="lemma">List.in_or_app</span></a>; <span class="id" title="tactic">left</span>. <span class="id" title="tactic">apply</span> <span class="id" title="var">Ain</span>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="equation_weaken_var" class="idref" href="#equation_weaken_var"><span class="id" title="lemma">equation_weaken_var</span></a>:<br/>
&nbsp;&nbsp;<span class="id" title="keyword">∀</span> (<a id="2639e8676b80946ed652087283a1b245" class="idref" href="#2639e8676b80946ed652087283a1b245"><span class="id" title="binder">Σ</span></a> : <a class="idref" href="../lambda2Gmu/GMu.Definitions.html#GADTEnv"><span class="id" title="definition">GADTEnv</span></a>) (<a id="D1:79" class="idref" href="#D1:79"><span class="id" title="binder">D1</span></a> <a id="D2:80" class="idref" href="#D2:80"><span class="id" title="binder">D2</span></a> : <a class="idref" href="http://coq.inria.fr/distrib/V8.13.0/stdlib//Coq.Init.Datatypes.html#list"><span class="id" title="inductive">list</span></a> <a class="idref" href="../lambda2Gmu/GMu.Definitions.html#typctx_elem"><span class="id" title="inductive">typctx_elem</span></a>) (<a id="Y:81" class="idref" href="#Y:81"><span class="id" title="binder">Y</span></a> : <span class="id" title="axiom">var</span>) (<a id="T1:82" class="idref" href="#T1:82"><span class="id" title="binder">T1</span></a> <a id="T2:83" class="idref" href="#T2:83"><span class="id" title="binder">T2</span></a> : <a class="idref" href="../lambda2Gmu/GMu.Definitions.html#typ"><span class="id" title="inductive">typ</span></a>),<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="../lambda2Gmu/GMu.Definitions.html#entails_semantic"><span class="id" title="definition">entails_semantic</span></a> <a class="idref" href="GMuAnnot.SubstMatch.html#2639e8676b80946ed652087283a1b245"><span class="id" title="variable">Σ</span></a> (<a class="idref" href="GMuAnnot.SubstMatch.html#D1:79"><span class="id" title="variable">D1</span></a> <a class="idref" href="../lambda2Gmu/GMu.Definitions.html#3ca84bd817dd2b1e2f0f693cd9400702"><span class="id" title="notation">|,|</span></a> <a class="idref" href="GMuAnnot.SubstMatch.html#D2:80"><span class="id" title="variable">D2</span></a>) (<a class="idref" href="GMuAnnot.SubstMatch.html#T1:82"><span class="id" title="variable">T1</span></a> <a class="idref" href="../lambda2Gmu/GMu.Definitions.html#8f9238d4eefe0b5c60a6c98165047666"><span class="id" title="notation">≡</span></a> <a class="idref" href="GMuAnnot.SubstMatch.html#T2:83"><span class="id" title="variable">T2</span></a>) <a class="idref" href="http://coq.inria.fr/distrib/V8.13.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="GMuAnnot.SubstMatch.html#Y:81"><span class="id" title="variable">Y</span></a> <span class="id" title="notation">\</span><span class="id" title="notation">notin</span> <a class="idref" href="../lambda2Gmu/GMu.Definitions.html#fv_delta"><span class="id" title="definition">fv_delta</span></a> <a class="idref" href="GMuAnnot.SubstMatch.html#D2:80"><span class="id" title="variable">D2</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="../lambda2Gmu/GMu.Definitions.html#entails_semantic"><span class="id" title="definition">entails_semantic</span></a> <a class="idref" href="GMuAnnot.SubstMatch.html#2639e8676b80946ed652087283a1b245"><span class="id" title="variable">Σ</span></a> (<a class="idref" href="../lambda2Gmu/GMu.Definitions.html#3ca84bd817dd2b1e2f0f693cd9400702"><span class="id" title="notation">(</span></a><a class="idref" href="GMuAnnot.SubstMatch.html#D1:79"><span class="id" title="variable">D1</span></a> <a class="idref" href="../lambda2Gmu/GMu.Definitions.html#3ca84bd817dd2b1e2f0f693cd9400702"><span class="id" title="notation">|,|</span></a> <a class="idref" href="../lambda2Gmu/GMu.Definitions.html#b5ab1b23d5b56035820660ded1af9bea"><span class="id" title="notation">[</span></a><a class="idref" href="../lambda2Gmu/GMu.Definitions.html#tc_var"><span class="id" title="constructor">tc_var</span></a> <a class="idref" href="GMuAnnot.SubstMatch.html#Y:81"><span class="id" title="variable">Y</span></a><a class="idref" href="../lambda2Gmu/GMu.Definitions.html#b5ab1b23d5b56035820660ded1af9bea"><span class="id" title="notation">]*</span></a><a class="idref" href="../lambda2Gmu/GMu.Definitions.html#3ca84bd817dd2b1e2f0f693cd9400702"><span class="id" title="notation">)</span></a> <a class="idref" href="../lambda2Gmu/GMu.Definitions.html#3ca84bd817dd2b1e2f0f693cd9400702"><span class="id" title="notation">|,|</span></a> <a class="idref" href="GMuAnnot.SubstMatch.html#D2:80"><span class="id" title="variable">D2</span></a>) (<a class="idref" href="GMuAnnot.SubstMatch.html#T1:82"><span class="id" title="variable">T1</span></a> <a class="idref" href="../lambda2Gmu/GMu.Definitions.html#8f9238d4eefe0b5c60a6c98165047666"><span class="id" title="notation">≡</span></a> <a class="idref" href="GMuAnnot.SubstMatch.html#T2:83"><span class="id" title="variable">T2</span></a>).<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="var">introv</span> <span class="id" title="var">Sem</span> <span class="id" title="var">YFr</span>.<br/>
&nbsp;&nbsp;<span class="id" title="var">cbn</span> <span class="id" title="tactic">in</span> ×.<br/>
&nbsp;&nbsp;<span class="id" title="var">introv</span> <span class="id" title="var">M</span>.<br/>
&nbsp;&nbsp;<span class="id" title="var">lets</span> [<span class="id" title="var">Θ1</span> [<span class="id" title="var">Θ2</span> [<span class="id" title="var">U</span> [<span class="id" title="var">EQ</span> [<span class="id" title="var">M1</span> [<span class="id" title="var">S1</span> <span class="id" title="var">S2</span>]]]]]]: <a class="idref" href="GMuAnnot.SubstMatch.html#subst_match_decompose_var"><span class="id" title="lemma">subst_match_decompose_var</span></a> <span class="id" title="var">M</span>; <span class="id" title="tactic">subst</span>.<br/>
&nbsp;&nbsp;<span class="id" title="var">lets</span> <span class="id" title="var">M2</span>: <a class="idref" href="GMuAnnot.SubstMatch.html#subst_match_remove_unused_var"><span class="id" title="lemma">subst_match_remove_unused_var</span></a> <span class="id" title="var">M</span> <span class="id" title="var">YFr</span>.<br/>
&nbsp;&nbsp;<span class="id" title="var">lets</span> <span class="id" title="var">EQ</span>: <span class="id" title="var">Sem</span> <span class="id" title="var">M2</span>.<br/>
&nbsp;&nbsp;<span class="id" title="var">fold_delta</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">apply</span>× <a class="idref" href="GMuAnnot.SubstMatch.html#subst_eq_strengthen_gen"><span class="id" title="lemma">subst_eq_strengthen_gen</span></a>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="subst_match_remove_right_var3" class="idref" href="#subst_match_remove_right_var3"><span class="id" title="lemma">subst_match_remove_right_var3</span></a> : <span class="id" title="keyword">∀</span> <a id="a5bae1297469f77e34a5c13ef06bb586" class="idref" href="#a5bae1297469f77e34a5c13ef06bb586"><span class="id" title="binder">Σ</span></a> <a id="D:85" class="idref" href="#D:85"><span class="id" title="binder">D</span></a> <a id="O:86" class="idref" href="#O:86"><span class="id" title="binder">O</span></a> <a id="X:87" class="idref" href="#X:87"><span class="id" title="binder">X</span></a> <a id="U:88" class="idref" href="#U:88"><span class="id" title="binder">U</span></a>,<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="../lambda2Gmu/GMu.Definitions.html#subst_matches_typctx"><span class="id" title="inductive">subst_matches_typctx</span></a> <a class="idref" href="GMuAnnot.SubstMatch.html#a5bae1297469f77e34a5c13ef06bb586"><span class="id" title="variable">Σ</span></a> <a class="idref" href="GMuAnnot.SubstMatch.html#D:85"><span class="id" title="variable">D</span></a> (<a class="idref" href="GMuAnnot.SubstMatch.html#O:86"><span class="id" title="variable">O</span></a> <a class="idref" href="../lambda2Gmu/GMu.Definitions.html#c75eef461fb5f0f666c2430395694606"><span class="id" title="notation">|,</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">(</span></a><a class="idref" href="GMuAnnot.SubstMatch.html#X:87"><span class="id" title="variable">X</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.13.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a> <a class="idref" href="GMuAnnot.SubstMatch.html#U:88"><span class="id" title="variable">U</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.13.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">)</span></a>) <a class="idref" href="http://coq.inria.fr/distrib/V8.13.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="../lambda2Gmu/GMu.Definitions.html#wft"><span class="id" title="inductive">wft</span></a> <a class="idref" href="GMuAnnot.SubstMatch.html#a5bae1297469f77e34a5c13ef06bb586"><span class="id" title="variable">Σ</span></a> <a class="idref" href="../lambda2Gmu/GMu.Definitions.html#c683a0ef5cfb77e0c243d45a72fd3fea"><span class="id" title="definition">emptyΔ</span></a> <a class="idref" href="GMuAnnot.SubstMatch.html#U:88"><span class="id" title="variable">U</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.0/stdlib//Coq.Init.Logic.html#ba2b0e492d2b4675a0acf3ea92aabadd"><span class="id" title="notation">∧</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.0/stdlib//Coq.Init.Logic.html#a883bdd010993579f99d60b3775bcf54"><span class="id" title="notation">∃</span></a> <a id="D':89" class="idref" href="#D':89"><span class="id" title="binder">D'</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.13.0/stdlib//Coq.Init.Logic.html#a883bdd010993579f99d60b3775bcf54"><span class="id" title="notation">,</span></a> <a class="idref" href="../lambda2Gmu/GMu.Definitions.html#subst_matches_typctx"><span class="id" title="inductive">subst_matches_typctx</span></a> <a class="idref" href="GMuAnnot.SubstMatch.html#a5bae1297469f77e34a5c13ef06bb586"><span class="id" title="variable">Σ</span></a> <a class="idref" href="GMuAnnot.SubstMatch.html#D':89"><span class="id" title="variable">D'</span></a> <a class="idref" href="GMuAnnot.SubstMatch.html#O:86"><span class="id" title="variable">O</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.0/stdlib//Coq.Init.Logic.html#ba2b0e492d2b4675a0acf3ea92aabadd"><span class="id" title="notation">∧</span></a> <a class="idref" href="GMuAnnot.SubstMatch.html#X:87"><span class="id" title="variable">X</span></a> <span class="id" title="notation">\</span><span class="id" title="notation">notin</span> <a class="idref" href="../lambda2Gmu/GMu.Definitions.html#substitution_sources"><span class="id" title="definition">substitution_sources</span></a> <a class="idref" href="GMuAnnot.SubstMatch.html#O:86"><span class="id" title="variable">O</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">induction</span> <span class="id" title="var">D</span> <span class="id" title="keyword">as</span> [| [<span class="id" title="var">Z</span> | [<span class="id" title="var">V1</span> <span class="id" title="var">V2</span>]]]; <span class="id" title="var">introv</span> <span class="id" title="var">M</span>.<br/>
&nbsp;&nbsp;- <span class="id" title="var">cbn</span> <span class="id" title="tactic">in</span> ×.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">inversions</span> <span class="id" title="var">M</span>.<br/>
&nbsp;&nbsp;- <span class="id" title="var">inversions</span> <span class="id" title="var">M</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">splits</span>¬.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;- <span class="id" title="var">inversions</span> <span class="id" title="var">M</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">lets</span>¬ <span class="id" title="var">IH</span>: <span class="id" title="var">IHD</span> <span class="id" title="var">H3</span>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="is_var_defined_dom" class="idref" href="#is_var_defined_dom"><span class="id" title="lemma">is_var_defined_dom</span></a> : <span class="id" title="keyword">∀</span> <a id="D:90" class="idref" href="#D:90"><span class="id" title="binder">D</span></a> <a id="X:91" class="idref" href="#X:91"><span class="id" title="binder">X</span></a>,<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="../lambda2Gmu/GMu.Definitions.html#is_var_defined"><span class="id" title="definition">is_var_defined</span></a> <a class="idref" href="GMuAnnot.SubstMatch.html#D:90"><span class="id" title="variable">D</span></a> <a class="idref" href="GMuAnnot.SubstMatch.html#X:91"><span class="id" title="variable">X</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'&lt;-&gt;'_x"><span class="id" title="notation">↔</span></a> <a class="idref" href="GMuAnnot.SubstMatch.html#X:91"><span class="id" title="variable">X</span></a> <span class="id" title="notation">\</span><span class="id" title="notation">in</span> <a class="idref" href="../lambda2Gmu/GMu.Definitions.html#e1e06a37011ebd9f9e861e05c79f4e29"><span class="id" title="definition">domΔ</span></a> <a class="idref" href="GMuAnnot.SubstMatch.html#D:90"><span class="id" title="variable">D</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">induction</span> <span class="id" title="var">D</span> <span class="id" title="keyword">as</span> [| [|]]; <span class="id" title="tactic">constructor</span>; <span class="id" title="tactic">intros</span>; <span class="id" title="var">cbn</span> <span class="id" title="tactic">in</span> *; <span class="id" title="tactic">try</span> <span class="id" title="tactic">solve</span> [<span class="id" title="var">false</span>*].<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">apply</span>× <span class="id" title="lemma">in_empty_inv</span>.<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">destruct</span> <span class="id" title="var">H</span> <span class="id" title="keyword">as</span> [<span class="id" title="var">H</span>|<span class="id" title="var">H</span>].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="var">inversions</span> <span class="id" title="var">H</span>. <span class="id" title="tactic">rewrite</span> <span class="id" title="axiom">in_union</span>; <span class="id" title="tactic">left</span>; <span class="id" title="tactic">apply</span> <span class="id" title="lemma">in_singleton_self</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="tactic">rewrite</span> <span class="id" title="axiom">in_union</span>; <span class="id" title="tactic">right</span>. <span class="id" title="tactic">apply</span>× <span class="id" title="var">IHD</span>.<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">rewrite</span> <span class="id" title="axiom">in_union</span> <span class="id" title="tactic">in</span> <span class="id" title="var">H</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">H</span> <span class="id" title="keyword">as</span> [<span class="id" title="var">H</span>|<span class="id" title="var">H</span>].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="tactic">rewrite</span> <span class="id" title="axiom">in_singleton</span> <span class="id" title="tactic">in</span> <span class="id" title="var">H</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">subst</span>. <span class="id" title="tactic">auto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="tactic">right</span>. <span class="id" title="tactic">apply</span>¬ <span class="id" title="var">IHD</span>.<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">destruct</span> <span class="id" title="var">H</span> <span class="id" title="keyword">as</span> [<span class="id" title="var">H</span>|<span class="id" title="var">H</span>].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="tactic">inversion</span> <span class="id" title="var">H</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="tactic">apply</span>¬ <span class="id" title="var">IHD</span>.<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">right</span>. <span class="id" title="tactic">apply</span>¬ <span class="id" title="var">IHD</span>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="subst_tt_prime_reduce_typ_fvar_defined" class="idref" href="#subst_tt_prime_reduce_typ_fvar_defined"><span class="id" title="lemma">subst_tt_prime_reduce_typ_fvar_defined</span></a> : <span class="id" title="keyword">∀</span> <a id="ad55bb628a30602c3defc5575918601a" class="idref" href="#ad55bb628a30602c3defc5575918601a"><span class="id" title="binder">Σ</span></a> <a id="O:93" class="idref" href="#O:93"><span class="id" title="binder">O</span></a> <a id="1dc98024d3d6335254c99f201bb2c784" class="idref" href="#1dc98024d3d6335254c99f201bb2c784"><span class="id" title="binder">Δ</span></a> <a id="X:95" class="idref" href="#X:95"><span class="id" title="binder">X</span></a>,<br/>
&nbsp;&nbsp;<a class="idref" href="../lambda2Gmu/GMu.Definitions.html#subst_matches_typctx"><span class="id" title="inductive">subst_matches_typctx</span></a> <a class="idref" href="GMuAnnot.SubstMatch.html#ad55bb628a30602c3defc5575918601a"><span class="id" title="variable">Σ</span></a> <a class="idref" href="GMuAnnot.SubstMatch.html#1dc98024d3d6335254c99f201bb2c784"><span class="id" title="variable">Δ</span></a> <a class="idref" href="GMuAnnot.SubstMatch.html#O:93"><span class="id" title="variable">O</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="../lambda2Gmu/GMu.Definitions.html#is_var_defined"><span class="id" title="definition">is_var_defined</span></a> <a class="idref" href="GMuAnnot.SubstMatch.html#1dc98024d3d6335254c99f201bb2c784"><span class="id" title="variable">Δ</span></a> <a class="idref" href="GMuAnnot.SubstMatch.html#X:95"><span class="id" title="variable">X</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/V8.13.0/stdlib//Coq.Init.Logic.html#a883bdd010993579f99d60b3775bcf54"><span class="id" title="notation">∃</span></a> <a id="T:96" class="idref" href="#T:96"><span class="id" title="binder">T</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.13.0/stdlib//Coq.Init.Logic.html#a883bdd010993579f99d60b3775bcf54"><span class="id" title="notation">,</span></a> <a class="idref" href="../lambda2Gmu/GMu.Definitions.html#subst_tt'"><span class="id" title="definition">subst_tt'</span></a> (<a class="idref" href="../lambda2Gmu/GMu.Definitions.html#typ_fvar"><span class="id" title="constructor">typ_fvar</span></a> <a class="idref" href="GMuAnnot.SubstMatch.html#X:95"><span class="id" title="variable">X</span></a>) <a class="idref" href="GMuAnnot.SubstMatch.html#O:93"><span class="id" title="variable">O</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="GMuAnnot.SubstMatch.html#T:96"><span class="id" title="variable">T</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.0/stdlib//Coq.Init.Logic.html#ba2b0e492d2b4675a0acf3ea92aabadd"><span class="id" title="notation">∧</span></a> <a class="idref" href="../lambda2Gmu/GMu.Definitions.html#wft"><span class="id" title="inductive">wft</span></a> <a class="idref" href="GMuAnnot.SubstMatch.html#ad55bb628a30602c3defc5575918601a"><span class="id" title="variable">Σ</span></a> <a class="idref" href="../lambda2Gmu/GMu.Definitions.html#c683a0ef5cfb77e0c243d45a72fd3fea"><span class="id" title="definition">emptyΔ</span></a> <a class="idref" href="GMuAnnot.SubstMatch.html#T:96"><span class="id" title="variable">T</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">induction</span> <span class="id" title="var">O</span> <span class="id" title="keyword">as</span> [| [<span class="id" title="var">A</span> <span class="id" title="var">U</span>]]; <span class="id" title="var">cbn</span>; <span class="id" title="var">introv</span> <span class="id" title="var">M</span> <span class="id" title="var">Def</span>; <span class="id" title="tactic">auto</span>.<br/>
&nbsp;&nbsp;- <span class="id" title="var">lets</span>: <a class="idref" href="GMuAnnot.SubstMatch.html#subst_sources_from_match"><span class="id" title="lemma">subst_sources_from_match</span></a> <span class="id" title="var">M</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">cbn</span> <span class="id" title="tactic">in</span> <span class="id" title="var">H</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="GMuAnnot.SubstMatch.html#is_var_defined_dom"><span class="id" title="lemma">is_var_defined_dom</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">Def</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> &lt;- <span class="id" title="var">H</span> <span class="id" title="tactic">in</span> <span class="id" title="var">Def</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">false</span>× <span class="id" title="lemma">in_empty_inv</span>.<br/>
&nbsp;&nbsp;- <span class="id" title="var">lets</span> [<span class="id" title="var">W</span> [<span class="id" title="var">D1</span> [<span class="id" title="var">M1</span> <span class="id" title="var">Src</span>]]]: <a class="idref" href="GMuAnnot.SubstMatch.html#subst_match_remove_right_var3"><span class="id" title="lemma">subst_match_remove_right_var3</span></a> <span class="id" title="var">M</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">case_var</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="tactic">∃</span> <span class="id" title="var">U</span>; <span class="id" title="tactic">split</span>¬.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="GMuAnnot.InfrastructureSubstPrim.html#32f5b0aeb73b4c22c36951cbe0cb9045"><span class="id" title="lemma">subst_ttΘ_fresh</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">lets</span> <span class="id" title="var">FV</span>: <a class="idref" href="GMuAnnot.InfrastructureFV.html#wft_gives_fv"><span class="id" title="lemma">wft_gives_fv</span></a> <span class="id" title="var">W</span>. <span class="id" title="var">cbn</span> <span class="id" title="tactic">in</span> <span class="id" title="var">FV</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">assert</span> (<span class="id" title="var">HE</span>: <a class="idref" href="../lambda2Gmu/GMu.Definitions.html#fv_typ"><span class="id" title="definition">fv_typ</span></a> <span class="id" title="var">U</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <span class="id" title="notation">\{}</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;× <span class="id" title="tactic">apply</span>× <span class="id" title="axiom">fset_extens</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;× <span class="id" title="tactic">rewrite</span> <span class="id" title="var">HE</span>. <span class="id" title="tactic">apply</span>¬ <span class="id" title="lemma">inter_empty_r</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="tactic">apply</span>× <span class="id" title="var">IHO</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">lets</span> <span class="id" title="var">S</span>: <a class="idref" href="GMuAnnot.SubstMatch.html#subst_sources_from_match"><span class="id" title="lemma">subst_sources_from_match</span></a> <span class="id" title="var">M</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">lets</span> <span class="id" title="var">S1</span>: <a class="idref" href="GMuAnnot.SubstMatch.html#subst_sources_from_match"><span class="id" title="lemma">subst_sources_from_match</span></a> <span class="id" title="var">M1</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">cbn</span> <span class="id" title="tactic">in</span> <span class="id" title="var">S</span>. <span class="id" title="var">fold_subst_src</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <span class="id" title="var">S1</span> <span class="id" title="tactic">in</span> <span class="id" title="var">S</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="GMuAnnot.SubstMatch.html#is_var_defined_dom"><span class="id" title="lemma">is_var_defined_dom</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="GMuAnnot.SubstMatch.html#is_var_defined_dom"><span class="id" title="lemma">is_var_defined_dom</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">Def</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> &lt;- <span class="id" title="var">S</span> <span class="id" title="tactic">in</span> <span class="id" title="var">Def</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <span class="id" title="axiom">in_union</span> <span class="id" title="tactic">in</span> <span class="id" title="var">Def</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span>¬ <span class="id" title="var">Def</span> <span class="id" title="keyword">as</span> [<span class="id" title="var">H</span>|<span class="id" title="var">H</span>].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <span class="id" title="axiom">in_singleton</span> <span class="id" title="tactic">in</span> <span class="id" title="var">H</span>. <span class="id" title="var">false</span>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="subst_tt_prime_reduce_typ_fvar_undefined" class="idref" href="#subst_tt_prime_reduce_typ_fvar_undefined"><span class="id" title="lemma">subst_tt_prime_reduce_typ_fvar_undefined</span></a> : <span class="id" title="keyword">∀</span> <a id="O:97" class="idref" href="#O:97"><span class="id" title="binder">O</span></a> <a id="X:98" class="idref" href="#X:98"><span class="id" title="binder">X</span></a>,<br/>
&nbsp;&nbsp;<a class="idref" href="GMuAnnot.SubstMatch.html#X:98"><span class="id" title="variable">X</span></a> <span class="id" title="notation">\</span><span class="id" title="notation">notin</span> <a class="idref" href="../lambda2Gmu/GMu.Definitions.html#substitution_sources"><span class="id" title="definition">substitution_sources</span></a> <a class="idref" href="GMuAnnot.SubstMatch.html#O:97"><span class="id" title="variable">O</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="../lambda2Gmu/GMu.Definitions.html#subst_tt'"><span class="id" title="definition">subst_tt'</span></a> (<a class="idref" href="../lambda2Gmu/GMu.Definitions.html#typ_fvar"><span class="id" title="constructor">typ_fvar</span></a> <a class="idref" href="GMuAnnot.SubstMatch.html#X:98"><span class="id" title="variable">X</span></a>) <a class="idref" href="GMuAnnot.SubstMatch.html#O:97"><span class="id" title="variable">O</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="../lambda2Gmu/GMu.Definitions.html#typ_fvar"><span class="id" title="constructor">typ_fvar</span></a> <a class="idref" href="GMuAnnot.SubstMatch.html#X:98"><span class="id" title="variable">X</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">induction</span> <span class="id" title="var">O</span> <span class="id" title="keyword">as</span> [| [<span class="id" title="var">A</span> <span class="id" title="var">U</span>]]; <span class="id" title="var">cbn</span>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;<span class="id" title="var">fold_subst_src</span>.<br/>
&nbsp;&nbsp;<span class="id" title="var">introv</span> <span class="id" title="var">XFr</span>.<br/>
&nbsp;&nbsp;<span class="id" title="var">case_var</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span>¬ <span class="id" title="var">IHO</span>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="is_var_defined_split" class="idref" href="#is_var_defined_split"><span class="id" title="lemma">is_var_defined_split</span></a> : <span class="id" title="keyword">∀</span> <a id="A:99" class="idref" href="#A:99"><span class="id" title="binder">A</span></a> <a id="B:100" class="idref" href="#B:100"><span class="id" title="binder">B</span></a> <a id="c:101" class="idref" href="#c:101"><span class="id" title="binder">c</span></a>,<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="../lambda2Gmu/GMu.Definitions.html#is_var_defined"><span class="id" title="definition">is_var_defined</span></a> (<a class="idref" href="GMuAnnot.SubstMatch.html#B:100"><span class="id" title="variable">B</span></a> <a class="idref" href="../lambda2Gmu/GMu.Definitions.html#3ca84bd817dd2b1e2f0f693cd9400702"><span class="id" title="notation">|,|</span></a> <a class="idref" href="GMuAnnot.SubstMatch.html#A:99"><span class="id" title="variable">A</span></a>) <a class="idref" href="GMuAnnot.SubstMatch.html#c:101"><span class="id" title="variable">c</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/V8.13.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">(</span></a><a class="idref" href="../lambda2Gmu/GMu.Definitions.html#is_var_defined"><span class="id" title="definition">is_var_defined</span></a> <a class="idref" href="GMuAnnot.SubstMatch.html#A:99"><span class="id" title="variable">A</span></a> <a class="idref" href="GMuAnnot.SubstMatch.html#c:101"><span class="id" title="variable">c</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.0/stdlib//Coq.Init.Logic.html#f031fe1957c4a4a8e217aa46af2b4e25"><span class="id" title="notation">∨</span></a> <a class="idref" href="../lambda2Gmu/GMu.Definitions.html#is_var_defined"><span class="id" title="definition">is_var_defined</span></a> <a class="idref" href="GMuAnnot.SubstMatch.html#B:100"><span class="id" title="variable">B</span></a> <a class="idref" href="GMuAnnot.SubstMatch.html#c:101"><span class="id" title="variable">c</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.13.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">)</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">unfold</span> <a class="idref" href="../lambda2Gmu/GMu.Definitions.html#is_var_defined"><span class="id" title="definition">is_var_defined</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">intros</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">apply</span>¬ <a class="idref" href="http://coq.inria.fr/distrib/V8.13.0/stdlib//Coq.Lists.List.html#in_app_or"><span class="id" title="lemma">List.in_app_or</span></a>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="subst_has_wft" class="idref" href="#subst_has_wft"><span class="id" title="lemma">subst_has_wft</span></a> : <span class="id" title="keyword">∀</span> <a id="ab1e0b0f726a60ee3c2011f894309cd3" class="idref" href="#ab1e0b0f726a60ee3c2011f894309cd3"><span class="id" title="binder">Σ</span></a> <a id="O:103" class="idref" href="#O:103"><span class="id" title="binder">O</span></a> <a id="677396ac970d964cdc61bafddef2c5d5" class="idref" href="#677396ac970d964cdc61bafddef2c5d5"><span class="id" title="binder">Δ</span></a>,<br/>
&nbsp;&nbsp;<a class="idref" href="../lambda2Gmu/GMu.Definitions.html#subst_matches_typctx"><span class="id" title="inductive">subst_matches_typctx</span></a> <a class="idref" href="GMuAnnot.SubstMatch.html#ab1e0b0f726a60ee3c2011f894309cd3"><span class="id" title="variable">Σ</span></a> <a class="idref" href="GMuAnnot.SubstMatch.html#677396ac970d964cdc61bafddef2c5d5"><span class="id" title="variable">Δ</span></a> <a class="idref" href="GMuAnnot.SubstMatch.html#O:103"><span class="id" title="variable">O</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;<span class="id" title="keyword">∀</span> <a id="A:105" class="idref" href="#A:105"><span class="id" title="binder">A</span></a> <a id="P:106" class="idref" href="#P:106"><span class="id" title="binder">P</span></a>, <a class="idref" href="http://coq.inria.fr/distrib/V8.13.0/stdlib//Coq.Lists.List.html#In"><span class="id" title="definition">List.In</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">(</span></a><a class="idref" href="GMuAnnot.SubstMatch.html#A:105"><span class="id" title="variable">A</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.13.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a> <a class="idref" href="GMuAnnot.SubstMatch.html#P:106"><span class="id" title="variable">P</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.13.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">)</span></a> <a class="idref" href="GMuAnnot.SubstMatch.html#O:103"><span class="id" title="variable">O</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <a class="idref" href="../lambda2Gmu/GMu.Definitions.html#wft"><span class="id" title="inductive">wft</span></a> <a class="idref" href="GMuAnnot.SubstMatch.html#ab1e0b0f726a60ee3c2011f894309cd3"><span class="id" title="variable">Σ</span></a> <a class="idref" href="../lambda2Gmu/GMu.Definitions.html#c683a0ef5cfb77e0c243d45a72fd3fea"><span class="id" title="definition">emptyΔ</span></a> <a class="idref" href="GMuAnnot.SubstMatch.html#P:106"><span class="id" title="variable">P</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">induction</span> <span class="id" title="var">O</span> <span class="id" title="keyword">as</span> [| [<span class="id" title="var">X</span> <span class="id" title="var">U</span>]]; <span class="id" title="var">introv</span> <span class="id" title="var">M</span>.<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">intros</span>. <span class="id" title="var">false</span>¬.<br/>
&nbsp;&nbsp;- <span class="id" title="var">introv</span> <span class="id" title="var">Hin</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">cbn</span> <span class="id" title="tactic">in</span> <span class="id" title="var">Hin</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">lets</span>× [? [<span class="id" title="var">D'</span> ?]]: <a class="idref" href="GMuAnnot.SubstMatch.html#subst_match_remove_right_var3"><span class="id" title="lemma">subst_match_remove_right_var3</span></a> <span class="id" title="var">M</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">Hin</span>; <span class="id" title="tactic">subst</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="var">inversions</span> <span class="id" title="var">H1</span>. <span class="id" title="tactic">auto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="tactic">apply</span>× <span class="id" title="var">IHO</span>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="subst_has_closed" class="idref" href="#subst_has_closed"><span class="id" title="lemma">subst_has_closed</span></a> : <span class="id" title="keyword">∀</span> <a id="3cedca6701e55d274b90a4066ad3c858" class="idref" href="#3cedca6701e55d274b90a4066ad3c858"><span class="id" title="binder">Σ</span></a> <a id="O:108" class="idref" href="#O:108"><span class="id" title="binder">O</span></a> <a id="0e4e67a000225aadb90ca5b34d624592" class="idref" href="#0e4e67a000225aadb90ca5b34d624592"><span class="id" title="binder">Δ</span></a>,<br/>
&nbsp;&nbsp;<a class="idref" href="../lambda2Gmu/GMu.Definitions.html#subst_matches_typctx"><span class="id" title="inductive">subst_matches_typctx</span></a> <a class="idref" href="GMuAnnot.SubstMatch.html#3cedca6701e55d274b90a4066ad3c858"><span class="id" title="variable">Σ</span></a> <a class="idref" href="GMuAnnot.SubstMatch.html#0e4e67a000225aadb90ca5b34d624592"><span class="id" title="variable">Δ</span></a> <a class="idref" href="GMuAnnot.SubstMatch.html#O:108"><span class="id" title="variable">O</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;<span class="id" title="keyword">∀</span> <a id="A:110" class="idref" href="#A:110"><span class="id" title="binder">A</span></a> <a id="P:111" class="idref" href="#P:111"><span class="id" title="binder">P</span></a>, <a class="idref" href="http://coq.inria.fr/distrib/V8.13.0/stdlib//Coq.Lists.List.html#In"><span class="id" title="definition">List.In</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">(</span></a><a class="idref" href="GMuAnnot.SubstMatch.html#A:110"><span class="id" title="variable">A</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.13.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a> <a class="idref" href="GMuAnnot.SubstMatch.html#P:111"><span class="id" title="variable">P</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.13.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">)</span></a> <a class="idref" href="GMuAnnot.SubstMatch.html#O:108"><span class="id" title="variable">O</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <a class="idref" href="../lambda2Gmu/GMu.Definitions.html#type"><span class="id" title="inductive">type</span></a> <a class="idref" href="GMuAnnot.SubstMatch.html#P:111"><span class="id" title="variable">P</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="var">introv</span> <span class="id" title="var">M</span> <span class="id" title="var">Hin</span>.<br/>
&nbsp;&nbsp;<span class="id" title="var">lets</span>: <a class="idref" href="GMuAnnot.SubstMatch.html#subst_has_wft"><span class="id" title="lemma">subst_has_wft</span></a> <span class="id" title="var">M</span> <span class="id" title="var">Hin</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">apply</span>× <a class="idref" href="GMuAnnot.Regularity.html#type_from_wft"><span class="id" title="lemma">type_from_wft</span></a>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="wft_subst_matching_gen" class="idref" href="#wft_subst_matching_gen"><span class="id" title="lemma">wft_subst_matching_gen</span></a> : <span class="id" title="keyword">∀</span> <a id="6331a09bee1fd08c7dac0167a6c36fc8" class="idref" href="#6331a09bee1fd08c7dac0167a6c36fc8"><span class="id" title="binder">Σ</span></a> <a id="T:113" class="idref" href="#T:113"><span class="id" title="binder">T</span></a> <a id="O:114" class="idref" href="#O:114"><span class="id" title="binder">O</span></a> <a id="b0a488e621cdda3663061c157ec625fe" class="idref" href="#b0a488e621cdda3663061c157ec625fe"><span class="id" title="binder">Δ</span></a> <a id="D2:116" class="idref" href="#D2:116"><span class="id" title="binder">D2</span></a>,<br/>
&nbsp;&nbsp;<a class="idref" href="../lambda2Gmu/GMu.Definitions.html#subst_matches_typctx"><span class="id" title="inductive">subst_matches_typctx</span></a> <a class="idref" href="GMuAnnot.SubstMatch.html#6331a09bee1fd08c7dac0167a6c36fc8"><span class="id" title="variable">Σ</span></a> <a class="idref" href="GMuAnnot.SubstMatch.html#b0a488e621cdda3663061c157ec625fe"><span class="id" title="variable">Δ</span></a> <a class="idref" href="GMuAnnot.SubstMatch.html#O:114"><span class="id" title="variable">O</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="../lambda2Gmu/GMu.Definitions.html#wft"><span class="id" title="inductive">wft</span></a> <a class="idref" href="GMuAnnot.SubstMatch.html#6331a09bee1fd08c7dac0167a6c36fc8"><span class="id" title="variable">Σ</span></a> (<a class="idref" href="GMuAnnot.SubstMatch.html#b0a488e621cdda3663061c157ec625fe"><span class="id" title="variable">Δ</span></a> <a class="idref" href="../lambda2Gmu/GMu.Definitions.html#3ca84bd817dd2b1e2f0f693cd9400702"><span class="id" title="notation">|,|</span></a> <a class="idref" href="GMuAnnot.SubstMatch.html#D2:116"><span class="id" title="variable">D2</span></a>) <a class="idref" href="GMuAnnot.SubstMatch.html#T:113"><span class="id" title="variable">T</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="../lambda2Gmu/GMu.Definitions.html#e1e06a37011ebd9f9e861e05c79f4e29"><span class="id" title="definition">domΔ</span></a> <a class="idref" href="GMuAnnot.SubstMatch.html#b0a488e621cdda3663061c157ec625fe"><span class="id" title="variable">Δ</span></a> <span class="id" title="notation">\</span><span class="id" title="notation">n</span> <a class="idref" href="../lambda2Gmu/GMu.Definitions.html#e1e06a37011ebd9f9e861e05c79f4e29"><span class="id" title="definition">domΔ</span></a> <a class="idref" href="GMuAnnot.SubstMatch.html#D2:116"><span class="id" title="variable">D2</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <span class="id" title="notation">\{}</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="../lambda2Gmu/GMu.Definitions.html#wft"><span class="id" title="inductive">wft</span></a> <a class="idref" href="GMuAnnot.SubstMatch.html#6331a09bee1fd08c7dac0167a6c36fc8"><span class="id" title="variable">Σ</span></a> (<a class="idref" href="../lambda2Gmu/GMu.Definitions.html#c683a0ef5cfb77e0c243d45a72fd3fea"><span class="id" title="definition">emptyΔ</span></a> <a class="idref" href="../lambda2Gmu/GMu.Definitions.html#3ca84bd817dd2b1e2f0f693cd9400702"><span class="id" title="notation">|,|</span></a> <a class="idref" href="GMuAnnot.SubstMatch.html#D2:116"><span class="id" title="variable">D2</span></a>) (<a class="idref" href="../lambda2Gmu/GMu.Definitions.html#subst_tt'"><span class="id" title="definition">subst_tt'</span></a> <a class="idref" href="GMuAnnot.SubstMatch.html#T:113"><span class="id" title="variable">T</span></a> <a class="idref" href="GMuAnnot.SubstMatch.html#O:114"><span class="id" title="variable">O</span></a>).<br/>
&nbsp;&nbsp;<span class="id" title="var">introv</span> <span class="id" title="var">M</span> <span class="id" title="var">W</span>.<br/>
&nbsp;&nbsp;<span class="id" title="var">gen_eq</span> <span class="id" title="var">D</span>: (<span class="id" title="var">Δ</span> <a class="idref" href="../lambda2Gmu/GMu.Definitions.html#3ca84bd817dd2b1e2f0f693cd9400702"><span class="id" title="notation">|,|</span></a> <span class="id" title="var">D2</span>). <span class="id" title="var">gen</span> <span class="id" title="var">D2</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">induction</span> <span class="id" title="var">W</span>; <span class="id" title="var">introv</span> <span class="id" title="var">EQ</span> <span class="id" title="var">FV</span>; <span class="id" title="tactic">subst</span>; <span class="id" title="tactic">repeat</span> <span class="id" title="tactic">rewrite</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.0/stdlib//Coq.Lists.List.html#app_nil_r"><span class="id" title="lemma">List.app_nil_r</span></a> <span class="id" title="tactic">in</span> ×.<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">rewrite</span> <a class="idref" href="GMuAnnot.InfrastructureSubstPrim.html#subst_tt_prime_reduce_typ_unit"><span class="id" title="lemma">subst_tt_prime_reduce_typ_unit</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">constructor</span>.<br/>
&nbsp;&nbsp;- <span class="id" title="var">lets</span> [<span class="id" title="var">Def</span> | <span class="id" title="var">Def</span>]: <a class="idref" href="GMuAnnot.SubstMatch.html#is_var_defined_split"><span class="id" title="lemma">is_var_defined_split</span></a> <span class="id" title="var">H</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="tactic">rewrite</span>¬ <a class="idref" href="GMuAnnot.SubstMatch.html#subst_tt_prime_reduce_typ_fvar_undefined"><span class="id" title="lemma">subst_tt_prime_reduce_typ_fvar_undefined</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">lets</span> <span class="id" title="var">S</span>: <a class="idref" href="GMuAnnot.SubstMatch.html#subst_sources_from_match"><span class="id" title="lemma">subst_sources_from_match</span></a> <span class="id" title="var">M</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <span class="id" title="var">S</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intro</span> <span class="id" title="var">HF</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <a class="idref" href="GMuAnnot.SubstMatch.html#is_var_defined_dom"><span class="id" title="lemma">is_var_defined_dom</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">Def</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <span class="id" title="lemma">in_empty_inv</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> &lt;- <span class="id" title="var">FV</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span>× <span class="id" title="axiom">in_inter</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="var">lets</span> [<span class="id" title="var">T</span> [? <span class="id" title="var">W</span>]]: <a class="idref" href="GMuAnnot.SubstMatch.html#subst_tt_prime_reduce_typ_fvar_defined"><span class="id" title="lemma">subst_tt_prime_reduce_typ_fvar_defined</span></a> <span class="id" title="var">M</span> <span class="id" title="var">Def</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">subst</span>. <span class="id" title="tactic">rewrite</span> &lt;- (<a class="idref" href="http://coq.inria.fr/distrib/V8.13.0/stdlib//Coq.Lists.List.html#app_nil_r"><span class="id" title="lemma">List.app_nil_r</span></a> <span class="id" title="var">D2</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span>¬ <a class="idref" href="GMuAnnot.Regularity2.html#wft_weaken_simple"><span class="id" title="lemma">wft_weaken_simple</span></a>.<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">rewrite</span> <a class="idref" href="GMuAnnot.InfrastructureSubstPrim.html#subst_tt_prime_reduce_arrow"><span class="id" title="lemma">subst_tt_prime_reduce_arrow</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">forwards</span> ¬ : <span class="id" title="var">IHW1</span> <span class="id" title="var">M</span> <span class="id" title="var">D2</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">forwards</span> ¬ : <span class="id" title="var">IHW2</span> <span class="id" title="var">M</span> <span class="id" title="var">D2</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">repeat</span> <span class="id" title="tactic">rewrite</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.0/stdlib//Coq.Lists.List.html#app_nil_r"><span class="id" title="lemma">List.app_nil_r</span></a> <span class="id" title="tactic">in</span> ×.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">constructor</span>; <span class="id" title="tactic">auto</span>.<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">rewrite</span> <a class="idref" href="GMuAnnot.InfrastructureSubstPrim.html#subst_tt_prime_reduce_tuple"><span class="id" title="lemma">subst_tt_prime_reduce_tuple</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">forwards</span> ¬ : <span class="id" title="var">IHW1</span> <span class="id" title="var">M</span> <span class="id" title="var">D2</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">forwards</span> ¬ : <span class="id" title="var">IHW2</span> <span class="id" title="var">M</span> <span class="id" title="var">D2</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">repeat</span> <span class="id" title="tactic">rewrite</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.0/stdlib//Coq.Lists.List.html#app_nil_r"><span class="id" title="lemma">List.app_nil_r</span></a> <span class="id" title="tactic">in</span> ×.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">constructor</span>; <span class="id" title="tactic">auto</span>.<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">rewrite</span> <a class="idref" href="GMuAnnot.InfrastructureSubstPrim.html#subst_tt_prime_reduce_typ_all"><span class="id" title="lemma">subst_tt_prime_reduce_typ_all</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">econstructor</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">let</span> <span class="id" title="var">FV</span> := <span class="id" title="var">gather_vars</span> <span class="id" title="tactic">in</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">introv</span> <span class="id" title="var">XFr</span>;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">instantiate</span> (1:=<span class="id" title="var">FV</span>) <span class="id" title="tactic">in</span> <span class="id" title="var">XFr</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">assert</span> (<span class="id" title="var">HE</span>: <a class="idref" href="../lambda2Gmu/GMu.Definitions.html#typ_fvar"><span class="id" title="constructor">typ_fvar</span></a> <span class="id" title="var">X</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">(</span></a><a class="idref" href="../lambda2Gmu/GMu.Definitions.html#subst_tt'"><span class="id" title="definition">subst_tt'</span></a> (<a class="idref" href="../lambda2Gmu/GMu.Definitions.html#typ_fvar"><span class="id" title="constructor">typ_fvar</span></a> <span class="id" title="var">X</span>) <span class="id" title="var">O</span><a class="idref" href="http://coq.inria.fr/distrib/V8.13.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">)</span></a>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="tactic">rewrite</span>¬ <a class="idref" href="GMuAnnot.SubstMatch.html#subst_tt_prime_reduce_typ_fvar_undefined"><span class="id" title="lemma">subst_tt_prime_reduce_typ_fvar_undefined</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">lets</span> <span class="id" title="var">R</span>: <a class="idref" href="GMuAnnot.SubstMatch.html#subst_sources_from_match"><span class="id" title="lemma">subst_sources_from_match</span></a> <span class="id" title="var">M</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span>¬ <span class="id" title="var">R</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="tactic">rewrite</span> <span class="id" title="var">HE</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> &lt;- <a class="idref" href="GMuAnnot.InfrastructureSubstPrim.html#subst_ttprim_open_tt"><span class="id" title="lemma">subst_ttprim_open_tt</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;× <span class="id" title="var">forwards</span> × : <span class="id" title="var">H0</span> (<span class="id" title="var">D2</span> <a class="idref" href="../lambda2Gmu/GMu.Definitions.html#3ca84bd817dd2b1e2f0f693cd9400702"><span class="id" title="notation">|,|</span></a> <a class="idref" href="../lambda2Gmu/GMu.Definitions.html#b5ab1b23d5b56035820660ded1af9bea"><span class="id" title="notation">[</span></a><a class="idref" href="../lambda2Gmu/GMu.Definitions.html#tc_var"><span class="id" title="constructor">tc_var</span></a> <span class="id" title="var">X</span><a class="idref" href="../lambda2Gmu/GMu.Definitions.html#b5ab1b23d5b56035820660ded1af9bea"><span class="id" title="notation">]*</span></a>); <span class="id" title="tactic">auto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;-- <span class="id" title="var">cbn</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <span class="id" title="lemma">inter_comm</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <a class="idref" href="GMuAnnot.Prelude.html#union_distributes"><span class="id" title="lemma">union_distributes</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> (<span class="id" title="lemma">inter_comm</span> (<a class="idref" href="../lambda2Gmu/GMu.Definitions.html#e1e06a37011ebd9f9e861e05c79f4e29"><span class="id" title="definition">domΔ</span></a> <span class="id" title="var">D2</span>)).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <span class="id" title="var">FV</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <span class="id" title="lemma">union_empty_r</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span>¬ <span class="id" title="axiom">fset_extens</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intros</span> <span class="id" title="var">x</span> <span class="id" title="var">HF</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <span class="id" title="axiom">in_inter</span> <span class="id" title="tactic">in</span> <span class="id" title="var">HF</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">HF</span> <span class="id" title="keyword">as</span> [<span class="id" title="var">HF1</span> <span class="id" title="var">HF2</span>].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <span class="id" title="axiom">in_singleton</span> <span class="id" title="tactic">in</span> <span class="id" title="var">HF1</span>. <span class="id" title="tactic">subst</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">assert</span> (<span class="id" title="var">HF3</span>: <span class="id" title="var">X</span> <span class="id" title="notation">\</span><span class="id" title="notation">notin</span> <a class="idref" href="../lambda2Gmu/GMu.Definitions.html#e1e06a37011ebd9f9e861e05c79f4e29"><span class="id" title="definition">domΔ</span></a> <span class="id" title="var">Δ</span>); <span class="id" title="tactic">auto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">false</span>× <span class="id" title="var">HF3</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;-- <span class="id" title="tactic">repeat</span> <span class="id" title="tactic">rewrite</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.0/stdlib//Coq.Lists.List.html#app_nil_r"><span class="id" title="lemma">List.app_nil_r</span></a> <span class="id" title="tactic">in</span> ×.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">auto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;× <span class="id" title="tactic">apply</span>× <a class="idref" href="GMuAnnot.SubstMatch.html#subst_has_closed"><span class="id" title="lemma">subst_has_closed</span></a>.<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">rewrite</span> <a class="idref" href="GMuAnnot.InfrastructureSubstPrim.html#subst_tt_prime_reduce_typ_gadt"><span class="id" title="lemma">subst_tt_prime_reduce_typ_gadt</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">econstructor</span>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="tactic">intros</span> <span class="id" title="var">T'</span> <span class="id" title="var">Inm</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.0/stdlib//Coq.Lists.List.html#in_map_iff"><span class="id" title="lemma">List.in_map_iff</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">Inm</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">Inm</span> <span class="id" title="keyword">as</span> [<span class="id" title="var">T</span> [? <span class="id" title="var">In</span>]]; <span class="id" title="tactic">subst</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">forwards</span>*: <span class="id" title="var">H0</span> <span class="id" title="var">D2</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">repeat</span> <span class="id" title="tactic">rewrite</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.0/stdlib//Coq.Lists.List.html#app_nil_r"><span class="id" title="lemma">List.app_nil_r</span></a> <span class="id" title="tactic">in</span> ×.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">auto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="tactic">rewrite</span>¬ <a class="idref" href="http://coq.inria.fr/distrib/V8.13.0/stdlib//Coq.Lists.List.html#map_length"><span class="id" title="lemma">List.map_length</span></a>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="wft_subst_matching" class="idref" href="#wft_subst_matching"><span class="id" title="lemma">wft_subst_matching</span></a> : <span class="id" title="keyword">∀</span> <a id="388873efb4be7b6002f3f68ecd6fa136" class="idref" href="#388873efb4be7b6002f3f68ecd6fa136"><span class="id" title="binder">Σ</span></a> <a id="T:118" class="idref" href="#T:118"><span class="id" title="binder">T</span></a> <a id="O:119" class="idref" href="#O:119"><span class="id" title="binder">O</span></a> <a id="31fe94b7957c8a26724ab248174fc25a" class="idref" href="#31fe94b7957c8a26724ab248174fc25a"><span class="id" title="binder">Δ</span></a>,<br/>
&nbsp;&nbsp;<a class="idref" href="../lambda2Gmu/GMu.Definitions.html#subst_matches_typctx"><span class="id" title="inductive">subst_matches_typctx</span></a> <a class="idref" href="GMuAnnot.SubstMatch.html#388873efb4be7b6002f3f68ecd6fa136"><span class="id" title="variable">Σ</span></a> <a class="idref" href="GMuAnnot.SubstMatch.html#31fe94b7957c8a26724ab248174fc25a"><span class="id" title="variable">Δ</span></a> <a class="idref" href="GMuAnnot.SubstMatch.html#O:119"><span class="id" title="variable">O</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="../lambda2Gmu/GMu.Definitions.html#wft"><span class="id" title="inductive">wft</span></a> <a class="idref" href="GMuAnnot.SubstMatch.html#388873efb4be7b6002f3f68ecd6fa136"><span class="id" title="variable">Σ</span></a> <a class="idref" href="GMuAnnot.SubstMatch.html#31fe94b7957c8a26724ab248174fc25a"><span class="id" title="variable">Δ</span></a> <a class="idref" href="GMuAnnot.SubstMatch.html#T:118"><span class="id" title="variable">T</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="../lambda2Gmu/GMu.Definitions.html#wft"><span class="id" title="inductive">wft</span></a> <a class="idref" href="GMuAnnot.SubstMatch.html#388873efb4be7b6002f3f68ecd6fa136"><span class="id" title="variable">Σ</span></a> <a class="idref" href="../lambda2Gmu/GMu.Definitions.html#c683a0ef5cfb77e0c243d45a72fd3fea"><span class="id" title="definition">emptyΔ</span></a> (<a class="idref" href="../lambda2Gmu/GMu.Definitions.html#subst_tt'"><span class="id" title="definition">subst_tt'</span></a> <a class="idref" href="GMuAnnot.SubstMatch.html#T:118"><span class="id" title="variable">T</span></a> <a class="idref" href="GMuAnnot.SubstMatch.html#O:119"><span class="id" title="variable">O</span></a>).<br/>
&nbsp;&nbsp;<span class="id" title="tactic">intros</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> &lt;- (<a class="idref" href="http://coq.inria.fr/distrib/V8.13.0/stdlib//Coq.Lists.List.html#app_nil_l"><span class="id" title="lemma">List.app_nil_l</span></a> <a class="idref" href="../lambda2Gmu/GMu.Definitions.html#c683a0ef5cfb77e0c243d45a72fd3fea"><span class="id" title="definition">emptyΔ</span></a>).<br/>
&nbsp;&nbsp;<span class="id" title="tactic">apply</span>× <a class="idref" href="GMuAnnot.SubstMatch.html#wft_subst_matching_gen"><span class="id" title="lemma">wft_subst_matching_gen</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="var">cbn</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <span class="id" title="lemma">inter_empty_r</span>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="subst_idempotent_simple" class="idref" href="#subst_idempotent_simple"><span class="id" title="lemma">subst_idempotent_simple</span></a> : <span class="id" title="keyword">∀</span> <a id="22291429b6747bbc3b99ddb1e9a3d90c" class="idref" href="#22291429b6747bbc3b99ddb1e9a3d90c"><span class="id" title="binder">Σ</span></a> <a id="473c96e33d0ee3894853b3554e37aced" class="idref" href="#473c96e33d0ee3894853b3554e37aced"><span class="id" title="binder">Δ</span></a> <a id="O:123" class="idref" href="#O:123"><span class="id" title="binder">O</span></a> <a id="T:124" class="idref" href="#T:124"><span class="id" title="binder">T</span></a>,<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="../lambda2Gmu/GMu.Definitions.html#wft"><span class="id" title="inductive">wft</span></a> <a class="idref" href="GMuAnnot.SubstMatch.html#22291429b6747bbc3b99ddb1e9a3d90c"><span class="id" title="variable">Σ</span></a> <a class="idref" href="GMuAnnot.SubstMatch.html#473c96e33d0ee3894853b3554e37aced"><span class="id" title="variable">Δ</span></a> <a class="idref" href="GMuAnnot.SubstMatch.html#T:124"><span class="id" title="variable">T</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="../lambda2Gmu/GMu.Definitions.html#subst_matches_typctx"><span class="id" title="inductive">subst_matches_typctx</span></a> <a class="idref" href="GMuAnnot.SubstMatch.html#22291429b6747bbc3b99ddb1e9a3d90c"><span class="id" title="variable">Σ</span></a> <a class="idref" href="GMuAnnot.SubstMatch.html#473c96e33d0ee3894853b3554e37aced"><span class="id" title="variable">Δ</span></a> <a class="idref" href="GMuAnnot.SubstMatch.html#O:123"><span class="id" title="variable">O</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/V8.13.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">(</span></a><span class="id" title="keyword">∀</span> (<a id="X:125" class="idref" href="#X:125"><span class="id" title="binder">X</span></a> : <span class="id" title="axiom">var</span>) (<a id="U:126" class="idref" href="#U:126"><span class="id" title="binder">U</span></a> : <a class="idref" href="../lambda2Gmu/GMu.Definitions.html#typ"><span class="id" title="inductive">typ</span></a>), <a class="idref" href="http://coq.inria.fr/distrib/V8.13.0/stdlib//Coq.Lists.List.html#In"><span class="id" title="definition">List.In</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">(</span></a><a class="idref" href="GMuAnnot.SubstMatch.html#X:125"><span class="id" title="variable">X</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.13.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a> <a class="idref" href="GMuAnnot.SubstMatch.html#U:126"><span class="id" title="variable">U</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.13.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">)</span></a> <a class="idref" href="GMuAnnot.SubstMatch.html#O:123"><span class="id" title="variable">O</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <a class="idref" href="../lambda2Gmu/GMu.Definitions.html#fv_typ"><span class="id" title="definition">fv_typ</span></a> <a class="idref" href="GMuAnnot.SubstMatch.html#U:126"><span class="id" title="variable">U</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <span class="id" title="notation">\{}</span><a class="idref" href="http://coq.inria.fr/distrib/V8.13.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">)</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="../lambda2Gmu/GMu.Definitions.html#subst_tt'"><span class="id" title="definition">subst_tt'</span></a> (<a class="idref" href="../lambda2Gmu/GMu.Definitions.html#subst_tt'"><span class="id" title="definition">subst_tt'</span></a> <a class="idref" href="GMuAnnot.SubstMatch.html#T:124"><span class="id" title="variable">T</span></a> <a class="idref" href="GMuAnnot.SubstMatch.html#O:123"><span class="id" title="variable">O</span></a>) <a class="idref" href="GMuAnnot.SubstMatch.html#O:123"><span class="id" title="variable">O</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="../lambda2Gmu/GMu.Definitions.html#subst_tt'"><span class="id" title="definition">subst_tt'</span></a> <a class="idref" href="GMuAnnot.SubstMatch.html#T:124"><span class="id" title="variable">T</span></a> <a class="idref" href="GMuAnnot.SubstMatch.html#O:123"><span class="id" title="variable">O</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="var">introv</span> <span class="id" title="var">W</span> <span class="id" title="var">M</span> <span class="id" title="var">F</span>.<br/>
&nbsp;&nbsp;<span class="id" title="var">lets</span> <span class="id" title="var">W2</span>: <a class="idref" href="GMuAnnot.SubstMatch.html#wft_subst_matching"><span class="id" title="lemma">wft_subst_matching</span></a> <span class="id" title="var">M</span> <span class="id" title="var">W</span>.<br/>
&nbsp;&nbsp;<span class="id" title="var">lets</span> <span class="id" title="var">F2</span>: <a class="idref" href="GMuAnnot.InfrastructureFV.html#wft_gives_fv"><span class="id" title="lemma">wft_gives_fv</span></a> <span class="id" title="var">W2</span>.<br/>
&nbsp;&nbsp;<span class="id" title="var">cbn</span> <span class="id" title="tactic">in</span> <span class="id" title="var">F2</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span>¬ <a class="idref" href="GMuAnnot.InfrastructureSubstPrim.html#32f5b0aeb73b4c22c36951cbe0cb9045"><span class="id" title="lemma">subst_ttΘ_fresh</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">assert</span> (<span class="id" title="var">FV</span>: <a class="idref" href="../lambda2Gmu/GMu.Definitions.html#fv_typ"><span class="id" title="definition">fv_typ</span></a> (<a class="idref" href="../lambda2Gmu/GMu.Definitions.html#subst_tt'"><span class="id" title="definition">subst_tt'</span></a> <span class="id" title="var">T</span> <span class="id" title="var">O</span>) <a class="idref" href="http://coq.inria.fr/distrib/V8.13.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <span class="id" title="notation">\{}</span>).<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">apply</span>× <span class="id" title="axiom">fset_extens</span>.<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">rewrite</span> <span class="id" title="var">FV</span>. <span class="id" title="tactic">apply</span> <span class="id" title="lemma">inter_empty_r</span>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="subst_eq_reorder1_2" class="idref" href="#subst_eq_reorder1_2"><span class="id" title="lemma">subst_eq_reorder1_2</span></a> : <span class="id" title="keyword">∀</span> <a id="65358e173100572b17ccc689a57a129c" class="idref" href="#65358e173100572b17ccc689a57a129c"><span class="id" title="binder">Σ</span></a> <a id="5a4c3a8ca4ab37275a336fcd80da453a" class="idref" href="#5a4c3a8ca4ab37275a336fcd80da453a"><span class="id" title="binder">Δ1</span></a> <a id="U:129" class="idref" href="#U:129"><span class="id" title="binder">U</span></a> <a id="O1:130" class="idref" href="#O1:130"><span class="id" title="binder">O1</span></a> <a id="X:131" class="idref" href="#X:131"><span class="id" title="binder">X</span></a> <a id="V1:132" class="idref" href="#V1:132"><span class="id" title="binder">V1</span></a> <a id="V2:133" class="idref" href="#V2:133"><span class="id" title="binder">V2</span></a>,<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="../lambda2Gmu/GMu.Definitions.html#wft"><span class="id" title="inductive">wft</span></a> <a class="idref" href="GMuAnnot.SubstMatch.html#65358e173100572b17ccc689a57a129c"><span class="id" title="variable">Σ</span></a> <a class="idref" href="GMuAnnot.SubstMatch.html#5a4c3a8ca4ab37275a336fcd80da453a"><span class="id" title="variable">Δ1</span></a> <a class="idref" href="GMuAnnot.SubstMatch.html#U:129"><span class="id" title="variable">U</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="../lambda2Gmu/GMu.Definitions.html#subst_matches_typctx"><span class="id" title="inductive">subst_matches_typctx</span></a> <a class="idref" href="GMuAnnot.SubstMatch.html#65358e173100572b17ccc689a57a129c"><span class="id" title="variable">Σ</span></a> <a class="idref" href="GMuAnnot.SubstMatch.html#5a4c3a8ca4ab37275a336fcd80da453a"><span class="id" title="variable">Δ1</span></a> <a class="idref" href="GMuAnnot.SubstMatch.html#O1:130"><span class="id" title="variable">O1</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/V8.13.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">(</span></a><span class="id" title="keyword">∀</span> <a id="X:134" class="idref" href="#X:134"><span class="id" title="binder">X</span></a> <a id="U:135" class="idref" href="#U:135"><span class="id" title="binder">U</span></a>, <a class="idref" href="http://coq.inria.fr/distrib/V8.13.0/stdlib//Coq.Lists.List.html#In"><span class="id" title="definition">List.In</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">(</span></a><a class="idref" href="GMuAnnot.SubstMatch.html#X:134"><span class="id" title="variable">X</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.13.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a> <a class="idref" href="GMuAnnot.SubstMatch.html#U:135"><span class="id" title="variable">U</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.13.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">)</span></a> <a class="idref" href="GMuAnnot.SubstMatch.html#O1:130"><span class="id" title="variable">O1</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <a class="idref" href="../lambda2Gmu/GMu.Definitions.html#fv_typ"><span class="id" title="definition">fv_typ</span></a> <a class="idref" href="GMuAnnot.SubstMatch.html#U:135"><span class="id" title="variable">U</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <span class="id" title="notation">\{}</span><a class="idref" href="http://coq.inria.fr/distrib/V8.13.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">)</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="GMuAnnot.SubstMatch.html#X:131"><span class="id" title="variable">X</span></a> <span class="id" title="notation">\</span><span class="id" title="notation">notin</span> <a class="idref" href="../lambda2Gmu/GMu.Definitions.html#substitution_sources"><span class="id" title="definition">substitution_sources</span></a> <a class="idref" href="GMuAnnot.SubstMatch.html#O1:130"><span class="id" title="variable">O1</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="../lambda2Gmu/GMu.Definitions.html#subst_tt'"><span class="id" title="definition">subst_tt'</span></a> (<a class="idref" href="../lambda2Gmu/GMu.Definitions.html#subst_tt"><span class="id" title="definition">subst_tt</span></a> <a class="idref" href="GMuAnnot.SubstMatch.html#X:131"><span class="id" title="variable">X</span></a> <a class="idref" href="GMuAnnot.SubstMatch.html#U:129"><span class="id" title="variable">U</span></a> <a class="idref" href="GMuAnnot.SubstMatch.html#V1:132"><span class="id" title="variable">V1</span></a>) <a class="idref" href="GMuAnnot.SubstMatch.html#O1:130"><span class="id" title="variable">O1</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="../lambda2Gmu/GMu.Definitions.html#subst_tt'"><span class="id" title="definition">subst_tt'</span></a> (<a class="idref" href="../lambda2Gmu/GMu.Definitions.html#subst_tt"><span class="id" title="definition">subst_tt</span></a> <a class="idref" href="GMuAnnot.SubstMatch.html#X:131"><span class="id" title="variable">X</span></a> <a class="idref" href="GMuAnnot.SubstMatch.html#U:129"><span class="id" title="variable">U</span></a> <a class="idref" href="GMuAnnot.SubstMatch.html#V2:133"><span class="id" title="variable">V2</span></a>) <a class="idref" href="GMuAnnot.SubstMatch.html#O1:130"><span class="id" title="variable">O1</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="../lambda2Gmu/GMu.Definitions.html#subst_tt'"><span class="id" title="definition">subst_tt'</span></a> <a class="idref" href="GMuAnnot.SubstMatch.html#V1:132"><span class="id" title="variable">V1</span></a> (<a class="idref" href="GMuAnnot.SubstMatch.html#O1:130"><span class="id" title="variable">O1</span></a> <a class="idref" href="../lambda2Gmu/GMu.Definitions.html#c75eef461fb5f0f666c2430395694606"><span class="id" title="notation">|,</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">(</span></a><a class="idref" href="GMuAnnot.SubstMatch.html#X:131"><span class="id" title="variable">X</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.13.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a> <a class="idref" href="../lambda2Gmu/GMu.Definitions.html#subst_tt'"><span class="id" title="definition">subst_tt'</span></a> <a class="idref" href="GMuAnnot.SubstMatch.html#U:129"><span class="id" title="variable">U</span></a> <a class="idref" href="GMuAnnot.SubstMatch.html#O1:130"><span class="id" title="variable">O1</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.13.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">)</span></a>) <a class="idref" href="http://coq.inria.fr/distrib/V8.13.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="../lambda2Gmu/GMu.Definitions.html#subst_tt'"><span class="id" title="definition">subst_tt'</span></a> <a class="idref" href="GMuAnnot.SubstMatch.html#V2:133"><span class="id" title="variable">V2</span></a> (<a class="idref" href="GMuAnnot.SubstMatch.html#O1:130"><span class="id" title="variable">O1</span></a> <a class="idref" href="../lambda2Gmu/GMu.Definitions.html#c75eef461fb5f0f666c2430395694606"><span class="id" title="notation">|,</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">(</span></a><a class="idref" href="GMuAnnot.SubstMatch.html#X:131"><span class="id" title="variable">X</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.13.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a> <a class="idref" href="../lambda2Gmu/GMu.Definitions.html#subst_tt'"><span class="id" title="definition">subst_tt'</span></a> <a class="idref" href="GMuAnnot.SubstMatch.html#U:129"><span class="id" title="variable">U</span></a> <a class="idref" href="GMuAnnot.SubstMatch.html#O1:130"><span class="id" title="variable">O1</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.13.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">)</span></a>).<br/>
&nbsp;&nbsp;<span class="id" title="var">introv</span> <span class="id" title="var">W</span> <span class="id" title="var">M</span> <span class="id" title="var">F</span> <span class="id" title="var">S</span> <span class="id" title="var">EQ</span>.<br/>
&nbsp;&nbsp;<span class="id" title="var">cbn</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">assert</span> (<span class="id" title="keyword">∀</span> (<a id="X0:138" class="idref" href="#X0:138"><span class="id" title="binder">X0</span></a> : <span class="id" title="axiom">var</span>) (<a id="U0:139" class="idref" href="#U0:139"><span class="id" title="binder">U0</span></a> : <a class="idref" href="../lambda2Gmu/GMu.Definitions.html#typ"><span class="id" title="inductive">typ</span></a>), <a class="idref" href="http://coq.inria.fr/distrib/V8.13.0/stdlib//Coq.Lists.List.html#In"><span class="id" title="definition">List.In</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">(</span></a><a class="idref" href="GMuAnnot.SubstMatch.html#X0:136"><span class="id" title="variable">X0</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.13.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a> <a class="idref" href="GMuAnnot.SubstMatch.html#U0:137"><span class="id" title="variable">U0</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.13.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">)</span></a> <span class="id" title="var">O1</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <span class="id" title="var">X</span> <span class="id" title="notation">\</span><span class="id" title="notation">notin</span> <a class="idref" href="../lambda2Gmu/GMu.Definitions.html#fv_typ"><span class="id" title="definition">fv_typ</span></a> <a class="idref" href="GMuAnnot.SubstMatch.html#U0:137"><span class="id" title="variable">U0</span></a>).<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">intros</span> <span class="id" title="var">A</span> <span class="id" title="var">T</span> <span class="id" title="var">In</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span>¬ (<span class="id" title="var">F</span> <span class="id" title="var">A</span>).<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">repeat</span> <span class="id" title="tactic">rewrite</span>¬ <a class="idref" href="GMuAnnot.InfrastructureSubstPrim.html#subst_tt_inside"><span class="id" title="lemma">subst_tt_inside</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span>¬ (@<a class="idref" href="GMuAnnot.SubstMatch.html#subst_idempotent_simple"><span class="id" title="lemma">subst_idempotent_simple</span></a> <span class="id" title="var">Σ</span> <span class="id" title="var">Δ1</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">repeat</span> <span class="id" title="tactic">rewrite</span>¬ &lt;- <a class="idref" href="GMuAnnot.InfrastructureSubstPrim.html#subst_tt_inside"><span class="id" title="lemma">subst_tt_inside</span></a>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="subst_tt_split" class="idref" href="#subst_tt_split"><span class="id" title="lemma">subst_tt_split</span></a> : <span class="id" title="keyword">∀</span> <a id="O1:140" class="idref" href="#O1:140"><span class="id" title="binder">O1</span></a> <a id="O2:141" class="idref" href="#O2:141"><span class="id" title="binder">O2</span></a> <a id="T:142" class="idref" href="#T:142"><span class="id" title="binder">T</span></a>,<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="../lambda2Gmu/GMu.Definitions.html#subst_tt'"><span class="id" title="definition">subst_tt'</span></a> <a class="idref" href="GMuAnnot.SubstMatch.html#T:142"><span class="id" title="variable">T</span></a> (<a class="idref" href="GMuAnnot.SubstMatch.html#O1:140"><span class="id" title="variable">O1</span></a> <a class="idref" href="../lambda2Gmu/GMu.Definitions.html#3ca84bd817dd2b1e2f0f693cd9400702"><span class="id" title="notation">|,|</span></a> <a class="idref" href="GMuAnnot.SubstMatch.html#O2:141"><span class="id" title="variable">O2</span></a>) <a class="idref" href="http://coq.inria.fr/distrib/V8.13.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="../lambda2Gmu/GMu.Definitions.html#subst_tt'"><span class="id" title="definition">subst_tt'</span></a> (<a class="idref" href="../lambda2Gmu/GMu.Definitions.html#subst_tt'"><span class="id" title="definition">subst_tt'</span></a> <a class="idref" href="GMuAnnot.SubstMatch.html#T:142"><span class="id" title="variable">T</span></a> <a class="idref" href="GMuAnnot.SubstMatch.html#O2:141"><span class="id" title="variable">O2</span></a>) <a class="idref" href="GMuAnnot.SubstMatch.html#O1:140"><span class="id" title="variable">O1</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">induction</span> <span class="id" title="var">O2</span> <span class="id" title="keyword">as</span> [| [<span class="id" title="var">A</span> <span class="id" title="var">U</span>]]; <span class="id" title="var">cbn</span>; <span class="id" title="tactic">auto</span>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="subst_eq_reorder1" class="idref" href="#subst_eq_reorder1"><span class="id" title="lemma">subst_eq_reorder1</span></a> : <span class="id" title="keyword">∀</span> <a id="92fc1184c72183659a7f8012cd13be07" class="idref" href="#92fc1184c72183659a7f8012cd13be07"><span class="id" title="binder">Σ</span></a> <a id="5224f9e690d682a304017cecdbcc3389" class="idref" href="#5224f9e690d682a304017cecdbcc3389"><span class="id" title="binder">Δ1</span></a> <a id="U:145" class="idref" href="#U:145"><span class="id" title="binder">U</span></a> <a id="O1:146" class="idref" href="#O1:146"><span class="id" title="binder">O1</span></a> <a id="O2:147" class="idref" href="#O2:147"><span class="id" title="binder">O2</span></a> <a id="X:148" class="idref" href="#X:148"><span class="id" title="binder">X</span></a> <a id="V1:149" class="idref" href="#V1:149"><span class="id" title="binder">V1</span></a> <a id="V2:150" class="idref" href="#V2:150"><span class="id" title="binder">V2</span></a>,<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="../lambda2Gmu/GMu.Definitions.html#wft"><span class="id" title="inductive">wft</span></a> <a class="idref" href="GMuAnnot.SubstMatch.html#92fc1184c72183659a7f8012cd13be07"><span class="id" title="variable">Σ</span></a> <a class="idref" href="GMuAnnot.SubstMatch.html#5224f9e690d682a304017cecdbcc3389"><span class="id" title="variable">Δ1</span></a> <a class="idref" href="GMuAnnot.SubstMatch.html#U:145"><span class="id" title="variable">U</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="../lambda2Gmu/GMu.Definitions.html#subst_matches_typctx"><span class="id" title="inductive">subst_matches_typctx</span></a> <a class="idref" href="GMuAnnot.SubstMatch.html#92fc1184c72183659a7f8012cd13be07"><span class="id" title="variable">Σ</span></a> <a class="idref" href="GMuAnnot.SubstMatch.html#5224f9e690d682a304017cecdbcc3389"><span class="id" title="variable">Δ1</span></a> <a class="idref" href="GMuAnnot.SubstMatch.html#O1:146"><span class="id" title="variable">O1</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/V8.13.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">(</span></a><span class="id" title="keyword">∀</span> <a id="X:151" class="idref" href="#X:151"><span class="id" title="binder">X</span></a> <a id="U:152" class="idref" href="#U:152"><span class="id" title="binder">U</span></a>, <a class="idref" href="http://coq.inria.fr/distrib/V8.13.0/stdlib//Coq.Lists.List.html#In"><span class="id" title="definition">List.In</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">(</span></a><a class="idref" href="GMuAnnot.SubstMatch.html#X:151"><span class="id" title="variable">X</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.13.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a> <a class="idref" href="GMuAnnot.SubstMatch.html#U:152"><span class="id" title="variable">U</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.13.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">)</span></a> (<a class="idref" href="GMuAnnot.SubstMatch.html#O1:146"><span class="id" title="variable">O1</span></a> <a class="idref" href="../lambda2Gmu/GMu.Definitions.html#3ca84bd817dd2b1e2f0f693cd9400702"><span class="id" title="notation">|,|</span></a> <a class="idref" href="GMuAnnot.SubstMatch.html#O2:147"><span class="id" title="variable">O2</span></a>) <a class="idref" href="http://coq.inria.fr/distrib/V8.13.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <a class="idref" href="../lambda2Gmu/GMu.Definitions.html#fv_typ"><span class="id" title="definition">fv_typ</span></a> <a class="idref" href="GMuAnnot.SubstMatch.html#U:152"><span class="id" title="variable">U</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <span class="id" title="notation">\{}</span><a class="idref" href="http://coq.inria.fr/distrib/V8.13.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">)</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="GMuAnnot.SubstMatch.html#X:148"><span class="id" title="variable">X</span></a> <span class="id" title="notation">\</span><span class="id" title="notation">notin</span> <a class="idref" href="../lambda2Gmu/GMu.Definitions.html#substitution_sources"><span class="id" title="definition">substitution_sources</span></a> (<a class="idref" href="GMuAnnot.SubstMatch.html#O1:146"><span class="id" title="variable">O1</span></a> <a class="idref" href="../lambda2Gmu/GMu.Definitions.html#3ca84bd817dd2b1e2f0f693cd9400702"><span class="id" title="notation">|,|</span></a> <a class="idref" href="GMuAnnot.SubstMatch.html#O2:147"><span class="id" title="variable">O2</span></a>) <a class="idref" href="http://coq.inria.fr/distrib/V8.13.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="../lambda2Gmu/GMu.Definitions.html#substitution_sources"><span class="id" title="definition">substitution_sources</span></a> <a class="idref" href="GMuAnnot.SubstMatch.html#O1:146"><span class="id" title="variable">O1</span></a> <span class="id" title="notation">\</span><span class="id" title="notation">n</span> <a class="idref" href="../lambda2Gmu/GMu.Definitions.html#substitution_sources"><span class="id" title="definition">substitution_sources</span></a> <a class="idref" href="GMuAnnot.SubstMatch.html#O2:147"><span class="id" title="variable">O2</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <span class="id" title="notation">\{}</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="../lambda2Gmu/GMu.Definitions.html#subst_tt'"><span class="id" title="definition">subst_tt'</span></a> (<a class="idref" href="../lambda2Gmu/GMu.Definitions.html#subst_tt"><span class="id" title="definition">subst_tt</span></a> <a class="idref" href="GMuAnnot.SubstMatch.html#X:148"><span class="id" title="variable">X</span></a> <a class="idref" href="GMuAnnot.SubstMatch.html#U:145"><span class="id" title="variable">U</span></a> <a class="idref" href="GMuAnnot.SubstMatch.html#V1:149"><span class="id" title="variable">V1</span></a>) (<a class="idref" href="GMuAnnot.SubstMatch.html#O1:146"><span class="id" title="variable">O1</span></a> <a class="idref" href="../lambda2Gmu/GMu.Definitions.html#3ca84bd817dd2b1e2f0f693cd9400702"><span class="id" title="notation">|,|</span></a> <a class="idref" href="GMuAnnot.SubstMatch.html#O2:147"><span class="id" title="variable">O2</span></a>) <a class="idref" href="http://coq.inria.fr/distrib/V8.13.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="../lambda2Gmu/GMu.Definitions.html#subst_tt'"><span class="id" title="definition">subst_tt'</span></a> (<a class="idref" href="../lambda2Gmu/GMu.Definitions.html#subst_tt"><span class="id" title="definition">subst_tt</span></a> <a class="idref" href="GMuAnnot.SubstMatch.html#X:148"><span class="id" title="variable">X</span></a> <a class="idref" href="GMuAnnot.SubstMatch.html#U:145"><span class="id" title="variable">U</span></a> <a class="idref" href="GMuAnnot.SubstMatch.html#V2:150"><span class="id" title="variable">V2</span></a>) (<a class="idref" href="GMuAnnot.SubstMatch.html#O1:146"><span class="id" title="variable">O1</span></a> <a class="idref" href="../lambda2Gmu/GMu.Definitions.html#3ca84bd817dd2b1e2f0f693cd9400702"><span class="id" title="notation">|,|</span></a> <a class="idref" href="GMuAnnot.SubstMatch.html#O2:147"><span class="id" title="variable">O2</span></a>) <a class="idref" href="http://coq.inria.fr/distrib/V8.13.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="../lambda2Gmu/GMu.Definitions.html#subst_tt'"><span class="id" title="definition">subst_tt'</span></a> <a class="idref" href="GMuAnnot.SubstMatch.html#V1:149"><span class="id" title="variable">V1</span></a> (<a class="idref" href="GMuAnnot.SubstMatch.html#O1:146"><span class="id" title="variable">O1</span></a> <a class="idref" href="../lambda2Gmu/GMu.Definitions.html#c75eef461fb5f0f666c2430395694606"><span class="id" title="notation">|,</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">(</span></a><a class="idref" href="GMuAnnot.SubstMatch.html#X:148"><span class="id" title="variable">X</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.13.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a> <a class="idref" href="../lambda2Gmu/GMu.Definitions.html#subst_tt'"><span class="id" title="definition">subst_tt'</span></a> <a class="idref" href="GMuAnnot.SubstMatch.html#U:145"><span class="id" title="variable">U</span></a> <a class="idref" href="GMuAnnot.SubstMatch.html#O1:146"><span class="id" title="variable">O1</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.13.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">)</span></a> <a class="idref" href="../lambda2Gmu/GMu.Definitions.html#3ca84bd817dd2b1e2f0f693cd9400702"><span class="id" title="notation">|,|</span></a> <a class="idref" href="GMuAnnot.SubstMatch.html#O2:147"><span class="id" title="variable">O2</span></a>) <a class="idref" href="http://coq.inria.fr/distrib/V8.13.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="../lambda2Gmu/GMu.Definitions.html#subst_tt'"><span class="id" title="definition">subst_tt'</span></a> <a class="idref" href="GMuAnnot.SubstMatch.html#V2:150"><span class="id" title="variable">V2</span></a> (<a class="idref" href="GMuAnnot.SubstMatch.html#O1:146"><span class="id" title="variable">O1</span></a> <a class="idref" href="../lambda2Gmu/GMu.Definitions.html#c75eef461fb5f0f666c2430395694606"><span class="id" title="notation">|,</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">(</span></a><a class="idref" href="GMuAnnot.SubstMatch.html#X:148"><span class="id" title="variable">X</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.13.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a> <a class="idref" href="../lambda2Gmu/GMu.Definitions.html#subst_tt'"><span class="id" title="definition">subst_tt'</span></a> <a class="idref" href="GMuAnnot.SubstMatch.html#U:145"><span class="id" title="variable">U</span></a> <a class="idref" href="GMuAnnot.SubstMatch.html#O1:146"><span class="id" title="variable">O1</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.13.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">)</span></a> <a class="idref" href="../lambda2Gmu/GMu.Definitions.html#3ca84bd817dd2b1e2f0f693cd9400702"><span class="id" title="notation">|,|</span></a> <a class="idref" href="GMuAnnot.SubstMatch.html#O2:147"><span class="id" title="variable">O2</span></a>).<br/>
&nbsp;&nbsp;<span class="id" title="var">introv</span> <span class="id" title="var">W</span> <span class="id" title="var">M</span> <span class="id" title="var">F</span> <span class="id" title="var">S</span> <span class="id" title="var">SS</span> <span class="id" title="var">EQ</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">repeat</span> <span class="id" title="tactic">rewrite</span> <a class="idref" href="GMuAnnot.SubstMatch.html#subst_tt_split"><span class="id" title="lemma">subst_tt_split</span></a> <span class="id" title="tactic">in</span> ×.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <a class="idref" href="GMuAnnot.InfrastructureFV.html#subst_src_app"><span class="id" title="lemma">subst_src_app</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">S</span>. <span class="id" title="tactic">rewrite</span> <span class="id" title="lemma">notin_union</span> <span class="id" title="tactic">in</span> <span class="id" title="var">S</span>. <span class="id" title="tactic">destruct</span> <span class="id" title="var">S</span> <span class="id" title="keyword">as</span> [<span class="id" title="var">S1</span> <span class="id" title="var">S2</span>].<br/>
&nbsp;&nbsp;<span class="id" title="tactic">assert</span> (<span class="id" title="keyword">∀</span> (<a id="X0:155" class="idref" href="#X0:155"><span class="id" title="binder">X0</span></a> : <span class="id" title="axiom">var</span>) (<a id="U0:156" class="idref" href="#U0:156"><span class="id" title="binder">U0</span></a> : <a class="idref" href="../lambda2Gmu/GMu.Definitions.html#typ"><span class="id" title="inductive">typ</span></a>), <a class="idref" href="http://coq.inria.fr/distrib/V8.13.0/stdlib//Coq.Lists.List.html#In"><span class="id" title="definition">List.In</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">(</span></a><a class="idref" href="GMuAnnot.SubstMatch.html#X0:153"><span class="id" title="variable">X0</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.13.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a> <a class="idref" href="GMuAnnot.SubstMatch.html#U0:154"><span class="id" title="variable">U0</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.13.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">)</span></a> <span class="id" title="var">O2</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <span class="id" title="var">X</span> <span class="id" title="notation">\</span><span class="id" title="notation">notin</span> <a class="idref" href="../lambda2Gmu/GMu.Definitions.html#fv_typ"><span class="id" title="definition">fv_typ</span></a> <a class="idref" href="GMuAnnot.SubstMatch.html#U0:154"><span class="id" title="variable">U0</span></a>).<br/>
&nbsp;&nbsp;1: {<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intros</span> <span class="id" title="var">A</span> <span class="id" title="var">V</span> <span class="id" title="var">In</span>. <span class="id" title="tactic">rewrite</span>× (<span class="id" title="var">F</span> <span class="id" title="var">A</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span>¬ <a class="idref" href="http://coq.inria.fr/distrib/V8.13.0/stdlib//Coq.Lists.List.html#in_or_app"><span class="id" title="lemma">List.in_or_app</span></a>.<br/>
&nbsp;&nbsp;}<br/>
&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span>¬ <a class="idref" href="GMuAnnot.InfrastructureSubstPrim.html#subst_tt_inside"><span class="id" title="lemma">subst_tt_inside</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">EQ</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span>¬ (<a class="idref" href="GMuAnnot.InfrastructureSubstPrim.html#subst_tt_inside"><span class="id" title="lemma">subst_tt_inside</span></a> <span class="id" title="var">O2</span>) <span class="id" title="tactic">in</span> <span class="id" title="var">EQ</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">assert</span> (<span class="id" title="var">R</span>: <a class="idref" href="../lambda2Gmu/GMu.Definitions.html#subst_tt'"><span class="id" title="definition">subst_tt'</span></a> <span class="id" title="var">U</span> <span class="id" title="var">O2</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <span class="id" title="var">U</span>).<br/>
&nbsp;&nbsp;1: {<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span>¬ <a class="idref" href="GMuAnnot.InfrastructureSubstPrim.html#32f5b0aeb73b4c22c36951cbe0cb9045"><span class="id" title="lemma">subst_ttΘ_fresh</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">lets</span> <span class="id" title="var">FV</span>: <a class="idref" href="GMuAnnot.InfrastructureFV.html#wft_gives_fv"><span class="id" title="lemma">wft_gives_fv</span></a> <span class="id" title="var">W</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">lets</span> <span class="id" title="var">SD</span>: <a class="idref" href="GMuAnnot.SubstMatch.html#subst_sources_from_match"><span class="id" title="lemma">subst_sources_from_match</span></a> <span class="id" title="var">M</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span>¬ <span class="id" title="axiom">fset_extens</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intros</span> <span class="id" title="var">x</span> <span class="id" title="var">HF</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <span class="id" title="axiom">in_inter</span> <span class="id" title="tactic">in</span> <span class="id" title="var">HF</span>. <span class="id" title="tactic">destruct</span> <span class="id" title="var">HF</span> <span class="id" title="keyword">as</span> [<span class="id" title="var">HF1</span> <span class="id" title="var">HF2</span>].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">false</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> &lt;- <span class="id" title="var">SD</span> <span class="id" title="tactic">in</span> <span class="id" title="var">FV</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <span class="id" title="var">FV</span> <span class="id" title="tactic">in</span> <span class="id" title="var">HF2</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span>¬ <span class="id" title="lemma">in_empty_inv</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> &lt;- <span class="id" title="var">SS</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <span class="id" title="axiom">in_inter</span>. <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;}<br/>
&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <span class="id" title="var">R</span> <span class="id" title="tactic">in</span> <span class="id" title="var">EQ</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="GMuAnnot.SubstMatch.html#subst_eq_reorder1_2"><span class="id" title="lemma">subst_eq_reorder1_2</span></a> <span class="id" title="keyword">with</span> <span class="id" title="var">Σ</span> <span class="id" title="var">Δ1</span>; <span class="id" title="tactic">auto</span>.<br/>
&nbsp;&nbsp;- <span class="id" title="var">introv</span> <span class="id" title="var">In</span>. <span class="id" title="tactic">rewrite</span>¬ (<span class="id" title="var">F</span> <span class="id" title="var">X0</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span>¬ <a class="idref" href="http://coq.inria.fr/distrib/V8.13.0/stdlib//Coq.Lists.List.html#in_or_app"><span class="id" title="lemma">List.in_or_app</span></a>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="comment">(*&nbsp;TODO&nbsp;these&nbsp;may&nbsp;not&nbsp;need&nbsp;as&nbsp;strong&nbsp;assumptions&nbsp;*)</span><br/>
<span class="id" title="keyword">Lemma</span> <a id="subst_eq_reorder2_2" class="idref" href="#subst_eq_reorder2_2"><span class="id" title="lemma">subst_eq_reorder2_2</span></a> : <span class="id" title="keyword">∀</span> <a id="996801865fff84df7746f7d16aabfe4b" class="idref" href="#996801865fff84df7746f7d16aabfe4b"><span class="id" title="binder">Σ</span></a> <a id="0c95f0c70de8380b3d81b44cd72b681b" class="idref" href="#0c95f0c70de8380b3d81b44cd72b681b"><span class="id" title="binder">Δ1</span></a> <a id="U:159" class="idref" href="#U:159"><span class="id" title="binder">U</span></a> <a id="O1:160" class="idref" href="#O1:160"><span class="id" title="binder">O1</span></a> <a id="X:161" class="idref" href="#X:161"><span class="id" title="binder">X</span></a> <a id="V1:162" class="idref" href="#V1:162"><span class="id" title="binder">V1</span></a> <a id="V2:163" class="idref" href="#V2:163"><span class="id" title="binder">V2</span></a>,<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="../lambda2Gmu/GMu.Definitions.html#wft"><span class="id" title="inductive">wft</span></a> <a class="idref" href="GMuAnnot.SubstMatch.html#996801865fff84df7746f7d16aabfe4b"><span class="id" title="variable">Σ</span></a> <a class="idref" href="GMuAnnot.SubstMatch.html#0c95f0c70de8380b3d81b44cd72b681b"><span class="id" title="variable">Δ1</span></a> <a class="idref" href="GMuAnnot.SubstMatch.html#U:159"><span class="id" title="variable">U</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="../lambda2Gmu/GMu.Definitions.html#subst_matches_typctx"><span class="id" title="inductive">subst_matches_typctx</span></a> <a class="idref" href="GMuAnnot.SubstMatch.html#996801865fff84df7746f7d16aabfe4b"><span class="id" title="variable">Σ</span></a> <a class="idref" href="GMuAnnot.SubstMatch.html#0c95f0c70de8380b3d81b44cd72b681b"><span class="id" title="variable">Δ1</span></a> <a class="idref" href="GMuAnnot.SubstMatch.html#O1:160"><span class="id" title="variable">O1</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/V8.13.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">(</span></a><span class="id" title="keyword">∀</span> <a id="X:164" class="idref" href="#X:164"><span class="id" title="binder">X</span></a> <a id="U:165" class="idref" href="#U:165"><span class="id" title="binder">U</span></a>, <a class="idref" href="http://coq.inria.fr/distrib/V8.13.0/stdlib//Coq.Lists.List.html#In"><span class="id" title="definition">List.In</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">(</span></a><a class="idref" href="GMuAnnot.SubstMatch.html#X:164"><span class="id" title="variable">X</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.13.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a> <a class="idref" href="GMuAnnot.SubstMatch.html#U:165"><span class="id" title="variable">U</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.13.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">)</span></a> <a class="idref" href="GMuAnnot.SubstMatch.html#O1:160"><span class="id" title="variable">O1</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <a class="idref" href="../lambda2Gmu/GMu.Definitions.html#fv_typ"><span class="id" title="definition">fv_typ</span></a> <a class="idref" href="GMuAnnot.SubstMatch.html#U:165"><span class="id" title="variable">U</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <span class="id" title="notation">\{}</span><a class="idref" href="http://coq.inria.fr/distrib/V8.13.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">)</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="GMuAnnot.SubstMatch.html#X:161"><span class="id" title="variable">X</span></a> <span class="id" title="notation">\</span><span class="id" title="notation">notin</span> <a class="idref" href="../lambda2Gmu/GMu.Definitions.html#substitution_sources"><span class="id" title="definition">substitution_sources</span></a> <a class="idref" href="GMuAnnot.SubstMatch.html#O1:160"><span class="id" title="variable">O1</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="../lambda2Gmu/GMu.Definitions.html#subst_tt'"><span class="id" title="definition">subst_tt'</span></a> <a class="idref" href="GMuAnnot.SubstMatch.html#V1:162"><span class="id" title="variable">V1</span></a> (<a class="idref" href="GMuAnnot.SubstMatch.html#O1:160"><span class="id" title="variable">O1</span></a> <a class="idref" href="../lambda2Gmu/GMu.Definitions.html#3ca84bd817dd2b1e2f0f693cd9400702"><span class="id" title="notation">|,|</span></a> <a class="idref" href="../lambda2Gmu/GMu.Definitions.html#b5ab1b23d5b56035820660ded1af9bea"><span class="id" title="notation">[</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.13.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">(</span></a><a class="idref" href="GMuAnnot.SubstMatch.html#X:161"><span class="id" title="variable">X</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.13.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a> <a class="idref" href="../lambda2Gmu/GMu.Definitions.html#subst_tt'"><span class="id" title="definition">subst_tt'</span></a> <a class="idref" href="GMuAnnot.SubstMatch.html#U:159"><span class="id" title="variable">U</span></a> <a class="idref" href="GMuAnnot.SubstMatch.html#O1:160"><span class="id" title="variable">O1</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.13.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">)</span></a><a class="idref" href="../lambda2Gmu/GMu.Definitions.html#b5ab1b23d5b56035820660ded1af9bea"><span class="id" title="notation">]*</span></a>) <a class="idref" href="http://coq.inria.fr/distrib/V8.13.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="../lambda2Gmu/GMu.Definitions.html#subst_tt'"><span class="id" title="definition">subst_tt'</span></a> <a class="idref" href="GMuAnnot.SubstMatch.html#V2:163"><span class="id" title="variable">V2</span></a> (<a class="idref" href="GMuAnnot.SubstMatch.html#O1:160"><span class="id" title="variable">O1</span></a> <a class="idref" href="../lambda2Gmu/GMu.Definitions.html#3ca84bd817dd2b1e2f0f693cd9400702"><span class="id" title="notation">|,|</span></a> <a class="idref" href="../lambda2Gmu/GMu.Definitions.html#b5ab1b23d5b56035820660ded1af9bea"><span class="id" title="notation">[</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.13.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">(</span></a><a class="idref" href="GMuAnnot.SubstMatch.html#X:161"><span class="id" title="variable">X</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.13.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a> <a class="idref" href="../lambda2Gmu/GMu.Definitions.html#subst_tt'"><span class="id" title="definition">subst_tt'</span></a> <a class="idref" href="GMuAnnot.SubstMatch.html#U:159"><span class="id" title="variable">U</span></a> <a class="idref" href="GMuAnnot.SubstMatch.html#O1:160"><span class="id" title="variable">O1</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.13.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">)</span></a><a class="idref" href="../lambda2Gmu/GMu.Definitions.html#b5ab1b23d5b56035820660ded1af9bea"><span class="id" title="notation">]*</span></a>) <a class="idref" href="http://coq.inria.fr/distrib/V8.13.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="../lambda2Gmu/GMu.Definitions.html#subst_tt"><span class="id" title="definition">subst_tt</span></a> <a class="idref" href="GMuAnnot.SubstMatch.html#X:161"><span class="id" title="variable">X</span></a> (<a class="idref" href="../lambda2Gmu/GMu.Definitions.html#subst_tt'"><span class="id" title="definition">subst_tt'</span></a> <a class="idref" href="GMuAnnot.SubstMatch.html#U:159"><span class="id" title="variable">U</span></a> <a class="idref" href="GMuAnnot.SubstMatch.html#O1:160"><span class="id" title="variable">O1</span></a>) (<a class="idref" href="../lambda2Gmu/GMu.Definitions.html#subst_tt'"><span class="id" title="definition">subst_tt'</span></a> <a class="idref" href="GMuAnnot.SubstMatch.html#V1:162"><span class="id" title="variable">V1</span></a> <a class="idref" href="GMuAnnot.SubstMatch.html#O1:160"><span class="id" title="variable">O1</span></a>) <a class="idref" href="http://coq.inria.fr/distrib/V8.13.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="../lambda2Gmu/GMu.Definitions.html#subst_tt"><span class="id" title="definition">subst_tt</span></a> <a class="idref" href="GMuAnnot.SubstMatch.html#X:161"><span class="id" title="variable">X</span></a> (<a class="idref" href="../lambda2Gmu/GMu.Definitions.html#subst_tt'"><span class="id" title="definition">subst_tt'</span></a> <a class="idref" href="GMuAnnot.SubstMatch.html#U:159"><span class="id" title="variable">U</span></a> <a class="idref" href="GMuAnnot.SubstMatch.html#O1:160"><span class="id" title="variable">O1</span></a>) (<a class="idref" href="../lambda2Gmu/GMu.Definitions.html#subst_tt'"><span class="id" title="definition">subst_tt'</span></a> <a class="idref" href="GMuAnnot.SubstMatch.html#V2:163"><span class="id" title="variable">V2</span></a> <a class="idref" href="GMuAnnot.SubstMatch.html#O1:160"><span class="id" title="variable">O1</span></a>).<br/>
&nbsp;&nbsp;<span class="id" title="var">introv</span> <span class="id" title="var">W</span> <span class="id" title="var">M</span> <span class="id" title="var">F</span> <span class="id" title="var">S</span> <span class="id" title="var">EQ</span>.<br/>
&nbsp;&nbsp;<span class="id" title="var">cbn</span> <span class="id" title="tactic">in</span> <span class="id" title="var">EQ</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">assert</span> (<span class="id" title="keyword">∀</span> (<a id="X0:168" class="idref" href="#X0:168"><span class="id" title="binder">X0</span></a> : <span class="id" title="axiom">var</span>) (<a id="U0:169" class="idref" href="#U0:169"><span class="id" title="binder">U0</span></a> : <a class="idref" href="../lambda2Gmu/GMu.Definitions.html#typ"><span class="id" title="inductive">typ</span></a>), <a class="idref" href="http://coq.inria.fr/distrib/V8.13.0/stdlib//Coq.Lists.List.html#In"><span class="id" title="definition">List.In</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">(</span></a><a class="idref" href="GMuAnnot.SubstMatch.html#X0:166"><span class="id" title="variable">X0</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.13.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a> <a class="idref" href="GMuAnnot.SubstMatch.html#U0:167"><span class="id" title="variable">U0</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.13.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">)</span></a> <span class="id" title="var">O1</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <span class="id" title="var">X</span> <span class="id" title="notation">\</span><span class="id" title="notation">notin</span> <a class="idref" href="../lambda2Gmu/GMu.Definitions.html#fv_typ"><span class="id" title="definition">fv_typ</span></a> <a class="idref" href="GMuAnnot.SubstMatch.html#U0:167"><span class="id" title="variable">U0</span></a>).<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">intros</span> <span class="id" title="var">A</span> <span class="id" title="var">T</span> <span class="id" title="var">In</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span>¬ (<span class="id" title="var">F</span> <span class="id" title="var">A</span>).<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">rewrite</span>¬ <a class="idref" href="GMuAnnot.InfrastructureSubstPrim.html#subst_tt_inside"><span class="id" title="lemma">subst_tt_inside</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">EQ</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span>¬ <a class="idref" href="GMuAnnot.InfrastructureSubstPrim.html#subst_tt_inside"><span class="id" title="lemma">subst_tt_inside</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">EQ</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span>¬ (@<a class="idref" href="GMuAnnot.SubstMatch.html#subst_idempotent_simple"><span class="id" title="lemma">subst_idempotent_simple</span></a> <span class="id" title="var">Σ</span> <span class="id" title="var">Δ1</span>) <span class="id" title="tactic">in</span> <span class="id" title="var">EQ</span>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="subst_eq_reorder2" class="idref" href="#subst_eq_reorder2"><span class="id" title="lemma">subst_eq_reorder2</span></a> : <span class="id" title="keyword">∀</span> <a id="de0bdd995243600a0219716b7c05224c" class="idref" href="#de0bdd995243600a0219716b7c05224c"><span class="id" title="binder">Σ</span></a> <a id="208d60b7bc91365364acd9a74680af5e" class="idref" href="#208d60b7bc91365364acd9a74680af5e"><span class="id" title="binder">Δ1</span></a> <a id="U:172" class="idref" href="#U:172"><span class="id" title="binder">U</span></a> <a id="O1:173" class="idref" href="#O1:173"><span class="id" title="binder">O1</span></a> <a id="O2:174" class="idref" href="#O2:174"><span class="id" title="binder">O2</span></a> <a id="X:175" class="idref" href="#X:175"><span class="id" title="binder">X</span></a> <a id="V1:176" class="idref" href="#V1:176"><span class="id" title="binder">V1</span></a> <a id="V2:177" class="idref" href="#V2:177"><span class="id" title="binder">V2</span></a>,<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="../lambda2Gmu/GMu.Definitions.html#wft"><span class="id" title="inductive">wft</span></a> <a class="idref" href="GMuAnnot.SubstMatch.html#de0bdd995243600a0219716b7c05224c"><span class="id" title="variable">Σ</span></a> <a class="idref" href="GMuAnnot.SubstMatch.html#208d60b7bc91365364acd9a74680af5e"><span class="id" title="variable">Δ1</span></a> <a class="idref" href="GMuAnnot.SubstMatch.html#U:172"><span class="id" title="variable">U</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="../lambda2Gmu/GMu.Definitions.html#subst_matches_typctx"><span class="id" title="inductive">subst_matches_typctx</span></a> <a class="idref" href="GMuAnnot.SubstMatch.html#de0bdd995243600a0219716b7c05224c"><span class="id" title="variable">Σ</span></a> <a class="idref" href="GMuAnnot.SubstMatch.html#208d60b7bc91365364acd9a74680af5e"><span class="id" title="variable">Δ1</span></a> <a class="idref" href="GMuAnnot.SubstMatch.html#O1:173"><span class="id" title="variable">O1</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/V8.13.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">(</span></a><span class="id" title="keyword">∀</span> <a id="X:178" class="idref" href="#X:178"><span class="id" title="binder">X</span></a> <a id="U:179" class="idref" href="#U:179"><span class="id" title="binder">U</span></a>, <a class="idref" href="http://coq.inria.fr/distrib/V8.13.0/stdlib//Coq.Lists.List.html#In"><span class="id" title="definition">List.In</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">(</span></a><a class="idref" href="GMuAnnot.SubstMatch.html#X:178"><span class="id" title="variable">X</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.13.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a> <a class="idref" href="GMuAnnot.SubstMatch.html#U:179"><span class="id" title="variable">U</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.13.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">)</span></a> (<a class="idref" href="GMuAnnot.SubstMatch.html#O1:173"><span class="id" title="variable">O1</span></a> <a class="idref" href="../lambda2Gmu/GMu.Definitions.html#3ca84bd817dd2b1e2f0f693cd9400702"><span class="id" title="notation">|,|</span></a> <a class="idref" href="GMuAnnot.SubstMatch.html#O2:174"><span class="id" title="variable">O2</span></a>) <a class="idref" href="http://coq.inria.fr/distrib/V8.13.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <a class="idref" href="../lambda2Gmu/GMu.Definitions.html#fv_typ"><span class="id" title="definition">fv_typ</span></a> <a class="idref" href="GMuAnnot.SubstMatch.html#U:179"><span class="id" title="variable">U</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <span class="id" title="notation">\{}</span><a class="idref" href="http://coq.inria.fr/distrib/V8.13.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">)</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="GMuAnnot.SubstMatch.html#X:175"><span class="id" title="variable">X</span></a> <span class="id" title="notation">\</span><span class="id" title="notation">notin</span> <a class="idref" href="../lambda2Gmu/GMu.Definitions.html#substitution_sources"><span class="id" title="definition">substitution_sources</span></a> (<a class="idref" href="GMuAnnot.SubstMatch.html#O1:173"><span class="id" title="variable">O1</span></a> <a class="idref" href="../lambda2Gmu/GMu.Definitions.html#3ca84bd817dd2b1e2f0f693cd9400702"><span class="id" title="notation">|,|</span></a> <a class="idref" href="GMuAnnot.SubstMatch.html#O2:174"><span class="id" title="variable">O2</span></a>) <a class="idref" href="http://coq.inria.fr/distrib/V8.13.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="../lambda2Gmu/GMu.Definitions.html#substitution_sources"><span class="id" title="definition">substitution_sources</span></a> <a class="idref" href="GMuAnnot.SubstMatch.html#O1:173"><span class="id" title="variable">O1</span></a> <span class="id" title="notation">\</span><span class="id" title="notation">n</span> <a class="idref" href="../lambda2Gmu/GMu.Definitions.html#substitution_sources"><span class="id" title="definition">substitution_sources</span></a> <a class="idref" href="GMuAnnot.SubstMatch.html#O2:174"><span class="id" title="variable">O2</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <span class="id" title="notation">\{}</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="../lambda2Gmu/GMu.Definitions.html#subst_tt'"><span class="id" title="definition">subst_tt'</span></a> <a class="idref" href="GMuAnnot.SubstMatch.html#V1:176"><span class="id" title="variable">V1</span></a> (<a class="idref" href="GMuAnnot.SubstMatch.html#O1:173"><span class="id" title="variable">O1</span></a> <a class="idref" href="../lambda2Gmu/GMu.Definitions.html#3ca84bd817dd2b1e2f0f693cd9400702"><span class="id" title="notation">|,|</span></a> <a class="idref" href="../lambda2Gmu/GMu.Definitions.html#b5ab1b23d5b56035820660ded1af9bea"><span class="id" title="notation">[</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.13.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">(</span></a><a class="idref" href="GMuAnnot.SubstMatch.html#X:175"><span class="id" title="variable">X</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.13.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a> <a class="idref" href="../lambda2Gmu/GMu.Definitions.html#subst_tt'"><span class="id" title="definition">subst_tt'</span></a> <a class="idref" href="GMuAnnot.SubstMatch.html#U:172"><span class="id" title="variable">U</span></a> <a class="idref" href="GMuAnnot.SubstMatch.html#O1:173"><span class="id" title="variable">O1</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.13.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">)</span></a><a class="idref" href="../lambda2Gmu/GMu.Definitions.html#b5ab1b23d5b56035820660ded1af9bea"><span class="id" title="notation">]*</span></a> <a class="idref" href="../lambda2Gmu/GMu.Definitions.html#3ca84bd817dd2b1e2f0f693cd9400702"><span class="id" title="notation">|,|</span></a> <a class="idref" href="GMuAnnot.SubstMatch.html#O2:174"><span class="id" title="variable">O2</span></a>) <a class="idref" href="http://coq.inria.fr/distrib/V8.13.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="../lambda2Gmu/GMu.Definitions.html#subst_tt'"><span class="id" title="definition">subst_tt'</span></a> <a class="idref" href="GMuAnnot.SubstMatch.html#V2:177"><span class="id" title="variable">V2</span></a> (<a class="idref" href="GMuAnnot.SubstMatch.html#O1:173"><span class="id" title="variable">O1</span></a> <a class="idref" href="../lambda2Gmu/GMu.Definitions.html#3ca84bd817dd2b1e2f0f693cd9400702"><span class="id" title="notation">|,|</span></a> <a class="idref" href="../lambda2Gmu/GMu.Definitions.html#b5ab1b23d5b56035820660ded1af9bea"><span class="id" title="notation">[</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.13.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">(</span></a><a class="idref" href="GMuAnnot.SubstMatch.html#X:175"><span class="id" title="variable">X</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.13.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a> <a class="idref" href="../lambda2Gmu/GMu.Definitions.html#subst_tt'"><span class="id" title="definition">subst_tt'</span></a> <a class="idref" href="GMuAnnot.SubstMatch.html#U:172"><span class="id" title="variable">U</span></a> <a class="idref" href="GMuAnnot.SubstMatch.html#O1:173"><span class="id" title="variable">O1</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.13.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">)</span></a><a class="idref" href="../lambda2Gmu/GMu.Definitions.html#b5ab1b23d5b56035820660ded1af9bea"><span class="id" title="notation">]*</span></a> <a class="idref" href="../lambda2Gmu/GMu.Definitions.html#3ca84bd817dd2b1e2f0f693cd9400702"><span class="id" title="notation">|,|</span></a> <a class="idref" href="GMuAnnot.SubstMatch.html#O2:174"><span class="id" title="variable">O2</span></a>) <a class="idref" href="http://coq.inria.fr/distrib/V8.13.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="../lambda2Gmu/GMu.Definitions.html#subst_tt"><span class="id" title="definition">subst_tt</span></a> <a class="idref" href="GMuAnnot.SubstMatch.html#X:175"><span class="id" title="variable">X</span></a> (<a class="idref" href="../lambda2Gmu/GMu.Definitions.html#subst_tt'"><span class="id" title="definition">subst_tt'</span></a> <a class="idref" href="GMuAnnot.SubstMatch.html#U:172"><span class="id" title="variable">U</span></a> (<a class="idref" href="GMuAnnot.SubstMatch.html#O1:173"><span class="id" title="variable">O1</span></a> <a class="idref" href="../lambda2Gmu/GMu.Definitions.html#3ca84bd817dd2b1e2f0f693cd9400702"><span class="id" title="notation">|,|</span></a> <a class="idref" href="GMuAnnot.SubstMatch.html#O2:174"><span class="id" title="variable">O2</span></a>))<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<a class="idref" href="../lambda2Gmu/GMu.Definitions.html#subst_tt'"><span class="id" title="definition">subst_tt'</span></a> <a class="idref" href="GMuAnnot.SubstMatch.html#V1:176"><span class="id" title="variable">V1</span></a> (<a class="idref" href="GMuAnnot.SubstMatch.html#O1:173"><span class="id" title="variable">O1</span></a> <a class="idref" href="../lambda2Gmu/GMu.Definitions.html#3ca84bd817dd2b1e2f0f693cd9400702"><span class="id" title="notation">|,|</span></a> <a class="idref" href="GMuAnnot.SubstMatch.html#O2:174"><span class="id" title="variable">O2</span></a>)) <a class="idref" href="http://coq.inria.fr/distrib/V8.13.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="../lambda2Gmu/GMu.Definitions.html#subst_tt"><span class="id" title="definition">subst_tt</span></a> <a class="idref" href="GMuAnnot.SubstMatch.html#X:175"><span class="id" title="variable">X</span></a> (<a class="idref" href="../lambda2Gmu/GMu.Definitions.html#subst_tt'"><span class="id" title="definition">subst_tt'</span></a> <a class="idref" href="GMuAnnot.SubstMatch.html#U:172"><span class="id" title="variable">U</span></a> (<a class="idref" href="GMuAnnot.SubstMatch.html#O1:173"><span class="id" title="variable">O1</span></a> <a class="idref" href="../lambda2Gmu/GMu.Definitions.html#3ca84bd817dd2b1e2f0f693cd9400702"><span class="id" title="notation">|,|</span></a> <a class="idref" href="GMuAnnot.SubstMatch.html#O2:174"><span class="id" title="variable">O2</span></a>))<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<a class="idref" href="../lambda2Gmu/GMu.Definitions.html#subst_tt'"><span class="id" title="definition">subst_tt'</span></a> <a class="idref" href="GMuAnnot.SubstMatch.html#V2:177"><span class="id" title="variable">V2</span></a> (<a class="idref" href="GMuAnnot.SubstMatch.html#O1:173"><span class="id" title="variable">O1</span></a> <a class="idref" href="../lambda2Gmu/GMu.Definitions.html#3ca84bd817dd2b1e2f0f693cd9400702"><span class="id" title="notation">|,|</span></a> <a class="idref" href="GMuAnnot.SubstMatch.html#O2:174"><span class="id" title="variable">O2</span></a>)).<br/>
&nbsp;&nbsp;<span class="id" title="var">introv</span> <span class="id" title="var">W</span> <span class="id" title="var">M</span> <span class="id" title="var">F</span> <span class="id" title="var">S</span> <span class="id" title="var">SS</span> <span class="id" title="var">EQ</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">repeat</span> <span class="id" title="tactic">rewrite</span> <a class="idref" href="GMuAnnot.SubstMatch.html#subst_tt_split"><span class="id" title="lemma">subst_tt_split</span></a> <span class="id" title="tactic">in</span> ×.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">assert</span> (<span class="id" title="var">R</span>: <a class="idref" href="../lambda2Gmu/GMu.Definitions.html#subst_tt'"><span class="id" title="definition">subst_tt'</span></a> <span class="id" title="var">U</span> <span class="id" title="var">O2</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <span class="id" title="var">U</span>).<br/>
&nbsp;&nbsp;1: {<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span>¬ <a class="idref" href="GMuAnnot.InfrastructureSubstPrim.html#32f5b0aeb73b4c22c36951cbe0cb9045"><span class="id" title="lemma">subst_ttΘ_fresh</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">lets</span> <span class="id" title="var">FV</span>: <a class="idref" href="GMuAnnot.InfrastructureFV.html#wft_gives_fv"><span class="id" title="lemma">wft_gives_fv</span></a> <span class="id" title="var">W</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">lets</span> <span class="id" title="var">SD</span>: <a class="idref" href="GMuAnnot.SubstMatch.html#subst_sources_from_match"><span class="id" title="lemma">subst_sources_from_match</span></a> <span class="id" title="var">M</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span>¬ <span class="id" title="axiom">fset_extens</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intros</span> <span class="id" title="var">x</span> <span class="id" title="var">HF</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <span class="id" title="axiom">in_inter</span> <span class="id" title="tactic">in</span> <span class="id" title="var">HF</span>. <span class="id" title="tactic">destruct</span> <span class="id" title="var">HF</span> <span class="id" title="keyword">as</span> [<span class="id" title="var">HF1</span> <span class="id" title="var">HF2</span>].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">false</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> &lt;- <span class="id" title="var">SD</span> <span class="id" title="tactic">in</span> <span class="id" title="var">FV</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <span class="id" title="var">FV</span> <span class="id" title="tactic">in</span> <span class="id" title="var">HF2</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span>¬ <span class="id" title="lemma">in_empty_inv</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> &lt;- <span class="id" title="var">SS</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <span class="id" title="axiom">in_inter</span>. <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;}<br/>
&nbsp;&nbsp;<span class="id" title="tactic">repeat</span> <span class="id" title="tactic">rewrite</span> <span class="id" title="var">R</span> <span class="id" title="tactic">in</span> ×.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="GMuAnnot.SubstMatch.html#subst_eq_reorder2_2"><span class="id" title="lemma">subst_eq_reorder2_2</span></a> <span class="id" title="keyword">with</span> <span class="id" title="var">Σ</span> <span class="id" title="var">Δ1</span>; <span class="id" title="tactic">auto</span>.<br/>
&nbsp;&nbsp;- <span class="id" title="var">introv</span> <span class="id" title="var">In</span>. <span class="id" title="tactic">rewrite</span>¬ (<span class="id" title="var">F</span> <span class="id" title="var">X0</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span>¬ <a class="idref" href="http://coq.inria.fr/distrib/V8.13.0/stdlib//Coq.Lists.List.html#in_or_app"><span class="id" title="lemma">List.in_or_app</span></a>.<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">rewrite</span> <a class="idref" href="GMuAnnot.InfrastructureFV.html#subst_src_app"><span class="id" title="lemma">subst_src_app</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">S</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span>¬ <span class="id" title="lemma">notin_union</span> <span class="id" title="tactic">in</span> <span class="id" title="var">S</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span>¬ <span class="id" title="var">S</span>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="sources_distinct" class="idref" href="#sources_distinct"><span class="id" title="lemma">sources_distinct</span></a> : <span class="id" title="keyword">∀</span> <a id="84da3a9c901eb870edcd4f4528af00ed" class="idref" href="#84da3a9c901eb870edcd4f4528af00ed"><span class="id" title="binder">Σ</span></a> <a id="O:181" class="idref" href="#O:181"><span class="id" title="binder">O</span></a> <a id="e7e3bd9ae25c58ea3389e3988bf4faa7" class="idref" href="#e7e3bd9ae25c58ea3389e3988bf4faa7"><span class="id" title="binder">Δ</span></a>,<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="../lambda2Gmu/GMu.Definitions.html#subst_matches_typctx"><span class="id" title="inductive">subst_matches_typctx</span></a> <a class="idref" href="GMuAnnot.SubstMatch.html#84da3a9c901eb870edcd4f4528af00ed"><span class="id" title="variable">Σ</span></a> <a class="idref" href="GMuAnnot.SubstMatch.html#e7e3bd9ae25c58ea3389e3988bf4faa7"><span class="id" title="variable">Δ</span></a> <a class="idref" href="GMuAnnot.SubstMatch.html#O:181"><span class="id" title="variable">O</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="../lambda2Gmu/GMu.Definitions.html#DistinctList"><span class="id" title="inductive">DistinctList</span></a> (<a class="idref" href="http://coq.inria.fr/distrib/V8.13.0/stdlib//Coq.Lists.List.html#map"><span class="id" title="definition">List.map</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.0/stdlib//Coq.Init.Datatypes.html#fst"><span class="id" title="definition">fst</span></a> <a class="idref" href="GMuAnnot.SubstMatch.html#O:181"><span class="id" title="variable">O</span></a>).<br/>
&nbsp;&nbsp;<span class="id" title="tactic">induction</span> <span class="id" title="var">O</span> <span class="id" title="keyword">as</span> [| [<span class="id" title="var">A</span> <span class="id" title="var">U</span>]]; <span class="id" title="var">introv</span> <span class="id" title="var">M</span>.<br/>
&nbsp;&nbsp;- <span class="id" title="var">cbn</span>; <span class="id" title="tactic">constructor</span>.<br/>
&nbsp;&nbsp;- <span class="id" title="var">cbn</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">lets</span> [? [<span class="id" title="var">D2</span> [<span class="id" title="var">M2</span> <span class="id" title="var">S2</span>]]]: <a class="idref" href="GMuAnnot.SubstMatch.html#subst_match_remove_right_var3"><span class="id" title="lemma">subst_match_remove_right_var3</span></a> <span class="id" title="var">M</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">constructor</span>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intro</span> <span class="id" title="var">HF</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <span class="id" title="var">S2</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span>¬ <a class="idref" href="GMuAnnot.InfrastructureFV.html#sources_list_fst"><span class="id" title="lemma">sources_list_fst</span></a>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="subst_remove_used_var" class="idref" href="#subst_remove_used_var"><span class="id" title="lemma">subst_remove_used_var</span></a> : <span class="id" title="keyword">∀</span> <a id="15ce385211aa9e5e6049ba8e2de3ccb2" class="idref" href="#15ce385211aa9e5e6049ba8e2de3ccb2"><span class="id" title="binder">Σ</span></a> <a id="72893360a9fa346b4fcb6a5e8ca542e9" class="idref" href="#72893360a9fa346b4fcb6a5e8ca542e9"><span class="id" title="binder">Δ1</span></a> <a id="ce88ac92da6d0cfcfb0c1be4297e589d" class="idref" href="#ce88ac92da6d0cfcfb0c1be4297e589d"><span class="id" title="binder">Δ2</span></a> <a id="O1:186" class="idref" href="#O1:186"><span class="id" title="binder">O1</span></a> <a id="O2:187" class="idref" href="#O2:187"><span class="id" title="binder">O2</span></a> <a id="X:188" class="idref" href="#X:188"><span class="id" title="binder">X</span></a> <a id="U:189" class="idref" href="#U:189"><span class="id" title="binder">U</span></a>,<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="../lambda2Gmu/GMu.Definitions.html#subst_matches_typctx"><span class="id" title="inductive">subst_matches_typctx</span></a> <a class="idref" href="GMuAnnot.SubstMatch.html#15ce385211aa9e5e6049ba8e2de3ccb2"><span class="id" title="variable">Σ</span></a> (<a class="idref" href="GMuAnnot.SubstMatch.html#72893360a9fa346b4fcb6a5e8ca542e9"><span class="id" title="variable">Δ1</span></a> <a class="idref" href="../lambda2Gmu/GMu.Definitions.html#3ca84bd817dd2b1e2f0f693cd9400702"><span class="id" title="notation">|,|</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.0/stdlib//Coq.Lists.List.html#map"><span class="id" title="definition">List.map</span></a> (<a class="idref" href="../lambda2Gmu/GMu.Definitions.html#subst_td"><span class="id" title="definition">subst_td</span></a> <a class="idref" href="GMuAnnot.SubstMatch.html#X:188"><span class="id" title="variable">X</span></a> <a class="idref" href="GMuAnnot.SubstMatch.html#U:189"><span class="id" title="variable">U</span></a> ) <a class="idref" href="GMuAnnot.SubstMatch.html#ce88ac92da6d0cfcfb0c1be4297e589d"><span class="id" title="variable">Δ2</span></a>) (<a class="idref" href="GMuAnnot.SubstMatch.html#O1:186"><span class="id" title="variable">O1</span></a> <a class="idref" href="../lambda2Gmu/GMu.Definitions.html#3ca84bd817dd2b1e2f0f693cd9400702"><span class="id" title="notation">|,|</span></a> <a class="idref" href="GMuAnnot.SubstMatch.html#O2:187"><span class="id" title="variable">O2</span></a>) <a class="idref" href="http://coq.inria.fr/distrib/V8.13.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="../lambda2Gmu/GMu.Definitions.html#subst_matches_typctx"><span class="id" title="inductive">subst_matches_typctx</span></a> <a class="idref" href="GMuAnnot.SubstMatch.html#15ce385211aa9e5e6049ba8e2de3ccb2"><span class="id" title="variable">Σ</span></a> <a class="idref" href="GMuAnnot.SubstMatch.html#72893360a9fa346b4fcb6a5e8ca542e9"><span class="id" title="variable">Δ1</span></a> <a class="idref" href="GMuAnnot.SubstMatch.html#O1:186"><span class="id" title="variable">O1</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="../lambda2Gmu/GMu.Definitions.html#wft"><span class="id" title="inductive">wft</span></a> <a class="idref" href="GMuAnnot.SubstMatch.html#15ce385211aa9e5e6049ba8e2de3ccb2"><span class="id" title="variable">Σ</span></a> <a class="idref" href="GMuAnnot.SubstMatch.html#72893360a9fa346b4fcb6a5e8ca542e9"><span class="id" title="variable">Δ1</span></a> <a class="idref" href="GMuAnnot.SubstMatch.html#U:189"><span class="id" title="variable">U</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="GMuAnnot.SubstMatch.html#X:188"><span class="id" title="variable">X</span></a> <span class="id" title="notation">\</span><span class="id" title="notation">notin</span> <a class="idref" href="../lambda2Gmu/GMu.Definitions.html#substitution_sources"><span class="id" title="definition">substitution_sources</span></a> (<a class="idref" href="GMuAnnot.SubstMatch.html#O1:186"><span class="id" title="variable">O1</span></a> <a class="idref" href="../lambda2Gmu/GMu.Definitions.html#3ca84bd817dd2b1e2f0f693cd9400702"><span class="id" title="notation">|,|</span></a> <a class="idref" href="GMuAnnot.SubstMatch.html#O2:187"><span class="id" title="variable">O2</span></a>) <a class="idref" href="http://coq.inria.fr/distrib/V8.13.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="GMuAnnot.SubstMatch.html#X:188"><span class="id" title="variable">X</span></a> <span class="id" title="notation">\</span><span class="id" title="notation">notin</span> <a class="idref" href="../lambda2Gmu/GMu.Definitions.html#e1e06a37011ebd9f9e861e05c79f4e29"><span class="id" title="definition">domΔ</span></a> (<a class="idref" href="GMuAnnot.SubstMatch.html#72893360a9fa346b4fcb6a5e8ca542e9"><span class="id" title="variable">Δ1</span></a> <a class="idref" href="../lambda2Gmu/GMu.Definitions.html#3ca84bd817dd2b1e2f0f693cd9400702"><span class="id" title="notation">|,|</span></a> <a class="idref" href="GMuAnnot.SubstMatch.html#ce88ac92da6d0cfcfb0c1be4297e589d"><span class="id" title="variable">Δ2</span></a>) <a class="idref" href="http://coq.inria.fr/distrib/V8.13.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="../lambda2Gmu/GMu.Definitions.html#subst_matches_typctx"><span class="id" title="inductive">subst_matches_typctx</span></a> <a class="idref" href="GMuAnnot.SubstMatch.html#15ce385211aa9e5e6049ba8e2de3ccb2"><span class="id" title="variable">Σ</span></a> (<a class="idref" href="GMuAnnot.SubstMatch.html#72893360a9fa346b4fcb6a5e8ca542e9"><span class="id" title="variable">Δ1</span></a> <a class="idref" href="../lambda2Gmu/GMu.Definitions.html#3ca84bd817dd2b1e2f0f693cd9400702"><span class="id" title="notation">|,|</span></a> <a class="idref" href="../lambda2Gmu/GMu.Definitions.html#b5ab1b23d5b56035820660ded1af9bea"><span class="id" title="notation">[</span></a><a class="idref" href="../lambda2Gmu/GMu.Definitions.html#tc_var"><span class="id" title="constructor">tc_var</span></a> <a class="idref" href="GMuAnnot.SubstMatch.html#X:188"><span class="id" title="variable">X</span></a><a class="idref" href="../lambda2Gmu/GMu.Definitions.html#b5ab1b23d5b56035820660ded1af9bea"><span class="id" title="notation">]*</span></a> <a class="idref" href="../lambda2Gmu/GMu.Definitions.html#3ca84bd817dd2b1e2f0f693cd9400702"><span class="id" title="notation">|,|</span></a> <a class="idref" href="GMuAnnot.SubstMatch.html#ce88ac92da6d0cfcfb0c1be4297e589d"><span class="id" title="variable">Δ2</span></a>) (<a class="idref" href="GMuAnnot.SubstMatch.html#O1:186"><span class="id" title="variable">O1</span></a> <a class="idref" href="../lambda2Gmu/GMu.Definitions.html#3ca84bd817dd2b1e2f0f693cd9400702"><span class="id" title="notation">|,|</span></a> <a class="idref" href="../lambda2Gmu/GMu.Definitions.html#b5ab1b23d5b56035820660ded1af9bea"><span class="id" title="notation">[</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.13.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">(</span></a><a class="idref" href="GMuAnnot.SubstMatch.html#X:188"><span class="id" title="variable">X</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.13.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a> <a class="idref" href="../lambda2Gmu/GMu.Definitions.html#subst_tt'"><span class="id" title="definition">subst_tt'</span></a> <a class="idref" href="GMuAnnot.SubstMatch.html#U:189"><span class="id" title="variable">U</span></a> <a class="idref" href="GMuAnnot.SubstMatch.html#O1:186"><span class="id" title="variable">O1</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.13.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">)</span></a><a class="idref" href="../lambda2Gmu/GMu.Definitions.html#b5ab1b23d5b56035820660ded1af9bea"><span class="id" title="notation">]*</span></a> <a class="idref" href="../lambda2Gmu/GMu.Definitions.html#3ca84bd817dd2b1e2f0f693cd9400702"><span class="id" title="notation">|,|</span></a> <a class="idref" href="GMuAnnot.SubstMatch.html#O2:187"><span class="id" title="variable">O2</span></a>).<br/>
&nbsp;&nbsp;<span class="id" title="tactic">induction</span> <span class="id" title="var">Δ2</span> <span class="id" title="keyword">as</span> [| [| [<span class="id" title="var">V1</span> <span class="id" title="var">V2</span>]]]; <span class="id" title="var">introv</span> <span class="id" title="var">M</span> <span class="id" title="var">M1</span> <span class="id" title="var">WFT</span> <span class="id" title="var">XO</span> <span class="id" title="var">XD</span>; <span class="id" title="var">cbn</span> <span class="id" title="tactic">in</span> ×.<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">destruct</span> <span class="id" title="var">O2</span> <span class="id" title="keyword">as</span> [| [<span class="id" title="var">Y</span> <span class="id" title="var">T</span>]].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="var">cbn</span> <span class="id" title="tactic">in</span> ×.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">constructor</span>; <span class="id" title="tactic">auto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">fold_subst_src</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span>× <a class="idref" href="GMuAnnot.SubstMatch.html#wft_subst_matching"><span class="id" title="lemma">wft_subst_matching</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="tactic">rewrite</span> &lt;- <a class="idref" href="http://coq.inria.fr/distrib/V8.13.0/stdlib//Coq.Lists.List.html#app_comm_cons"><span class="id" title="lemma">List.app_comm_cons</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">M</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">lets</span> [? [<span class="id" title="var">Δ'</span> [? <span class="id" title="var">HF</span>]]]: <a class="idref" href="GMuAnnot.SubstMatch.html#subst_match_remove_right_var3"><span class="id" title="lemma">subst_match_remove_right_var3</span></a> <span class="id" title="var">M</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">false</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">lets</span> <span class="id" title="var">HF1</span>: <a class="idref" href="GMuAnnot.SubstMatch.html#subst_sources_from_match"><span class="id" title="lemma">subst_sources_from_match</span></a> <span class="id" title="var">M</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">lets</span> <span class="id" title="var">HF2</span>: <a class="idref" href="GMuAnnot.SubstMatch.html#subst_sources_from_match"><span class="id" title="lemma">subst_sources_from_match</span></a> <span class="id" title="var">M1</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">cbn</span> <span class="id" title="tactic">in</span> <span class="id" title="var">HF1</span>. <span class="id" title="var">fold_subst_src</span>. <span class="id" title="tactic">rewrite</span> &lt;- <span class="id" title="var">HF2</span> <span class="id" title="tactic">in</span> <span class="id" title="var">HF1</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <span class="id" title="var">HF</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <a class="idref" href="GMuAnnot.InfrastructureFV.html#subst_src_app"><span class="id" title="lemma">subst_src_app</span></a>. <span class="id" title="tactic">rewrite</span> <span class="id" title="axiom">in_union</span>. <span class="id" title="tactic">left</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> &lt;- <span class="id" title="var">HF1</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <span class="id" title="axiom">in_union</span>. <span class="id" title="tactic">left</span>. <span class="id" title="tactic">apply</span> <span class="id" title="lemma">in_singleton_self</span>.<br/>
&nbsp;&nbsp;- <span class="id" title="var">inversions</span> <span class="id" title="var">M</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">O2</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="var">cbn</span> <span class="id" title="tactic">in</span> *; <span class="id" title="tactic">subst</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">false</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <a class="idref" href="GMuAnnot.InfrastructureFV.html#e986378a2a44bd3bcdda6d5b28752f62"><span class="id" title="lemma">notin_domΔ_eq</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">H5</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">H5</span> <span class="id" title="keyword">as</span> [<span class="id" title="var">HF</span>].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <span class="id" title="var">HF</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">lets</span> <span class="id" title="var">HF1</span>: <a class="idref" href="GMuAnnot.SubstMatch.html#subst_sources_from_match"><span class="id" title="lemma">subst_sources_from_match</span></a> <span class="id" title="var">M1</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> &lt;- <span class="id" title="var">HF1</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">cbn</span>. <span class="id" title="var">fold_subst_src</span>. <span class="id" title="tactic">rewrite</span> <span class="id" title="axiom">in_union</span>; <span class="id" title="tactic">left</span>; <span class="id" title="tactic">apply</span> <span class="id" title="lemma">in_singleton_self</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="tactic">destruct</span> <span class="id" title="var">p</span> <span class="id" title="keyword">as</span> [<span class="id" title="var">A'</span> <span class="id" title="var">T'</span>].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> &lt;- <a class="idref" href="http://coq.inria.fr/distrib/V8.13.0/stdlib//Coq.Lists.List.html#app_comm_cons"><span class="id" title="lemma">List.app_comm_cons</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">H1</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">inversions</span> <span class="id" title="var">H1</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">constructor</span>; <span class="id" title="tactic">auto</span>; <span class="id" title="tactic">try</span> <span class="id" title="tactic">fold</span> (<span class="id" title="var">O1</span> <a class="idref" href="../lambda2Gmu/GMu.Definitions.html#c75eef461fb5f0f666c2430395694606"><span class="id" title="notation">|,</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">(</span></a><span class="id" title="var">X</span><a class="idref" href="http://coq.inria.fr/distrib/V8.13.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a> <a class="idref" href="../lambda2Gmu/GMu.Definitions.html#subst_tt'"><span class="id" title="definition">subst_tt'</span></a> <span class="id" title="var">U</span> <span class="id" title="var">O1</span><a class="idref" href="http://coq.inria.fr/distrib/V8.13.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">)</span></a> <a class="idref" href="../lambda2Gmu/GMu.Definitions.html#3ca84bd817dd2b1e2f0f693cd9400702"><span class="id" title="notation">|,|</span></a> <span class="id" title="var">O2</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;× <span class="id" title="tactic">apply</span>¬ <span class="id" title="var">IHΔ2</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">cbn</span> <span class="id" title="tactic">in</span> <span class="id" title="var">XO</span>. <span class="id" title="var">fold_subst_src</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">lets</span>¬ : <span class="id" title="lemma">notin_union</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;× <span class="id" title="tactic">fold</span> (<span class="id" title="var">O1</span> <a class="idref" href="../lambda2Gmu/GMu.Definitions.html#3ca84bd817dd2b1e2f0f693cd9400702"><span class="id" title="notation">|,|</span></a> <a class="idref" href="../lambda2Gmu/GMu.Definitions.html#b5ab1b23d5b56035820660ded1af9bea"><span class="id" title="notation">[</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.13.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">(</span></a><span class="id" title="var">X</span><a class="idref" href="http://coq.inria.fr/distrib/V8.13.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a> <a class="idref" href="../lambda2Gmu/GMu.Definitions.html#subst_tt'"><span class="id" title="definition">subst_tt'</span></a> <span class="id" title="var">U</span> <span class="id" title="var">O1</span><a class="idref" href="http://coq.inria.fr/distrib/V8.13.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">)</span></a><a class="idref" href="../lambda2Gmu/GMu.Definitions.html#b5ab1b23d5b56035820660ded1af9bea"><span class="id" title="notation">]*</span></a>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">repeat</span> <span class="id" title="tactic">rewrite</span> <a class="idref" href="GMuAnnot.InfrastructureFV.html#subst_src_app"><span class="id" title="lemma">subst_src_app</span></a> <span class="id" title="tactic">in</span> ×.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">repeat</span> <span class="id" title="tactic">rewrite</span> <span class="id" title="lemma">notin_union</span> <span class="id" title="tactic">in</span> ×.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">H4</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">repeat</span> <span class="id" title="tactic">split</span>¬.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">cbn</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <span class="id" title="lemma">notin_union</span>; <span class="id" title="tactic">split</span>¬.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="GMuAnnot.Prelude.html#notin_inverse"><span class="id" title="lemma">notin_inverse</span></a>. <span class="id" title="tactic">destruct</span>¬ <span class="id" title="var">XD</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;× <span class="id" title="var">fold_delta</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">repeat</span> <span class="id" title="tactic">rewrite</span> <a class="idref" href="GMuAnnot.InfrastructureFV.html#domDelta_app"><span class="id" title="lemma">domDelta_app</span></a> <span class="id" title="tactic">in</span> ×.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">repeat</span> <span class="id" title="tactic">rewrite</span> <span class="id" title="lemma">notin_union</span> <span class="id" title="tactic">in</span> ×.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">H5</span> <span class="id" title="keyword">as</span> [? <span class="id" title="var">FD2</span>].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> &lt;- <a class="idref" href="GMuAnnot.InfrastructureFV.html#domDelta_subst_td"><span class="id" title="lemma">domDelta_subst_td</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">FD2</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">repeat</span> <span class="id" title="tactic">split</span>¬.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">cbn</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <span class="id" title="lemma">notin_union</span>; <span class="id" title="tactic">split</span>¬.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="GMuAnnot.Prelude.html#notin_inverse"><span class="id" title="lemma">notin_inverse</span></a>. <span class="id" title="tactic">destruct</span>¬ <span class="id" title="var">XD</span>.<br/>
&nbsp;&nbsp;- <span class="id" title="var">inversions</span> <span class="id" title="var">M</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">constructor</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="tactic">apply</span>× <span class="id" title="var">IHΔ2</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="var">lets</span>: <a class="idref" href="GMuAnnot.Equations.html#subst_has_no_fv"><span class="id" title="lemma">subst_has_no_fv</span></a> <span class="id" title="var">H3</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span>× <a class="idref" href="GMuAnnot.SubstMatch.html#subst_eq_reorder1"><span class="id" title="lemma">subst_eq_reorder1</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="GMuAnnot.InfrastructureFV.html#distinct_split1"><span class="id" title="lemma">distinct_split1</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> &lt;- <a class="idref" href="http://coq.inria.fr/distrib/V8.13.0/stdlib//Coq.Lists.List.html#map_app"><span class="id" title="lemma">List.map_app</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span>× <a class="idref" href="GMuAnnot.SubstMatch.html#sources_distinct"><span class="id" title="lemma">sources_distinct</span></a>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="subst_match_split" class="idref" href="#subst_match_split"><span class="id" title="lemma">subst_match_split</span></a> : <span class="id" title="keyword">∀</span> <a id="b2a195965d386570a3ea1c826f7e2031" class="idref" href="#b2a195965d386570a3ea1c826f7e2031"><span class="id" title="binder">Σ</span></a> <a id="cd253cf87d55fe9ed937a9082bea30f7" class="idref" href="#cd253cf87d55fe9ed937a9082bea30f7"><span class="id" title="binder">Δ1</span></a> <a id="1d2f4a722ac7dd51299e7287808a37ad" class="idref" href="#1d2f4a722ac7dd51299e7287808a37ad"><span class="id" title="binder">Δ2</span></a> <a id="O:193" class="idref" href="#O:193"><span class="id" title="binder">O</span></a>,<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="../lambda2Gmu/GMu.Definitions.html#subst_matches_typctx"><span class="id" title="inductive">subst_matches_typctx</span></a> <a class="idref" href="GMuAnnot.SubstMatch.html#b2a195965d386570a3ea1c826f7e2031"><span class="id" title="variable">Σ</span></a> (<a class="idref" href="GMuAnnot.SubstMatch.html#cd253cf87d55fe9ed937a9082bea30f7"><span class="id" title="variable">Δ1</span></a> <a class="idref" href="../lambda2Gmu/GMu.Definitions.html#3ca84bd817dd2b1e2f0f693cd9400702"><span class="id" title="notation">|,|</span></a> <a class="idref" href="GMuAnnot.SubstMatch.html#1d2f4a722ac7dd51299e7287808a37ad"><span class="id" title="variable">Δ2</span></a>) <a class="idref" href="GMuAnnot.SubstMatch.html#O:193"><span class="id" title="variable">O</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/V8.13.0/stdlib//Coq.Init.Logic.html#a883bdd010993579f99d60b3775bcf54"><span class="id" title="notation">∃</span></a> <a id="O1:194" class="idref" href="#O1:194"><span class="id" title="binder">O1</span></a> <a id="O2:195" class="idref" href="#O2:195"><span class="id" title="binder">O2</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.13.0/stdlib//Coq.Init.Logic.html#a883bdd010993579f99d60b3775bcf54"><span class="id" title="notation">,</span></a> <a class="idref" href="GMuAnnot.SubstMatch.html#O:193"><span class="id" title="variable">O</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="GMuAnnot.SubstMatch.html#O1:194"><span class="id" title="variable">O1</span></a> <a class="idref" href="../lambda2Gmu/GMu.Definitions.html#3ca84bd817dd2b1e2f0f693cd9400702"><span class="id" title="notation">|,|</span></a> <a class="idref" href="GMuAnnot.SubstMatch.html#O2:195"><span class="id" title="variable">O2</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.0/stdlib//Coq.Init.Logic.html#ba2b0e492d2b4675a0acf3ea92aabadd"><span class="id" title="notation">∧</span></a> <a class="idref" href="../lambda2Gmu/GMu.Definitions.html#subst_matches_typctx"><span class="id" title="inductive">subst_matches_typctx</span></a> <a class="idref" href="GMuAnnot.SubstMatch.html#b2a195965d386570a3ea1c826f7e2031"><span class="id" title="variable">Σ</span></a> <a class="idref" href="GMuAnnot.SubstMatch.html#cd253cf87d55fe9ed937a9082bea30f7"><span class="id" title="variable">Δ1</span></a> <a class="idref" href="GMuAnnot.SubstMatch.html#O1:194"><span class="id" title="variable">O1</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">induction</span> <span class="id" title="var">Δ2</span>; <span class="id" title="var">introv</span> <span class="id" title="var">M</span>; <span class="id" title="var">cbn</span> <span class="id" title="tactic">in</span> ×.<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">∃</span> <span class="id" title="var">O</span> (@<a class="idref" href="http://coq.inria.fr/distrib/V8.13.0/stdlib//Coq.Init.Datatypes.html#nil"><span class="id" title="constructor">nil</span></a> (<span class="id" title="axiom">var</span><a class="idref" href="http://coq.inria.fr/distrib/V8.13.0/stdlib//Coq.Init.Datatypes.html#11c698c8685bb8ab1cf725545c085ac4"><span class="id" title="notation">×</span></a><a class="idref" href="../lambda2Gmu/GMu.Definitions.html#typ"><span class="id" title="inductive">typ</span></a>)). <span class="id" title="tactic">auto</span>.<br/>
&nbsp;&nbsp;- <span class="id" title="var">inversions</span> <span class="id" title="var">M</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="var">lets</span> [<span class="id" title="var">O1</span> [<span class="id" title="var">O2</span> [<span class="id" title="var">EQ</span> <span class="id" title="var">M2</span>]]]: <span class="id" title="var">IHΔ2</span> <span class="id" title="var">H2</span>; <span class="id" title="tactic">subst</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">∃</span> <span class="id" title="var">O1</span> (<span class="id" title="var">O2</span> <a class="idref" href="../lambda2Gmu/GMu.Definitions.html#c75eef461fb5f0f666c2430395694606"><span class="id" title="notation">|,</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">(</span></a><span class="id" title="var">A</span><a class="idref" href="http://coq.inria.fr/distrib/V8.13.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a> <span class="id" title="var">T</span><a class="idref" href="http://coq.inria.fr/distrib/V8.13.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">)</span></a>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">auto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="tactic">apply</span> <span class="id" title="var">IHΔ2</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">auto</span>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="entails_through_subst" class="idref" href="#entails_through_subst"><span class="id" title="lemma">entails_through_subst</span></a> : <span class="id" title="keyword">∀</span> <a id="0d82cc8b7f207b2b18c7ca2bdebdd1ca" class="idref" href="#0d82cc8b7f207b2b18c7ca2bdebdd1ca"><span class="id" title="binder">Σ</span></a> <a id="6324aeae2ca89b14d4d7173a7cffbd33" class="idref" href="#6324aeae2ca89b14d4d7173a7cffbd33"><span class="id" title="binder">Δ1</span></a> <a id="2dd7eaa914ce7b656dfe1dbd02cd983c" class="idref" href="#2dd7eaa914ce7b656dfe1dbd02cd983c"><span class="id" title="binder">Δ2</span></a> <a id="Z:199" class="idref" href="#Z:199"><span class="id" title="binder">Z</span></a> <a id="P:200" class="idref" href="#P:200"><span class="id" title="binder">P</span></a> <a id="T1:201" class="idref" href="#T1:201"><span class="id" title="binder">T1</span></a> <a id="T2:202" class="idref" href="#T2:202"><span class="id" title="binder">T2</span></a>,<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="../lambda2Gmu/GMu.Definitions.html#entails_semantic"><span class="id" title="definition">entails_semantic</span></a> <a class="idref" href="GMuAnnot.SubstMatch.html#0d82cc8b7f207b2b18c7ca2bdebdd1ca"><span class="id" title="variable">Σ</span></a> (<a class="idref" href="GMuAnnot.SubstMatch.html#6324aeae2ca89b14d4d7173a7cffbd33"><span class="id" title="variable">Δ1</span></a> <a class="idref" href="../lambda2Gmu/GMu.Definitions.html#3ca84bd817dd2b1e2f0f693cd9400702"><span class="id" title="notation">|,|</span></a> <a class="idref" href="../lambda2Gmu/GMu.Definitions.html#b5ab1b23d5b56035820660ded1af9bea"><span class="id" title="notation">[</span></a><a class="idref" href="../lambda2Gmu/GMu.Definitions.html#tc_var"><span class="id" title="constructor">tc_var</span></a> <a class="idref" href="GMuAnnot.SubstMatch.html#Z:199"><span class="id" title="variable">Z</span></a><a class="idref" href="../lambda2Gmu/GMu.Definitions.html#b5ab1b23d5b56035820660ded1af9bea"><span class="id" title="notation">]*</span></a> <a class="idref" href="../lambda2Gmu/GMu.Definitions.html#3ca84bd817dd2b1e2f0f693cd9400702"><span class="id" title="notation">|,|</span></a> <a class="idref" href="GMuAnnot.SubstMatch.html#2dd7eaa914ce7b656dfe1dbd02cd983c"><span class="id" title="variable">Δ2</span></a>) (<a class="idref" href="GMuAnnot.SubstMatch.html#T1:201"><span class="id" title="variable">T1</span></a> <a class="idref" href="../lambda2Gmu/GMu.Definitions.html#8f9238d4eefe0b5c60a6c98165047666"><span class="id" title="notation">≡</span></a> <a class="idref" href="GMuAnnot.SubstMatch.html#T2:202"><span class="id" title="variable">T2</span></a>) <a class="idref" href="http://coq.inria.fr/distrib/V8.13.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="GMuAnnot.SubstMatch.html#Z:199"><span class="id" title="variable">Z</span></a> <span class="id" title="notation">\</span><span class="id" title="notation">notin</span> <a class="idref" href="../lambda2Gmu/GMu.Definitions.html#e1e06a37011ebd9f9e861e05c79f4e29"><span class="id" title="definition">domΔ</span></a> (<a class="idref" href="GMuAnnot.SubstMatch.html#6324aeae2ca89b14d4d7173a7cffbd33"><span class="id" title="variable">Δ1</span></a> <a class="idref" href="../lambda2Gmu/GMu.Definitions.html#3ca84bd817dd2b1e2f0f693cd9400702"><span class="id" title="notation">|,|</span></a> <a class="idref" href="GMuAnnot.SubstMatch.html#2dd7eaa914ce7b656dfe1dbd02cd983c"><span class="id" title="variable">Δ2</span></a>) <a class="idref" href="http://coq.inria.fr/distrib/V8.13.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="../lambda2Gmu/GMu.Definitions.html#wft"><span class="id" title="inductive">wft</span></a> <a class="idref" href="GMuAnnot.SubstMatch.html#0d82cc8b7f207b2b18c7ca2bdebdd1ca"><span class="id" title="variable">Σ</span></a> <a class="idref" href="GMuAnnot.SubstMatch.html#6324aeae2ca89b14d4d7173a7cffbd33"><span class="id" title="variable">Δ1</span></a> <a class="idref" href="GMuAnnot.SubstMatch.html#P:200"><span class="id" title="variable">P</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="../lambda2Gmu/GMu.Definitions.html#entails_semantic"><span class="id" title="definition">entails_semantic</span></a> <a class="idref" href="GMuAnnot.SubstMatch.html#0d82cc8b7f207b2b18c7ca2bdebdd1ca"><span class="id" title="variable">Σ</span></a> (<a class="idref" href="GMuAnnot.SubstMatch.html#6324aeae2ca89b14d4d7173a7cffbd33"><span class="id" title="variable">Δ1</span></a> <a class="idref" href="../lambda2Gmu/GMu.Definitions.html#3ca84bd817dd2b1e2f0f693cd9400702"><span class="id" title="notation">|,|</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.0/stdlib//Coq.Lists.List.html#map"><span class="id" title="definition">List.map</span></a> (<a class="idref" href="../lambda2Gmu/GMu.Definitions.html#subst_td"><span class="id" title="definition">subst_td</span></a> <a class="idref" href="GMuAnnot.SubstMatch.html#Z:199"><span class="id" title="variable">Z</span></a> <a class="idref" href="GMuAnnot.SubstMatch.html#P:200"><span class="id" title="variable">P</span></a>) <a class="idref" href="GMuAnnot.SubstMatch.html#2dd7eaa914ce7b656dfe1dbd02cd983c"><span class="id" title="variable">Δ2</span></a>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<a class="idref" href="../lambda2Gmu/GMu.Definitions.html#subst_tt"><span class="id" title="definition">subst_tt</span></a> <a class="idref" href="GMuAnnot.SubstMatch.html#Z:199"><span class="id" title="variable">Z</span></a> <a class="idref" href="GMuAnnot.SubstMatch.html#P:200"><span class="id" title="variable">P</span></a> <a class="idref" href="GMuAnnot.SubstMatch.html#T1:201"><span class="id" title="variable">T1</span></a> <a class="idref" href="../lambda2Gmu/GMu.Definitions.html#8f9238d4eefe0b5c60a6c98165047666"><span class="id" title="notation">≡</span></a> <a class="idref" href="../lambda2Gmu/GMu.Definitions.html#subst_tt"><span class="id" title="definition">subst_tt</span></a> <a class="idref" href="GMuAnnot.SubstMatch.html#Z:199"><span class="id" title="variable">Z</span></a> <a class="idref" href="GMuAnnot.SubstMatch.html#P:200"><span class="id" title="variable">P</span></a> <a class="idref" href="GMuAnnot.SubstMatch.html#T2:202"><span class="id" title="variable">T2</span></a>).<br/>
&nbsp;&nbsp;<span class="id" title="var">introv</span> <span class="id" title="var">Sem</span> <span class="id" title="var">ZFR</span> <span class="id" title="var">WFT</span>.<br/>
&nbsp;&nbsp;<span class="id" title="var">cbn</span> <span class="id" title="tactic">in</span> ×.<br/>
&nbsp;&nbsp;<span class="id" title="var">introv</span> <span class="id" title="var">M</span>.<br/>
&nbsp;&nbsp;<span class="id" title="var">lets</span> [<span class="id" title="var">O1</span> [<span class="id" title="var">O2</span> [? <span class="id" title="var">M1</span>]]]: <a class="idref" href="GMuAnnot.SubstMatch.html#subst_match_split"><span class="id" title="lemma">subst_match_split</span></a> <span class="id" title="var">M</span>; <span class="id" title="tactic">subst</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">assert</span> (<span class="id" title="keyword">∀</span> (<a id="X:205" class="idref" href="#X:205"><span class="id" title="binder">X</span></a> : <span class="id" title="axiom">var</span>) (<a id="U:206" class="idref" href="#U:206"><span class="id" title="binder">U</span></a> : <a class="idref" href="../lambda2Gmu/GMu.Definitions.html#typ"><span class="id" title="inductive">typ</span></a>), <a class="idref" href="http://coq.inria.fr/distrib/V8.13.0/stdlib//Coq.Lists.List.html#In"><span class="id" title="definition">List.In</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">(</span></a><a class="idref" href="GMuAnnot.SubstMatch.html#X:203"><span class="id" title="variable">X</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.13.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a> <a class="idref" href="GMuAnnot.SubstMatch.html#U:204"><span class="id" title="variable">U</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.13.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">)</span></a> (<span class="id" title="var">O1</span> <a class="idref" href="../lambda2Gmu/GMu.Definitions.html#3ca84bd817dd2b1e2f0f693cd9400702"><span class="id" title="notation">|,|</span></a> <span class="id" title="var">O2</span>) <a class="idref" href="http://coq.inria.fr/distrib/V8.13.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <span class="id" title="var">Z</span> <span class="id" title="notation">\</span><span class="id" title="notation">notin</span> <a class="idref" href="../lambda2Gmu/GMu.Definitions.html#fv_typ"><span class="id" title="definition">fv_typ</span></a> <a class="idref" href="GMuAnnot.SubstMatch.html#U:204"><span class="id" title="variable">U</span></a>).<br/>
&nbsp;&nbsp;1: {<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">introv</span> <span class="id" title="var">In</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">lets</span> <span class="id" title="var">FV</span>: <a class="idref" href="GMuAnnot.Equations.html#subst_has_no_fv"><span class="id" title="lemma">subst_has_no_fv</span></a> <span class="id" title="var">M</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span>¬ (<span class="id" title="var">FV</span> <span class="id" title="var">X</span>).<br/>
&nbsp;&nbsp;}<br/>
&nbsp;&nbsp;<span class="id" title="tactic">assert</span> (<span class="id" title="var">Z</span> <span class="id" title="notation">\</span><span class="id" title="notation">notin</span> <a class="idref" href="../lambda2Gmu/GMu.Definitions.html#substitution_sources"><span class="id" title="definition">substitution_sources</span></a> (<span class="id" title="var">O1</span> <a class="idref" href="../lambda2Gmu/GMu.Definitions.html#3ca84bd817dd2b1e2f0f693cd9400702"><span class="id" title="notation">|,|</span></a> <span class="id" title="var">O2</span>)).<br/>
&nbsp;&nbsp;1:{<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">lets</span> <span class="id" title="var">Src</span>: <a class="idref" href="GMuAnnot.SubstMatch.html#subst_sources_from_match"><span class="id" title="lemma">subst_sources_from_match</span></a> <span class="id" title="var">M</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <span class="id" title="var">Src</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <a class="idref" href="GMuAnnot.InfrastructureFV.html#domDelta_app"><span class="id" title="lemma">domDelta_app</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> &lt;- <a class="idref" href="GMuAnnot.InfrastructureFV.html#domDelta_subst_td"><span class="id" title="lemma">domDelta_subst_td</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span>¬ &lt;- <a class="idref" href="GMuAnnot.InfrastructureFV.html#domDelta_app"><span class="id" title="lemma">domDelta_app</span></a>.<br/>
&nbsp;&nbsp;}<br/>
&nbsp;&nbsp;<span class="id" title="var">forwards</span>¬ <span class="id" title="var">M2</span>: <a class="idref" href="GMuAnnot.SubstMatch.html#subst_remove_used_var"><span class="id" title="lemma">subst_remove_used_var</span></a> <span class="id" title="var">M</span> <span class="id" title="var">M1</span>.<br/>
&nbsp;&nbsp;<span class="id" title="var">lets</span>: <span class="id" title="var">Sem</span> <span class="id" title="var">M2</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">repeat</span> <span class="id" title="tactic">rewrite</span>¬ <a class="idref" href="GMuAnnot.InfrastructureSubstPrim.html#subst_tt_inside"><span class="id" title="lemma">subst_tt_inside</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="var">lets</span> <span class="id" title="var">FV</span>: <a class="idref" href="GMuAnnot.Equations.html#subst_has_no_fv"><span class="id" title="lemma">subst_has_no_fv</span></a> <span class="id" title="var">M</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">apply</span>× <a class="idref" href="GMuAnnot.SubstMatch.html#subst_eq_reorder2"><span class="id" title="lemma">subst_eq_reorder2</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="GMuAnnot.InfrastructureFV.html#distinct_split1"><span class="id" title="lemma">distinct_split1</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> &lt;- <a class="idref" href="http://coq.inria.fr/distrib/V8.13.0/stdlib//Coq.Lists.List.html#map_app"><span class="id" title="lemma">List.map_app</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">apply</span>× <a class="idref" href="GMuAnnot.SubstMatch.html#sources_distinct"><span class="id" title="lemma">sources_distinct</span></a>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Opaque</span> <a class="idref" href="../lambda2Gmu/GMu.Definitions.html#entails_semantic"><span class="id" title="definition">entails_semantic</span></a>.<br/>
<span class="id" title="keyword">Lemma</span> <a id="equations_weaken_match" class="idref" href="#equations_weaken_match"><span class="id" title="lemma">equations_weaken_match</span></a> : <span class="id" title="keyword">∀</span> <a id="2008e4a6f6b0fd127aa6f855da30ec04" class="idref" href="#2008e4a6f6b0fd127aa6f855da30ec04"><span class="id" title="binder">Σ</span></a> <a id="06c892cbdbfb8f127050ff837491e362" class="idref" href="#06c892cbdbfb8f127050ff837491e362"><span class="id" title="binder">Δ</span></a> <a id="As:209" class="idref" href="#As:209"><span class="id" title="binder">As</span></a> <a id="Ts:210" class="idref" href="#Ts:210"><span class="id" title="binder">Ts</span></a> <a id="Us:211" class="idref" href="#Us:211"><span class="id" title="binder">Us</span></a> <a id="T1:212" class="idref" href="#T1:212"><span class="id" title="binder">T1</span></a> <a id="T2:213" class="idref" href="#T2:213"><span class="id" title="binder">T2</span></a>,<br/>
&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/V8.13.0/stdlib//Coq.Lists.List.html#length"><span class="id" title="abbreviation">List.length</span></a> <a class="idref" href="GMuAnnot.SubstMatch.html#Ts:210"><span class="id" title="variable">Ts</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.0/stdlib//Coq.Lists.List.html#length"><span class="id" title="abbreviation">List.length</span></a> <a class="idref" href="GMuAnnot.SubstMatch.html#Us:211"><span class="id" title="variable">Us</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="../lambda2Gmu/GMu.Definitions.html#entails_semantic"><span class="id" title="definition">entails_semantic</span></a> <a class="idref" href="GMuAnnot.SubstMatch.html#2008e4a6f6b0fd127aa6f855da30ec04"><span class="id" title="variable">Σ</span></a> <a class="idref" href="GMuAnnot.SubstMatch.html#06c892cbdbfb8f127050ff837491e362"><span class="id" title="variable">Δ</span></a> (<a class="idref" href="GMuAnnot.SubstMatch.html#T1:212"><span class="id" title="variable">T1</span></a> <a class="idref" href="../lambda2Gmu/GMu.Definitions.html#8f9238d4eefe0b5c60a6c98165047666"><span class="id" title="notation">≡</span></a> <a class="idref" href="GMuAnnot.SubstMatch.html#T2:213"><span class="id" title="variable">T2</span></a>) <a class="idref" href="http://coq.inria.fr/distrib/V8.13.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="../lambda2Gmu/GMu.Definitions.html#entails_semantic"><span class="id" title="definition">entails_semantic</span></a> <a class="idref" href="GMuAnnot.SubstMatch.html#2008e4a6f6b0fd127aa6f855da30ec04"><span class="id" title="variable">Σ</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;(<a class="idref" href="GMuAnnot.SubstMatch.html#06c892cbdbfb8f127050ff837491e362"><span class="id" title="variable">Δ</span></a> <a class="idref" href="../lambda2Gmu/GMu.Definitions.html#3ca84bd817dd2b1e2f0f693cd9400702"><span class="id" title="notation">|,|</span></a> <a class="idref" href="../lambda2Gmu/GMu.Definitions.html#tc_vars"><span class="id" title="definition">tc_vars</span></a> <a class="idref" href="GMuAnnot.SubstMatch.html#As:209"><span class="id" title="variable">As</span></a> <a class="idref" href="../lambda2Gmu/GMu.Definitions.html#3ca84bd817dd2b1e2f0f693cd9400702"><span class="id" title="notation">|,|</span></a> <a class="idref" href="../lambda2Gmu/GMu.Definitions.html#equations_from_lists"><span class="id" title="definition">equations_from_lists</span></a> <a class="idref" href="GMuAnnot.SubstMatch.html#Ts:210"><span class="id" title="variable">Ts</span></a> <a class="idref" href="GMuAnnot.SubstMatch.html#Us:211"><span class="id" title="variable">Us</span></a>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;(<a class="idref" href="GMuAnnot.SubstMatch.html#T1:212"><span class="id" title="variable">T1</span></a> <a class="idref" href="../lambda2Gmu/GMu.Definitions.html#8f9238d4eefe0b5c60a6c98165047666"><span class="id" title="notation">≡</span></a> <a class="idref" href="GMuAnnot.SubstMatch.html#T2:213"><span class="id" title="variable">T2</span></a>).<br/>
&nbsp;&nbsp;<span class="id" title="tactic">induction</span> <span class="id" title="var">Ts</span> <span class="id" title="keyword">as</span> [| <span class="id" title="var">T</span> <span class="id" title="var">Ts</span>]; <span class="id" title="var">introv</span> <span class="id" title="var">Len</span> <span class="id" title="var">Sem</span>.<br/>
&nbsp;&nbsp;- <span class="id" title="var">cbn</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">induction</span> <span class="id" title="var">As</span> <span class="id" title="keyword">as</span> [| <span class="id" title="var">A</span> <span class="id" title="var">As</span>].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="var">cbn</span>. <span class="id" title="tactic">auto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="var">cbn</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">fold</span> (<a class="idref" href="../lambda2Gmu/GMu.Definitions.html#tc_vars"><span class="id" title="definition">tc_vars</span></a> <span class="id" title="var">As</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">fold_delta</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> &lt;- (<a class="idref" href="http://coq.inria.fr/distrib/V8.13.0/stdlib//Coq.Lists.List.html#app_nil_l"><span class="id" title="lemma">List.app_nil_l</span></a> (<span class="id" title="var">Δ</span> <a class="idref" href="../lambda2Gmu/GMu.Definitions.html#3ca84bd817dd2b1e2f0f693cd9400702"><span class="id" title="notation">|,|</span></a> <a class="idref" href="../lambda2Gmu/GMu.Definitions.html#tc_vars"><span class="id" title="definition">tc_vars</span></a> <span class="id" title="var">As</span> <a class="idref" href="../lambda2Gmu/GMu.Definitions.html#3ca84bd817dd2b1e2f0f693cd9400702"><span class="id" title="notation">|,|</span></a> <a class="idref" href="../lambda2Gmu/GMu.Definitions.html#b5ab1b23d5b56035820660ded1af9bea"><span class="id" title="notation">[</span></a><a class="idref" href="../lambda2Gmu/GMu.Definitions.html#tc_var"><span class="id" title="constructor">tc_var</span></a> <span class="id" title="var">A</span><a class="idref" href="../lambda2Gmu/GMu.Definitions.html#b5ab1b23d5b56035820660ded1af9bea"><span class="id" title="notation">]*</span></a>)).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span>¬ <a class="idref" href="GMuAnnot.SubstMatch.html#equation_weaken_var"><span class="id" title="lemma">equation_weaken_var</span></a>; <span class="id" title="var">cbn</span>; <span class="id" title="tactic">auto</span>.<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">destruct</span> <span class="id" title="var">Us</span> <span class="id" title="keyword">as</span> [| <span class="id" title="var">U</span> <span class="id" title="var">Us</span>].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="tactic">inversion</span> <span class="id" title="var">Len</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="var">cbn</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">fold</span> (<a class="idref" href="../lambda2Gmu/GMu.Definitions.html#equations_from_lists"><span class="id" title="definition">equations_from_lists</span></a> <span class="id" title="var">Ts</span> <span class="id" title="var">Us</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">fold_delta</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> &lt;- (<a class="idref" href="http://coq.inria.fr/distrib/V8.13.0/stdlib//Coq.Lists.List.html#app_nil_l"><span class="id" title="lemma">List.app_nil_l</span></a> (<span class="id" title="var">Δ</span> <a class="idref" href="../lambda2Gmu/GMu.Definitions.html#3ca84bd817dd2b1e2f0f693cd9400702"><span class="id" title="notation">|,|</span></a> <a class="idref" href="../lambda2Gmu/GMu.Definitions.html#tc_vars"><span class="id" title="definition">tc_vars</span></a> <span class="id" title="var">As</span> <a class="idref" href="../lambda2Gmu/GMu.Definitions.html#3ca84bd817dd2b1e2f0f693cd9400702"><span class="id" title="notation">|,|</span></a> <a class="idref" href="../lambda2Gmu/GMu.Definitions.html#equations_from_lists"><span class="id" title="definition">equations_from_lists</span></a> <span class="id" title="var">Ts</span> <span class="id" title="var">Us</span> <a class="idref" href="../lambda2Gmu/GMu.Definitions.html#3ca84bd817dd2b1e2f0f693cd9400702"><span class="id" title="notation">|,|</span></a> <a class="idref" href="../lambda2Gmu/GMu.Definitions.html#b5ab1b23d5b56035820660ded1af9bea"><span class="id" title="notation">[</span></a><a class="idref" href="../lambda2Gmu/GMu.Definitions.html#tc_eq"><span class="id" title="constructor">tc_eq</span></a> (<span class="id" title="var">T</span> <a class="idref" href="../lambda2Gmu/GMu.Definitions.html#8f9238d4eefe0b5c60a6c98165047666"><span class="id" title="notation">≡</span></a> <span class="id" title="var">U</span>)<a class="idref" href="../lambda2Gmu/GMu.Definitions.html#b5ab1b23d5b56035820660ded1af9bea"><span class="id" title="notation">]*</span></a>)).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="GMuAnnot.SubstMatch.html#equation_weaken_eq"><span class="id" title="lemma">equation_weaken_eq</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.0/stdlib//Coq.Lists.List.html#app_nil_l"><span class="id" title="lemma">List.app_nil_l</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span>× <span class="id" title="var">IHTs</span>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>
<span class="id" title="keyword">Transparent</span> <a class="idref" href="../lambda2Gmu/GMu.Definitions.html#entails_semantic"><span class="id" title="definition">entails_semantic</span></a>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="teq_open" class="idref" href="#teq_open"><span class="id" title="lemma">teq_open</span></a> : <span class="id" title="keyword">∀</span> <a id="e86bbde777236a61b5ad1abac5d71e29" class="idref" href="#e86bbde777236a61b5ad1abac5d71e29"><span class="id" title="binder">Σ</span></a> <a id="6aa41d12b4e5cf00f25ad4e99818767c" class="idref" href="#6aa41d12b4e5cf00f25ad4e99818767c"><span class="id" title="binder">Δ</span></a> <a id="T1:216" class="idref" href="#T1:216"><span class="id" title="binder">T1</span></a> <a id="T2:217" class="idref" href="#T2:217"><span class="id" title="binder">T2</span></a> <a id="T:218" class="idref" href="#T:218"><span class="id" title="binder">T</span></a>,<br/>
&nbsp;&nbsp;<a class="idref" href="../lambda2Gmu/GMu.Definitions.html#entails_semantic"><span class="id" title="definition">entails_semantic</span></a> <a class="idref" href="GMuAnnot.SubstMatch.html#e86bbde777236a61b5ad1abac5d71e29"><span class="id" title="variable">Σ</span></a> <a class="idref" href="GMuAnnot.SubstMatch.html#6aa41d12b4e5cf00f25ad4e99818767c"><span class="id" title="variable">Δ</span></a> (<a class="idref" href="GMuAnnot.SubstMatch.html#T1:216"><span class="id" title="variable">T1</span></a> <a class="idref" href="../lambda2Gmu/GMu.Definitions.html#8f9238d4eefe0b5c60a6c98165047666"><span class="id" title="notation">≡</span></a> <a class="idref" href="GMuAnnot.SubstMatch.html#T2:217"><span class="id" title="variable">T2</span></a>) <a class="idref" href="http://coq.inria.fr/distrib/V8.13.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="../lambda2Gmu/GMu.Definitions.html#entails_semantic"><span class="id" title="definition">entails_semantic</span></a> <a class="idref" href="GMuAnnot.SubstMatch.html#e86bbde777236a61b5ad1abac5d71e29"><span class="id" title="variable">Σ</span></a> <a class="idref" href="GMuAnnot.SubstMatch.html#6aa41d12b4e5cf00f25ad4e99818767c"><span class="id" title="variable">Δ</span></a> (<a class="idref" href="../lambda2Gmu/GMu.Definitions.html#open_tt"><span class="id" title="definition">open_tt</span></a> <a class="idref" href="GMuAnnot.SubstMatch.html#T1:216"><span class="id" title="variable">T1</span></a> <a class="idref" href="GMuAnnot.SubstMatch.html#T:218"><span class="id" title="variable">T</span></a> <a class="idref" href="../lambda2Gmu/GMu.Definitions.html#8f9238d4eefe0b5c60a6c98165047666"><span class="id" title="notation">≡</span></a> <a class="idref" href="../lambda2Gmu/GMu.Definitions.html#open_tt"><span class="id" title="definition">open_tt</span></a> <a class="idref" href="GMuAnnot.SubstMatch.html#T2:217"><span class="id" title="variable">T2</span></a> <a class="idref" href="GMuAnnot.SubstMatch.html#T:218"><span class="id" title="variable">T</span></a>).<br/>
&nbsp;&nbsp;<span class="id" title="var">introv</span> <span class="id" title="var">Sem</span>.<br/>
&nbsp;&nbsp;<span class="id" title="var">cbn</span> <span class="id" title="tactic">in</span> ×.<br/>
&nbsp;&nbsp;<span class="id" title="var">introv</span> <span class="id" title="var">M</span>.<br/>
&nbsp;&nbsp;<span class="id" title="var">lets</span>: <a class="idref" href="GMuAnnot.SubstMatch.html#subst_has_closed"><span class="id" title="lemma">subst_has_closed</span></a> <span class="id" title="var">M</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">repeat</span> <span class="id" title="tactic">rewrite</span>¬ <a class="idref" href="GMuAnnot.InfrastructureSubstPrim.html#subst_ttprim_open_tt"><span class="id" title="lemma">subst_ttprim_open_tt</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">f_equal</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">apply</span>¬ <span class="id" title="var">Sem</span>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="subst_eq_weaken2" class="idref" href="#subst_eq_weaken2"><span class="id" title="lemma">subst_eq_weaken2</span></a> : <span class="id" title="keyword">∀</span> <a id="O1:219" class="idref" href="#O1:219"><span class="id" title="binder">O1</span></a> <a id="O2:220" class="idref" href="#O2:220"><span class="id" title="binder">O2</span></a> <a id="T1:221" class="idref" href="#T1:221"><span class="id" title="binder">T1</span></a> <a id="T2:222" class="idref" href="#T2:222"><span class="id" title="binder">T2</span></a> <a id="E:223" class="idref" href="#E:223"><span class="id" title="binder">E</span></a> <a id="D:224" class="idref" href="#D:224"><span class="id" title="binder">D</span></a>,<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="../lambda2Gmu/GMu.Definitions.html#subst_matches_typctx"><span class="id" title="inductive">subst_matches_typctx</span></a> <a class="idref" href="GMuAnnot.SubstMatch.html#E:223"><span class="id" title="variable">E</span></a> <a class="idref" href="GMuAnnot.SubstMatch.html#D:224"><span class="id" title="variable">D</span></a> (<a class="idref" href="GMuAnnot.SubstMatch.html#O1:219"><span class="id" title="variable">O1</span></a> <a class="idref" href="../lambda2Gmu/GMu.Definitions.html#3ca84bd817dd2b1e2f0f693cd9400702"><span class="id" title="notation">|,|</span></a> <a class="idref" href="GMuAnnot.SubstMatch.html#O2:220"><span class="id" title="variable">O2</span></a>) <a class="idref" href="http://coq.inria.fr/distrib/V8.13.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="../lambda2Gmu/GMu.Definitions.html#subst_tt'"><span class="id" title="definition">subst_tt'</span></a> <a class="idref" href="GMuAnnot.SubstMatch.html#T1:221"><span class="id" title="variable">T1</span></a> <a class="idref" href="GMuAnnot.SubstMatch.html#O1:219"><span class="id" title="variable">O1</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="../lambda2Gmu/GMu.Definitions.html#subst_tt'"><span class="id" title="definition">subst_tt'</span></a> <a class="idref" href="GMuAnnot.SubstMatch.html#T2:222"><span class="id" title="variable">T2</span></a> <a class="idref" href="GMuAnnot.SubstMatch.html#O1:219"><span class="id" title="variable">O1</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="../lambda2Gmu/GMu.Definitions.html#subst_tt'"><span class="id" title="definition">subst_tt'</span></a> <a class="idref" href="GMuAnnot.SubstMatch.html#T1:221"><span class="id" title="variable">T1</span></a> (<a class="idref" href="GMuAnnot.SubstMatch.html#O1:219"><span class="id" title="variable">O1</span></a> <a class="idref" href="../lambda2Gmu/GMu.Definitions.html#3ca84bd817dd2b1e2f0f693cd9400702"><span class="id" title="notation">|,|</span></a> <a class="idref" href="GMuAnnot.SubstMatch.html#O2:220"><span class="id" title="variable">O2</span></a>) <a class="idref" href="http://coq.inria.fr/distrib/V8.13.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="../lambda2Gmu/GMu.Definitions.html#subst_tt'"><span class="id" title="definition">subst_tt'</span></a> <a class="idref" href="GMuAnnot.SubstMatch.html#T2:222"><span class="id" title="variable">T2</span></a> (<a class="idref" href="GMuAnnot.SubstMatch.html#O1:219"><span class="id" title="variable">O1</span></a> <a class="idref" href="../lambda2Gmu/GMu.Definitions.html#3ca84bd817dd2b1e2f0f693cd9400702"><span class="id" title="notation">|,|</span></a> <a class="idref" href="GMuAnnot.SubstMatch.html#O2:220"><span class="id" title="variable">O2</span></a>).<br/>
&nbsp;&nbsp;<span class="id" title="tactic">induction</span> <span class="id" title="var">O2</span> <span class="id" title="keyword">as</span> [| [<span class="id" title="var">A</span> <span class="id" title="var">U</span>]]; <span class="id" title="var">introv</span> <span class="id" title="var">M</span> <span class="id" title="var">EQ</span>; <span class="id" title="var">cbn</span> <span class="id" title="tactic">in</span> *; <span class="id" title="tactic">auto</span>.<br/>
&nbsp;&nbsp;<span class="id" title="var">lets</span> [? [<span class="id" title="var">D2</span> [? <span class="id" title="var">Src</span>]]]: <a class="idref" href="GMuAnnot.SubstMatch.html#subst_match_remove_right_var3"><span class="id" title="lemma">subst_match_remove_right_var3</span></a> <span class="id" title="var">M</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">apply</span>× <span class="id" title="var">IHO2</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">assert</span> (<span class="id" title="keyword">∀</span> (<a id="X:227" class="idref" href="#X:227"><span class="id" title="binder">X</span></a> : <span class="id" title="axiom">var</span>) (<a id="U0:228" class="idref" href="#U0:228"><span class="id" title="binder">U0</span></a> : <a class="idref" href="../lambda2Gmu/GMu.Definitions.html#typ"><span class="id" title="inductive">typ</span></a>), <a class="idref" href="http://coq.inria.fr/distrib/V8.13.0/stdlib//Coq.Lists.List.html#In"><span class="id" title="definition">List.In</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">(</span></a><a class="idref" href="GMuAnnot.SubstMatch.html#X:225"><span class="id" title="variable">X</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.13.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a> <a class="idref" href="GMuAnnot.SubstMatch.html#U0:226"><span class="id" title="variable">U0</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.13.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">)</span></a> <span class="id" title="var">O1</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <span class="id" title="var">A</span> <span class="id" title="notation">\</span><span class="id" title="notation">notin</span> <a class="idref" href="../lambda2Gmu/GMu.Definitions.html#fv_typ"><span class="id" title="definition">fv_typ</span></a> <a class="idref" href="GMuAnnot.SubstMatch.html#U0:226"><span class="id" title="variable">U0</span></a>).<br/>
&nbsp;&nbsp;- <span class="id" title="var">lets</span> <span class="id" title="var">FV</span>: <a class="idref" href="GMuAnnot.Equations.html#subst_has_no_fv"><span class="id" title="lemma">subst_has_no_fv</span></a> <span class="id" title="var">M</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">introv</span> <span class="id" title="var">In</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span>¬ (<span class="id" title="var">FV</span> <span class="id" title="var">X</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">cbn</span>. <span class="id" title="tactic">right</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.0/stdlib//Coq.Lists.List.html#in_or_app"><span class="id" title="lemma">List.in_or_app</span></a>. <span class="id" title="tactic">right</span>¬.<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">rewrite</span> <a class="idref" href="GMuAnnot.InfrastructureFV.html#subst_src_app"><span class="id" title="lemma">subst_src_app</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">Src</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <span class="id" title="lemma">notin_union</span> <span class="id" title="tactic">in</span> <span class="id" title="var">Src</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">Src</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">repeat</span> <span class="id" title="tactic">rewrite</span>× <a class="idref" href="GMuAnnot.InfrastructureSubstPrim.html#subst_tt_inside"><span class="id" title="lemma">subst_tt_inside</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">f_equal</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">auto</span>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="subst_match_inv_missing_var" class="idref" href="#subst_match_inv_missing_var"><span class="id" title="lemma">subst_match_inv_missing_var</span></a> : <span class="id" title="keyword">∀</span> <a id="fd00ad96bddd6de4e947f2f06459212f" class="idref" href="#fd00ad96bddd6de4e947f2f06459212f"><span class="id" title="binder">Σ</span></a> <a id="D1:230" class="idref" href="#D1:230"><span class="id" title="binder">D1</span></a> <a id="O:231" class="idref" href="#O:231"><span class="id" title="binder">O</span></a> <a id="D2:232" class="idref" href="#D2:232"><span class="id" title="binder">D2</span></a> <a id="A:233" class="idref" href="#A:233"><span class="id" title="binder">A</span></a> <a id="T:234" class="idref" href="#T:234"><span class="id" title="binder">T</span></a>,<br/>
&nbsp;&nbsp;<a class="idref" href="../lambda2Gmu/GMu.Definitions.html#subst_matches_typctx"><span class="id" title="inductive">subst_matches_typctx</span></a> <a class="idref" href="GMuAnnot.SubstMatch.html#fd00ad96bddd6de4e947f2f06459212f"><span class="id" title="variable">Σ</span></a> <a class="idref" href="GMuAnnot.SubstMatch.html#D1:230"><span class="id" title="variable">D1</span></a> (<a class="idref" href="GMuAnnot.SubstMatch.html#O:231"><span class="id" title="variable">O</span></a> <a class="idref" href="../lambda2Gmu/GMu.Definitions.html#c75eef461fb5f0f666c2430395694606"><span class="id" title="notation">|,</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">(</span></a><a class="idref" href="GMuAnnot.SubstMatch.html#A:233"><span class="id" title="variable">A</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.13.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a> <a class="idref" href="GMuAnnot.SubstMatch.html#T:234"><span class="id" title="variable">T</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.13.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">)</span></a>) <a class="idref" href="http://coq.inria.fr/distrib/V8.13.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="../lambda2Gmu/GMu.Definitions.html#subst_matches_typctx"><span class="id" title="inductive">subst_matches_typctx</span></a> <a class="idref" href="GMuAnnot.SubstMatch.html#fd00ad96bddd6de4e947f2f06459212f"><span class="id" title="variable">Σ</span></a> (<a class="idref" href="GMuAnnot.SubstMatch.html#D1:230"><span class="id" title="variable">D1</span></a> <a class="idref" href="../lambda2Gmu/GMu.Definitions.html#3ca84bd817dd2b1e2f0f693cd9400702"><span class="id" title="notation">|,|</span></a> <a class="idref" href="GMuAnnot.SubstMatch.html#D2:232"><span class="id" title="variable">D2</span></a>) <a class="idref" href="GMuAnnot.SubstMatch.html#O:231"><span class="id" title="variable">O</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/V8.13.0/stdlib//Coq.Init.Logic.html#False"><span class="id" title="inductive">False</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="var">introv</span> <span class="id" title="var">M1</span> <span class="id" title="var">M2</span>.<br/>
&nbsp;&nbsp;<span class="id" title="var">lets</span> [? [<span class="id" title="var">D0</span> [? <span class="id" title="var">HF</span>]]]: <a class="idref" href="GMuAnnot.SubstMatch.html#subst_match_remove_right_var3"><span class="id" title="lemma">subst_match_remove_right_var3</span></a> <span class="id" title="var">M1</span>; <span class="id" title="tactic">subst</span>.<br/>
&nbsp;&nbsp;<span class="comment">(*&nbsp;lets&nbsp;<span class="inlinecode">?</span> <span class="inlinecode">[<span class="id" title="var">D0</span></span> <span class="inlinecode">[<span class="id" title="var">D0'</span></span> <span class="inlinecode">[<span class="id" title="var">M0</span></span> <span class="inlinecode">[?</span> <span class="inlinecode">?]]]]</span>:&nbsp;subst_match_remove_right_var4&nbsp;M1;&nbsp;subst.&nbsp;*)</span><br/>
&nbsp;&nbsp;<span class="id" title="var">lets</span> <span class="id" title="var">S1</span>: <a class="idref" href="GMuAnnot.SubstMatch.html#subst_sources_from_match"><span class="id" title="lemma">subst_sources_from_match</span></a> <span class="id" title="var">M1</span>.<br/>
&nbsp;&nbsp;<span class="id" title="var">lets</span> <span class="id" title="var">S2</span>: <a class="idref" href="GMuAnnot.SubstMatch.html#subst_sources_from_match"><span class="id" title="lemma">subst_sources_from_match</span></a> <span class="id" title="var">M2</span>.<br/>
&nbsp;&nbsp;<span class="id" title="var">cbn</span> <span class="id" title="tactic">in</span> <span class="id" title="var">S1</span>. <span class="id" title="var">fold_subst_src</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <a class="idref" href="GMuAnnot.InfrastructureFV.html#domDelta_app"><span class="id" title="lemma">domDelta_app</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">S2</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <span class="id" title="var">HF</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <span class="id" title="var">S2</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <span class="id" title="axiom">in_union</span>. <span class="id" title="tactic">left</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> &lt;- <span class="id" title="var">S1</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <span class="id" title="axiom">in_union</span>. <span class="id" title="tactic">left</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <span class="id" title="lemma">in_singleton_self</span>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="subst_strengthen_true_eq" class="idref" href="#subst_strengthen_true_eq"><span class="id" title="lemma">subst_strengthen_true_eq</span></a> : <span class="id" title="keyword">∀</span> <a id="882fcf1fe94e59b388c5dc19a766ec48" class="idref" href="#882fcf1fe94e59b388c5dc19a766ec48"><span class="id" title="binder">Σ</span></a> <a id="116119c3bbf39d0a90548bd70b1030f7" class="idref" href="#116119c3bbf39d0a90548bd70b1030f7"><span class="id" title="binder">Δ1</span></a> <a id="e9f1c7e66c9ba5b8c3daa7fed9e61835" class="idref" href="#e9f1c7e66c9ba5b8c3daa7fed9e61835"><span class="id" title="binder">Δ2</span></a> <a id="O1:238" class="idref" href="#O1:238"><span class="id" title="binder">O1</span></a> <a id="O2:239" class="idref" href="#O2:239"><span class="id" title="binder">O2</span></a> <a id="U1:240" class="idref" href="#U1:240"><span class="id" title="binder">U1</span></a> <a id="U2:241" class="idref" href="#U2:241"><span class="id" title="binder">U2</span></a>,<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="../lambda2Gmu/GMu.Definitions.html#subst_matches_typctx"><span class="id" title="inductive">subst_matches_typctx</span></a> <a class="idref" href="GMuAnnot.SubstMatch.html#882fcf1fe94e59b388c5dc19a766ec48"><span class="id" title="variable">Σ</span></a> <a class="idref" href="GMuAnnot.SubstMatch.html#116119c3bbf39d0a90548bd70b1030f7"><span class="id" title="variable">Δ1</span></a> <a class="idref" href="GMuAnnot.SubstMatch.html#O1:238"><span class="id" title="variable">O1</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="../lambda2Gmu/GMu.Definitions.html#subst_matches_typctx"><span class="id" title="inductive">subst_matches_typctx</span></a> <a class="idref" href="GMuAnnot.SubstMatch.html#882fcf1fe94e59b388c5dc19a766ec48"><span class="id" title="variable">Σ</span></a> (<a class="idref" href="GMuAnnot.SubstMatch.html#116119c3bbf39d0a90548bd70b1030f7"><span class="id" title="variable">Δ1</span></a> <a class="idref" href="../lambda2Gmu/GMu.Definitions.html#3ca84bd817dd2b1e2f0f693cd9400702"><span class="id" title="notation">|,|</span></a> <a class="idref" href="GMuAnnot.SubstMatch.html#e9f1c7e66c9ba5b8c3daa7fed9e61835"><span class="id" title="variable">Δ2</span></a>) (<a class="idref" href="GMuAnnot.SubstMatch.html#O1:238"><span class="id" title="variable">O1</span></a> <a class="idref" href="../lambda2Gmu/GMu.Definitions.html#3ca84bd817dd2b1e2f0f693cd9400702"><span class="id" title="notation">|,|</span></a> <a class="idref" href="GMuAnnot.SubstMatch.html#O2:239"><span class="id" title="variable">O2</span></a>) <a class="idref" href="http://coq.inria.fr/distrib/V8.13.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="../lambda2Gmu/GMu.Definitions.html#subst_tt'"><span class="id" title="definition">subst_tt'</span></a> <a class="idref" href="GMuAnnot.SubstMatch.html#U1:240"><span class="id" title="variable">U1</span></a> <a class="idref" href="GMuAnnot.SubstMatch.html#O1:238"><span class="id" title="variable">O1</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="../lambda2Gmu/GMu.Definitions.html#subst_tt'"><span class="id" title="definition">subst_tt'</span></a> <a class="idref" href="GMuAnnot.SubstMatch.html#U2:241"><span class="id" title="variable">U2</span></a> <a class="idref" href="GMuAnnot.SubstMatch.html#O1:238"><span class="id" title="variable">O1</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="../lambda2Gmu/GMu.Definitions.html#subst_matches_typctx"><span class="id" title="inductive">subst_matches_typctx</span></a> <a class="idref" href="GMuAnnot.SubstMatch.html#882fcf1fe94e59b388c5dc19a766ec48"><span class="id" title="variable">Σ</span></a> (<a class="idref" href="GMuAnnot.SubstMatch.html#116119c3bbf39d0a90548bd70b1030f7"><span class="id" title="variable">Δ1</span></a> <a class="idref" href="../lambda2Gmu/GMu.Definitions.html#3ca84bd817dd2b1e2f0f693cd9400702"><span class="id" title="notation">|,|</span></a> <a class="idref" href="../lambda2Gmu/GMu.Definitions.html#b5ab1b23d5b56035820660ded1af9bea"><span class="id" title="notation">[</span></a><a class="idref" href="../lambda2Gmu/GMu.Definitions.html#tc_eq"><span class="id" title="constructor">tc_eq</span></a> (<a class="idref" href="GMuAnnot.SubstMatch.html#U1:240"><span class="id" title="variable">U1</span></a> <a class="idref" href="../lambda2Gmu/GMu.Definitions.html#8f9238d4eefe0b5c60a6c98165047666"><span class="id" title="notation">≡</span></a> <a class="idref" href="GMuAnnot.SubstMatch.html#U2:241"><span class="id" title="variable">U2</span></a>)<a class="idref" href="../lambda2Gmu/GMu.Definitions.html#b5ab1b23d5b56035820660ded1af9bea"><span class="id" title="notation">]*</span></a> <a class="idref" href="../lambda2Gmu/GMu.Definitions.html#3ca84bd817dd2b1e2f0f693cd9400702"><span class="id" title="notation">|,|</span></a> <a class="idref" href="GMuAnnot.SubstMatch.html#e9f1c7e66c9ba5b8c3daa7fed9e61835"><span class="id" title="variable">Δ2</span></a>) (<a class="idref" href="GMuAnnot.SubstMatch.html#O1:238"><span class="id" title="variable">O1</span></a> <a class="idref" href="../lambda2Gmu/GMu.Definitions.html#3ca84bd817dd2b1e2f0f693cd9400702"><span class="id" title="notation">|,|</span></a> <a class="idref" href="GMuAnnot.SubstMatch.html#O2:239"><span class="id" title="variable">O2</span></a>).<br/>
&nbsp;&nbsp;<span class="id" title="tactic">induction</span> <span class="id" title="var">Δ2</span> <span class="id" title="keyword">as</span> [| [| [<span class="id" title="var">V1</span> <span class="id" title="var">V2</span>]]]; <span class="id" title="var">introv</span> <span class="id" title="var">M1</span> <span class="id" title="var">M2</span> <span class="id" title="var">EQ</span>; <span class="id" title="var">cbn</span> <span class="id" title="tactic">in</span> *; <span class="id" title="var">fold_delta</span>.<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">constructor</span>; <span class="id" title="tactic">auto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span>× <a class="idref" href="GMuAnnot.SubstMatch.html#subst_eq_weaken2"><span class="id" title="lemma">subst_eq_weaken2</span></a>.<br/>
&nbsp;&nbsp;- <span class="id" title="var">inversions</span> <span class="id" title="var">M2</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">O2</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="var">cbn</span> <span class="id" title="tactic">in</span> <span class="id" title="var">H1</span>. <span class="id" title="tactic">subst</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">false</span>× <a class="idref" href="GMuAnnot.SubstMatch.html#subst_match_inv_missing_var"><span class="id" title="lemma">subst_match_inv_missing_var</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="var">inversions</span> <span class="id" title="var">H1</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">econstructor</span>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">repeat</span> <span class="id" title="tactic">rewrite</span> <a class="idref" href="GMuAnnot.InfrastructureFV.html#e986378a2a44bd3bcdda6d5b28752f62"><span class="id" title="lemma">notin_domΔ_eq</span></a> <span class="id" title="tactic">in</span> *;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">H5</span>; <span class="id" title="tactic">repeat</span> <span class="id" title="tactic">split</span>~;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">cbn</span>; <span class="id" title="tactic">auto</span>.<br/>
&nbsp;&nbsp;- <span class="id" title="var">inversions</span> <span class="id" title="var">M2</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">econstructor</span>; <span class="id" title="tactic">eauto</span>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="equation_strengthen" class="idref" href="#equation_strengthen"><span class="id" title="lemma">equation_strengthen</span></a> : <span class="id" title="keyword">∀</span> <a id="22337bb881c42df2da37d2d05d2544db" class="idref" href="#22337bb881c42df2da37d2d05d2544db"><span class="id" title="binder">Σ</span></a> <a id="19de6a29617fb73dbbf33ca6657fc645" class="idref" href="#19de6a29617fb73dbbf33ca6657fc645"><span class="id" title="binder">Δ1</span></a> <a id="aaec5ce7a2d22165ee0037a3057bc627" class="idref" href="#aaec5ce7a2d22165ee0037a3057bc627"><span class="id" title="binder">Δ2</span></a> <a id="U1:245" class="idref" href="#U1:245"><span class="id" title="binder">U1</span></a> <a id="U2:246" class="idref" href="#U2:246"><span class="id" title="binder">U2</span></a> <a id="T1:247" class="idref" href="#T1:247"><span class="id" title="binder">T1</span></a> <a id="T2:248" class="idref" href="#T2:248"><span class="id" title="binder">T2</span></a>,<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="../lambda2Gmu/GMu.Definitions.html#entails_semantic"><span class="id" title="definition">entails_semantic</span></a> <a class="idref" href="GMuAnnot.SubstMatch.html#22337bb881c42df2da37d2d05d2544db"><span class="id" title="variable">Σ</span></a> (<a class="idref" href="GMuAnnot.SubstMatch.html#19de6a29617fb73dbbf33ca6657fc645"><span class="id" title="variable">Δ1</span></a> <a class="idref" href="../lambda2Gmu/GMu.Definitions.html#3ca84bd817dd2b1e2f0f693cd9400702"><span class="id" title="notation">|,|</span></a> <a class="idref" href="../lambda2Gmu/GMu.Definitions.html#b5ab1b23d5b56035820660ded1af9bea"><span class="id" title="notation">[</span></a><a class="idref" href="../lambda2Gmu/GMu.Definitions.html#tc_eq"><span class="id" title="constructor">tc_eq</span></a> (<a class="idref" href="GMuAnnot.SubstMatch.html#U1:245"><span class="id" title="variable">U1</span></a> <a class="idref" href="../lambda2Gmu/GMu.Definitions.html#8f9238d4eefe0b5c60a6c98165047666"><span class="id" title="notation">≡</span></a> <a class="idref" href="GMuAnnot.SubstMatch.html#U2:246"><span class="id" title="variable">U2</span></a>)<a class="idref" href="../lambda2Gmu/GMu.Definitions.html#b5ab1b23d5b56035820660ded1af9bea"><span class="id" title="notation">]*</span></a> <a class="idref" href="../lambda2Gmu/GMu.Definitions.html#3ca84bd817dd2b1e2f0f693cd9400702"><span class="id" title="notation">|,|</span></a> <a class="idref" href="GMuAnnot.SubstMatch.html#aaec5ce7a2d22165ee0037a3057bc627"><span class="id" title="variable">Δ2</span></a>) (<a class="idref" href="GMuAnnot.SubstMatch.html#T1:247"><span class="id" title="variable">T1</span></a> <a class="idref" href="../lambda2Gmu/GMu.Definitions.html#8f9238d4eefe0b5c60a6c98165047666"><span class="id" title="notation">≡</span></a> <a class="idref" href="GMuAnnot.SubstMatch.html#T2:248"><span class="id" title="variable">T2</span></a>) <a class="idref" href="http://coq.inria.fr/distrib/V8.13.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="../lambda2Gmu/GMu.Definitions.html#entails_semantic"><span class="id" title="definition">entails_semantic</span></a> <a class="idref" href="GMuAnnot.SubstMatch.html#22337bb881c42df2da37d2d05d2544db"><span class="id" title="variable">Σ</span></a> <a class="idref" href="GMuAnnot.SubstMatch.html#19de6a29617fb73dbbf33ca6657fc645"><span class="id" title="variable">Δ1</span></a> (<a class="idref" href="GMuAnnot.SubstMatch.html#U1:245"><span class="id" title="variable">U1</span></a> <a class="idref" href="../lambda2Gmu/GMu.Definitions.html#8f9238d4eefe0b5c60a6c98165047666"><span class="id" title="notation">≡</span></a> <a class="idref" href="GMuAnnot.SubstMatch.html#U2:246"><span class="id" title="variable">U2</span></a>) <a class="idref" href="http://coq.inria.fr/distrib/V8.13.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="../lambda2Gmu/GMu.Definitions.html#entails_semantic"><span class="id" title="definition">entails_semantic</span></a> <a class="idref" href="GMuAnnot.SubstMatch.html#22337bb881c42df2da37d2d05d2544db"><span class="id" title="variable">Σ</span></a> (<a class="idref" href="GMuAnnot.SubstMatch.html#19de6a29617fb73dbbf33ca6657fc645"><span class="id" title="variable">Δ1</span></a> <a class="idref" href="../lambda2Gmu/GMu.Definitions.html#3ca84bd817dd2b1e2f0f693cd9400702"><span class="id" title="notation">|,|</span></a> <a class="idref" href="GMuAnnot.SubstMatch.html#aaec5ce7a2d22165ee0037a3057bc627"><span class="id" title="variable">Δ2</span></a>) (<a class="idref" href="GMuAnnot.SubstMatch.html#T1:247"><span class="id" title="variable">T1</span></a> <a class="idref" href="../lambda2Gmu/GMu.Definitions.html#8f9238d4eefe0b5c60a6c98165047666"><span class="id" title="notation">≡</span></a> <a class="idref" href="GMuAnnot.SubstMatch.html#T2:248"><span class="id" title="variable">T2</span></a>).<br/>
&nbsp;&nbsp;<span class="id" title="var">introv</span> <span class="id" title="var">SemT</span> <span class="id" title="var">SemU</span>.<br/>
&nbsp;&nbsp;<span class="id" title="var">cbn</span> <span class="id" title="tactic">in</span> ×.<br/>
&nbsp;&nbsp;<span class="id" title="var">fold_delta</span>.<br/>
&nbsp;&nbsp;<span class="id" title="var">introv</span> <span class="id" title="var">M</span>.<br/>
&nbsp;&nbsp;<span class="id" title="var">lets</span> [<span class="id" title="var">O1</span> [<span class="id" title="var">O2</span> [? <span class="id" title="var">M2</span>]]]: <a class="idref" href="GMuAnnot.SubstMatch.html#subst_match_split"><span class="id" title="lemma">subst_match_split</span></a> <span class="id" title="var">M</span>; <span class="id" title="tactic">subst</span>.<br/>
&nbsp;&nbsp;<span class="id" title="var">lets</span> <span class="id" title="var">EQ</span>: <span class="id" title="var">SemU</span> <span class="id" title="var">M2</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <span class="id" title="var">SemT</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">apply</span>¬ <a class="idref" href="GMuAnnot.SubstMatch.html#subst_strengthen_true_eq"><span class="id" title="lemma">subst_strengthen_true_eq</span></a>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>
</div>
</div>
<div id="footer">
  Generated by <a href="http://coq.inria.fr/">coqdoc</a> and improved with <a href="https://github.com/tebbi/coqdocjs">CoqdocJS</a>
</div>
</div>
</body>

</html>
