<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">

<head>
<meta http-equiv="Content-Type" content="text/html;charset=utf-8" />
<link href="coqdoc.css" rel="stylesheet" type="text/css" />
<link href="coqdocjs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="config.js"></script>
<script type="text/javascript" src="coqdocjs.js"></script>
</head>

<body onload="document.getElementById('content').focus()">
  <div id="header">
    <span class="left">
      <span class="modulename"> <script> document.write(document.title) </script> </span>
    </span>

    <span class="button" id="toggle-proofs"></span>

    <span class="right">
      <a href="../">Project Page</a>
      <a href="./indexpage.html"> Index </a>
      <a href="./toc.html"> Table of Contents </a>
    </span>
</div>
    <div id="content" tabindex="-1" onblur="document.getElementById('content').focus()">
    <div id="main">
<h1 class="libtitle">GMu.Preservation</h1>

<div class="code">
<span class="id" title="keyword">Set Implicit Arguments</span>.<br/>
<span class="id" title="keyword">Require</span> <span class="id" title="keyword">Import</span> <a class="idref" href="GMu.Prelude.html#"><span class="id" title="library">Prelude</span></a>.<br/>
<span class="id" title="keyword">Require</span> <span class="id" title="keyword">Import</span> <a class="idref" href="GMu.Infrastructure.html#"><span class="id" title="library">Infrastructure</span></a>.<br/>
<span class="id" title="keyword">Require</span> <span class="id" title="keyword">Import</span> <a class="idref" href="GMu.Regularity.html#"><span class="id" title="library">Regularity</span></a>.<br/>
<span class="id" title="keyword">Require</span> <span class="id" title="keyword">Import</span> <a class="idref" href="GMu.Regularity2.html#"><span class="id" title="library">Regularity2</span></a>.<br/>
<span class="id" title="keyword">Require</span> <span class="id" title="keyword">Import</span> <a class="idref" href="GMu.SubstMatch.html#"><span class="id" title="library">SubstMatch</span></a>.<br/>
<span class="id" title="keyword">Require</span> <span class="id" title="keyword">Import</span> <a class="idref" href="GMu.Equations.html#"><span class="id" title="library">Equations</span></a>.<br/>
<span class="id" title="keyword">Require</span> <span class="id" title="keyword">Import</span> <span class="id" title="library">TLC.LibLN</span>.<br/>

<br/>
#[<span class="id" title="var">export</span>] <span class="id" title="keyword">Hint</span> <span class="id" title="keyword">Resolve</span> <span class="id" title="var">okt_is_ok</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="typing_weakening_delta_eq" class="idref" href="#typing_weakening_delta_eq"><span class="id" title="lemma">typing_weakening_delta_eq</span></a>:<br/>
&nbsp;&nbsp;<span class="id" title="keyword">∀</span> (<a id="u:1" class="idref" href="#u:1"><span class="id" title="binder">u</span></a> : <a class="idref" href="GMu.Definitions.html#trm"><span class="id" title="inductive">trm</span></a>) (<a id="ebf069dbc779b42a15c441a6d39d5f83" class="idref" href="#ebf069dbc779b42a15c441a6d39d5f83"><span class="id" title="binder">Σ</span></a> : <a class="idref" href="GMu.Definitions.html#GADTEnv"><span class="id" title="definition">GADTEnv</span></a>) (<a id="D1:3" class="idref" href="#D1:3"><span class="id" title="binder">D1</span></a> <a id="D2:4" class="idref" href="#D2:4"><span class="id" title="binder">D2</span></a> : <a class="idref" href="http://coq.inria.fr/distrib/V8.13.0/stdlib//Coq.Init.Datatypes.html#list"><span class="id" title="inductive">list</span></a> <a class="idref" href="GMu.Definitions.html#typctx_elem"><span class="id" title="inductive">typctx_elem</span></a>) (<a id="E:5" class="idref" href="#E:5"><span class="id" title="binder">E</span></a> : <span class="id" title="definition">env</span> <a class="idref" href="GMu.Definitions.html#bind"><span class="id" title="inductive">bind</span></a>) (<a id="U:6" class="idref" href="#U:6"><span class="id" title="binder">U</span></a> : <a class="idref" href="GMu.Definitions.html#typ"><span class="id" title="inductive">typ</span></a>) <a id="eq:7" class="idref" href="#eq:7"><span class="id" title="binder">eq</span></a> <a id="TT:8" class="idref" href="#TT:8"><span class="id" title="binder">TT</span></a>,<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="GMu.Definitions.html#01c16c7ccd254b860cbd58c1da68710e"><span class="id" title="notation">{</span></a><a class="idref" href="GMu.Preservation.html#ebf069dbc779b42a15c441a6d39d5f83"><span class="id" title="variable">Σ</span></a><a class="idref" href="GMu.Definitions.html#01c16c7ccd254b860cbd58c1da68710e"><span class="id" title="notation">,</span></a> <a class="idref" href="GMu.Preservation.html#D1:3"><span class="id" title="variable">D1</span></a> <a class="idref" href="GMu.Definitions.html#3ca84bd817dd2b1e2f0f693cd9400702"><span class="id" title="notation">|,|</span></a> <a class="idref" href="GMu.Preservation.html#D2:4"><span class="id" title="variable">D2</span></a><a class="idref" href="GMu.Definitions.html#01c16c7ccd254b860cbd58c1da68710e"><span class="id" title="notation">,</span></a> <a class="idref" href="GMu.Preservation.html#E:5"><span class="id" title="variable">E</span></a><a class="idref" href="GMu.Definitions.html#01c16c7ccd254b860cbd58c1da68710e"><span class="id" title="notation">}</span></a> <a class="idref" href="GMu.Definitions.html#01c16c7ccd254b860cbd58c1da68710e"><span class="id" title="notation">⊢(</span></a><a class="idref" href="GMu.Preservation.html#TT:8"><span class="id" title="variable">TT</span></a><a class="idref" href="GMu.Definitions.html#01c16c7ccd254b860cbd58c1da68710e"><span class="id" title="notation">)</span></a> <a class="idref" href="GMu.Preservation.html#u:1"><span class="id" title="variable">u</span></a> <a class="idref" href="GMu.Definitions.html#01c16c7ccd254b860cbd58c1da68710e"><span class="id" title="notation">∈</span></a> <a class="idref" href="GMu.Preservation.html#U:6"><span class="id" title="variable">U</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="GMu.Definitions.html#01c16c7ccd254b860cbd58c1da68710e"><span class="id" title="notation">{</span></a><a class="idref" href="GMu.Preservation.html#ebf069dbc779b42a15c441a6d39d5f83"><span class="id" title="variable">Σ</span></a><a class="idref" href="GMu.Definitions.html#01c16c7ccd254b860cbd58c1da68710e"><span class="id" title="notation">,</span></a> <a class="idref" href="GMu.Preservation.html#D1:3"><span class="id" title="variable">D1</span></a> <a class="idref" href="GMu.Definitions.html#3ca84bd817dd2b1e2f0f693cd9400702"><span class="id" title="notation">|,|</span></a> <a class="idref" href="GMu.Definitions.html#b5ab1b23d5b56035820660ded1af9bea"><span class="id" title="notation">[</span></a><a class="idref" href="GMu.Definitions.html#tc_eq"><span class="id" title="constructor">tc_eq</span></a> <a class="idref" href="GMu.Preservation.html#eq:7"><span class="id" title="variable">eq</span></a><a class="idref" href="GMu.Definitions.html#b5ab1b23d5b56035820660ded1af9bea"><span class="id" title="notation">]*</span></a> <a class="idref" href="GMu.Definitions.html#3ca84bd817dd2b1e2f0f693cd9400702"><span class="id" title="notation">|,|</span></a> <a class="idref" href="GMu.Preservation.html#D2:4"><span class="id" title="variable">D2</span></a><a class="idref" href="GMu.Definitions.html#01c16c7ccd254b860cbd58c1da68710e"><span class="id" title="notation">,</span></a> <a class="idref" href="GMu.Preservation.html#E:5"><span class="id" title="variable">E</span></a><a class="idref" href="GMu.Definitions.html#01c16c7ccd254b860cbd58c1da68710e"><span class="id" title="notation">}</span></a> <a class="idref" href="GMu.Definitions.html#01c16c7ccd254b860cbd58c1da68710e"><span class="id" title="notation">⊢(</span></a><a class="idref" href="GMu.Preservation.html#TT:8"><span class="id" title="variable">TT</span></a><a class="idref" href="GMu.Definitions.html#01c16c7ccd254b860cbd58c1da68710e"><span class="id" title="notation">)</span></a> <a class="idref" href="GMu.Preservation.html#u:1"><span class="id" title="variable">u</span></a> <a class="idref" href="GMu.Definitions.html#01c16c7ccd254b860cbd58c1da68710e"><span class="id" title="notation">∈</span></a> <a class="idref" href="GMu.Preservation.html#U:6"><span class="id" title="variable">U</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="var">introv</span> <span class="id" title="var">Typ</span>; <span class="id" title="var">gen_eq</span> <span class="id" title="var">D'</span>: (<span class="id" title="var">D1</span> <a class="idref" href="GMu.Definitions.html#3ca84bd817dd2b1e2f0f693cd9400702"><span class="id" title="notation">|,|</span></a> <span class="id" title="var">D2</span>); <span class="id" title="var">gen</span> <span class="id" title="var">D2</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">induction</span> <span class="id" title="var">Typ</span>; <span class="id" title="var">introv</span> <span class="id" title="var">EQ</span>; <span class="id" title="tactic">subst</span>;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">try</span> <span class="id" title="tactic">solve</span> [<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">econstructor</span>; <span class="id" title="var">fresh_intros</span>; <span class="id" title="tactic">eauto</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| <span class="id" title="tactic">econstructor</span>; <span class="id" title="tactic">eauto</span> <span class="id" title="keyword">using</span> <a class="idref" href="GMu.Regularity2.html#okt_weakening_delta_eq"><span class="id" title="lemma">okt_weakening_delta_eq</span></a>; <span class="id" title="tactic">eauto</span> <span class="id" title="keyword">using</span> <a class="idref" href="GMu.Regularity.html#wft_weaken"><span class="id" title="lemma">wft_weaken</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;].<br/>
&nbsp;&nbsp;- <span class="id" title="var">apply_fresh</span> <a class="idref" href="GMu.Definitions.html#typing_tabs"><span class="id" title="constructor">typing_tabs</span></a> <span class="id" title="keyword">as</span> <span class="id" title="var">Y</span>; <span class="id" title="tactic">auto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">lets</span>× <span class="id" title="var">IH</span>: <span class="id" title="var">H1</span> <span class="id" title="var">Y</span> (<span class="id" title="var">D2</span> <a class="idref" href="GMu.Definitions.html#3ca84bd817dd2b1e2f0f693cd9400702"><span class="id" title="notation">|,|</span></a> <a class="idref" href="GMu.Definitions.html#b5ab1b23d5b56035820660ded1af9bea"><span class="id" title="notation">[</span></a><a class="idref" href="GMu.Definitions.html#tc_var"><span class="id" title="constructor">tc_var</span></a> <span class="id" title="var">Y</span><a class="idref" href="GMu.Definitions.html#b5ab1b23d5b56035820660ded1af9bea"><span class="id" title="notation">]*</span></a>).<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">econstructor</span>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">introv</span> <span class="id" title="var">In</span> <span class="id" title="var">Alen</span> <span class="id" title="var">Adist</span> <span class="id" title="var">Afr</span> <span class="id" title="var">xfr</span> <span class="id" title="var">xAfr</span>.<br/>

<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">lets</span>× <span class="id" title="var">IH</span>: <span class="id" title="var">H4</span> <span class="id" title="var">In</span> <span class="id" title="var">xAfr</span> (<span class="id" title="var">D2</span> <a class="idref" href="GMu.Definitions.html#3ca84bd817dd2b1e2f0f693cd9400702"><span class="id" title="notation">|,|</span></a> <a class="idref" href="GMu.Definitions.html#tc_vars"><span class="id" title="definition">tc_vars</span></a> <span class="id" title="var">Alphas</span> <a class="idref" href="GMu.Definitions.html#3ca84bd817dd2b1e2f0f693cd9400702"><span class="id" title="notation">|,|</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="GMu.Definitions.html#equations_from_lists"><span class="id" title="definition">equations_from_lists</span></a> <span class="id" title="var">Ts</span> (<a class="idref" href="http://coq.inria.fr/distrib/V8.13.0/stdlib//Coq.Lists.List.html#map"><span class="id" title="definition">List.map</span></a> (<a class="idref" href="GMu.Definitions.html#open_tt_many_var"><span class="id" title="definition">open_tt_many_var</span></a> <span class="id" title="var">Alphas</span>) (<a class="idref" href="GMu.Definitions.html#Crettypes"><span class="id" title="projection">Crettypes</span></a> <span class="id" title="var">def</span>))).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">repeat</span> <span class="id" title="tactic">rewrite</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.0/stdlib//Coq.Lists.List.html#app_assoc"><span class="id" title="lemma">List.app_assoc</span></a> <span class="id" title="tactic">in</span> ×.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span>¬ <span class="id" title="var">IH</span>.<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">econstructor</span>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="tactic">destruct</span> <span class="id" title="var">eq</span>. <span class="id" title="tactic">apply</span>¬ <a class="idref" href="GMu.SubstMatch.html#equation_weaken_eq"><span class="id" title="lemma">equation_weaken_eq</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="tactic">apply</span>¬ <a class="idref" href="GMu.Regularity.html#wft_weaken"><span class="id" title="lemma">wft_weaken</span></a>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="typing_weakening_delta" class="idref" href="#typing_weakening_delta"><span class="id" title="lemma">typing_weakening_delta</span></a>:<br/>
&nbsp;&nbsp;<span class="id" title="keyword">∀</span> (<a id="u:9" class="idref" href="#u:9"><span class="id" title="binder">u</span></a> : <a class="idref" href="GMu.Definitions.html#trm"><span class="id" title="inductive">trm</span></a>) (<a id="2ab75602e9b8af2ca6fd6dbdb1e68a19" class="idref" href="#2ab75602e9b8af2ca6fd6dbdb1e68a19"><span class="id" title="binder">Σ</span></a> : <a class="idref" href="GMu.Definitions.html#GADTEnv"><span class="id" title="definition">GADTEnv</span></a>) (<a id="D1:11" class="idref" href="#D1:11"><span class="id" title="binder">D1</span></a> <a id="D2:12" class="idref" href="#D2:12"><span class="id" title="binder">D2</span></a> : <a class="idref" href="http://coq.inria.fr/distrib/V8.13.0/stdlib//Coq.Init.Datatypes.html#list"><span class="id" title="inductive">list</span></a> <a class="idref" href="GMu.Definitions.html#typctx_elem"><span class="id" title="inductive">typctx_elem</span></a>) (<a id="E:13" class="idref" href="#E:13"><span class="id" title="binder">E</span></a> : <span class="id" title="definition">env</span> <a class="idref" href="GMu.Definitions.html#bind"><span class="id" title="inductive">bind</span></a>) (<a id="U:14" class="idref" href="#U:14"><span class="id" title="binder">U</span></a> : <a class="idref" href="GMu.Definitions.html#typ"><span class="id" title="inductive">typ</span></a>) (<a id="Y:15" class="idref" href="#Y:15"><span class="id" title="binder">Y</span></a> : <span class="id" title="axiom">var</span>) <a id="TT:16" class="idref" href="#TT:16"><span class="id" title="binder">TT</span></a>,<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="GMu.Definitions.html#01c16c7ccd254b860cbd58c1da68710e"><span class="id" title="notation">{</span></a><a class="idref" href="GMu.Preservation.html#2ab75602e9b8af2ca6fd6dbdb1e68a19"><span class="id" title="variable">Σ</span></a><a class="idref" href="GMu.Definitions.html#01c16c7ccd254b860cbd58c1da68710e"><span class="id" title="notation">,</span></a> <a class="idref" href="GMu.Preservation.html#D1:11"><span class="id" title="variable">D1</span></a> <a class="idref" href="GMu.Definitions.html#3ca84bd817dd2b1e2f0f693cd9400702"><span class="id" title="notation">|,|</span></a> <a class="idref" href="GMu.Preservation.html#D2:12"><span class="id" title="variable">D2</span></a><a class="idref" href="GMu.Definitions.html#01c16c7ccd254b860cbd58c1da68710e"><span class="id" title="notation">,</span></a> <a class="idref" href="GMu.Preservation.html#E:13"><span class="id" title="variable">E</span></a><a class="idref" href="GMu.Definitions.html#01c16c7ccd254b860cbd58c1da68710e"><span class="id" title="notation">}</span></a> <a class="idref" href="GMu.Definitions.html#01c16c7ccd254b860cbd58c1da68710e"><span class="id" title="notation">⊢(</span></a><a class="idref" href="GMu.Preservation.html#TT:16"><span class="id" title="variable">TT</span></a><a class="idref" href="GMu.Definitions.html#01c16c7ccd254b860cbd58c1da68710e"><span class="id" title="notation">)</span></a> <a class="idref" href="GMu.Preservation.html#u:9"><span class="id" title="variable">u</span></a> <a class="idref" href="GMu.Definitions.html#01c16c7ccd254b860cbd58c1da68710e"><span class="id" title="notation">∈</span></a> <a class="idref" href="GMu.Preservation.html#U:14"><span class="id" title="variable">U</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="GMu.Preservation.html#Y:15"><span class="id" title="variable">Y</span></a> <span class="id" title="notation">#</span> <a class="idref" href="GMu.Preservation.html#E:13"><span class="id" title="variable">E</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="GMu.Preservation.html#Y:15"><span class="id" title="variable">Y</span></a> <span class="id" title="notation">\</span><span class="id" title="notation">notin</span> <a class="idref" href="GMu.Definitions.html#e1e06a37011ebd9f9e861e05c79f4e29"><span class="id" title="definition">domΔ</span></a> <a class="idref" href="GMu.Preservation.html#D1:11"><span class="id" title="variable">D1</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="GMu.Preservation.html#Y:15"><span class="id" title="variable">Y</span></a> <span class="id" title="notation">\</span><span class="id" title="notation">notin</span> <a class="idref" href="GMu.Definitions.html#e1e06a37011ebd9f9e861e05c79f4e29"><span class="id" title="definition">domΔ</span></a> <a class="idref" href="GMu.Preservation.html#D2:12"><span class="id" title="variable">D2</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="GMu.Preservation.html#Y:15"><span class="id" title="variable">Y</span></a> <span class="id" title="notation">\</span><span class="id" title="notation">notin</span> <a class="idref" href="GMu.Definitions.html#fv_delta"><span class="id" title="definition">fv_delta</span></a> <a class="idref" href="GMu.Preservation.html#D2:12"><span class="id" title="variable">D2</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="GMu.Definitions.html#01c16c7ccd254b860cbd58c1da68710e"><span class="id" title="notation">{</span></a><a class="idref" href="GMu.Preservation.html#2ab75602e9b8af2ca6fd6dbdb1e68a19"><span class="id" title="variable">Σ</span></a><a class="idref" href="GMu.Definitions.html#01c16c7ccd254b860cbd58c1da68710e"><span class="id" title="notation">,</span></a> <a class="idref" href="GMu.Preservation.html#D1:11"><span class="id" title="variable">D1</span></a> <a class="idref" href="GMu.Definitions.html#3ca84bd817dd2b1e2f0f693cd9400702"><span class="id" title="notation">|,|</span></a> <a class="idref" href="GMu.Definitions.html#b5ab1b23d5b56035820660ded1af9bea"><span class="id" title="notation">[</span></a><a class="idref" href="GMu.Definitions.html#tc_var"><span class="id" title="constructor">tc_var</span></a> <a class="idref" href="GMu.Preservation.html#Y:15"><span class="id" title="variable">Y</span></a><a class="idref" href="GMu.Definitions.html#b5ab1b23d5b56035820660ded1af9bea"><span class="id" title="notation">]*</span></a> <a class="idref" href="GMu.Definitions.html#3ca84bd817dd2b1e2f0f693cd9400702"><span class="id" title="notation">|,|</span></a> <a class="idref" href="GMu.Preservation.html#D2:12"><span class="id" title="variable">D2</span></a><a class="idref" href="GMu.Definitions.html#01c16c7ccd254b860cbd58c1da68710e"><span class="id" title="notation">,</span></a> <a class="idref" href="GMu.Preservation.html#E:13"><span class="id" title="variable">E</span></a><a class="idref" href="GMu.Definitions.html#01c16c7ccd254b860cbd58c1da68710e"><span class="id" title="notation">}</span></a> <a class="idref" href="GMu.Definitions.html#01c16c7ccd254b860cbd58c1da68710e"><span class="id" title="notation">⊢(</span></a><a class="idref" href="GMu.Preservation.html#TT:16"><span class="id" title="variable">TT</span></a><a class="idref" href="GMu.Definitions.html#01c16c7ccd254b860cbd58c1da68710e"><span class="id" title="notation">)</span></a> <a class="idref" href="GMu.Preservation.html#u:9"><span class="id" title="variable">u</span></a> <a class="idref" href="GMu.Definitions.html#01c16c7ccd254b860cbd58c1da68710e"><span class="id" title="notation">∈</span></a> <a class="idref" href="GMu.Preservation.html#U:14"><span class="id" title="variable">U</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="var">introv</span> <span class="id" title="var">Typ</span> <span class="id" title="var">FE</span> <span class="id" title="var">FD1</span> <span class="id" title="var">FD2</span> <span class="id" title="var">FrD</span>; <span class="id" title="var">gen_eq</span> <span class="id" title="var">D'</span>: (<span class="id" title="var">D1</span> <a class="idref" href="GMu.Definitions.html#3ca84bd817dd2b1e2f0f693cd9400702"><span class="id" title="notation">|,|</span></a> <span class="id" title="var">D2</span>); <span class="id" title="var">gen</span> <span class="id" title="var">D2</span>.<br/>
&nbsp;&nbsp;<span class="id" title="var">lets</span> <span class="id" title="var">Typ2</span>: <span class="id" title="var">Typ</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">induction</span> <span class="id" title="var">Typ</span>; <span class="id" title="var">introv</span> <span class="id" title="var">FD2</span> <span class="id" title="var">FrD</span> <span class="id" title="var">EQ</span>; <span class="id" title="tactic">subst</span>;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">try</span> <span class="id" title="tactic">solve</span> [<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">econstructor</span>; <span class="id" title="var">fresh_intros</span>; <span class="id" title="tactic">eauto</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| <span class="id" title="tactic">econstructor</span>; <span class="id" title="tactic">eauto</span> <span class="id" title="keyword">using</span> <a class="idref" href="GMu.Regularity2.html#okt_weakening_delta"><span class="id" title="lemma">okt_weakening_delta</span></a>; <span class="id" title="tactic">eauto</span> <span class="id" title="keyword">using</span> <a class="idref" href="GMu.Regularity.html#wft_weaken"><span class="id" title="lemma">wft_weaken</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;].<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">econstructor</span>; <span class="id" title="tactic">auto</span>;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">try</span> <span class="id" title="keyword">let</span> <span class="id" title="var">envvars</span> := <span class="id" title="var">gather_vars</span> <span class="id" title="tactic">in</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">instantiate</span> (1:=<span class="id" title="var">envvars</span>); <span class="id" title="tactic">auto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intros</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">lets</span>× <span class="id" title="var">IH</span>: <span class="id" title="var">H1</span> <span class="id" title="var">X</span> (<span class="id" title="var">D2</span> <a class="idref" href="GMu.Definitions.html#3ca84bd817dd2b1e2f0f693cd9400702"><span class="id" title="notation">|,|</span></a> <a class="idref" href="GMu.Definitions.html#b5ab1b23d5b56035820660ded1af9bea"><span class="id" title="notation">[</span></a><a class="idref" href="GMu.Definitions.html#tc_var"><span class="id" title="constructor">tc_var</span></a> <span class="id" title="var">X</span><a class="idref" href="GMu.Definitions.html#b5ab1b23d5b56035820660ded1af9bea"><span class="id" title="notation">]*</span></a>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">repeat</span> <span class="id" title="tactic">rewrite</span> &lt;- <a class="idref" href="http://coq.inria.fr/distrib/V8.13.0/stdlib//Coq.Lists.List.html#app_assoc"><span class="id" title="lemma">List.app_assoc</span></a> <span class="id" title="tactic">in</span> ×.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <span class="id" title="var">IH</span>; <span class="id" title="tactic">auto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <a class="idref" href="GMu.InfrastructureFV.html#e986378a2a44bd3bcdda6d5b28752f62"><span class="id" title="lemma">notin_domΔ_eq</span></a>. <span class="id" title="tactic">split</span>; <span class="id" title="tactic">auto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">cbn</span>. <span class="id" title="tactic">rewrite</span> <span class="id" title="lemma">notin_union</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">split</span>; <span class="id" title="tactic">auto</span>.<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">econstructor</span>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">introv</span> <span class="id" title="var">Hin</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">try</span> <span class="id" title="keyword">let</span> <span class="id" title="var">envvars</span> := <span class="id" title="var">gather_vars</span> <span class="id" title="tactic">in</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">introv</span> <span class="id" title="var">Hlen</span> <span class="id" title="var">Hdist</span> <span class="id" title="var">Afresh</span> <span class="id" title="var">xfreshL</span> <span class="id" title="var">xfreshA</span>;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">instantiate</span> (1:=<span class="id" title="var">envvars</span>) <span class="id" title="tactic">in</span> <span class="id" title="var">xfreshL</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">lets</span> <span class="id" title="var">IH</span>: <span class="id" title="var">H4</span> <span class="id" title="var">Hin</span> <span class="id" title="var">Hlen</span> (<span class="id" title="var">D2</span> <a class="idref" href="GMu.Definitions.html#3ca84bd817dd2b1e2f0f693cd9400702"><span class="id" title="notation">|,|</span></a> <a class="idref" href="GMu.Definitions.html#tc_vars"><span class="id" title="definition">tc_vars</span></a> <span class="id" title="var">Alphas</span> <a class="idref" href="GMu.Definitions.html#3ca84bd817dd2b1e2f0f693cd9400702"><span class="id" title="notation">|,|</span></a> <a class="idref" href="GMu.Definitions.html#equations_from_lists"><span class="id" title="definition">equations_from_lists</span></a> <span class="id" title="var">Ts</span> (<a class="idref" href="http://coq.inria.fr/distrib/V8.13.0/stdlib//Coq.Lists.List.html#map"><span class="id" title="definition">List.map</span></a> (<a class="idref" href="GMu.Definitions.html#open_tt_many_var"><span class="id" title="definition">open_tt_many_var</span></a> <span class="id" title="var">Alphas</span>) (<a class="idref" href="GMu.Definitions.html#Crettypes"><span class="id" title="projection">Crettypes</span></a> <span class="id" title="var">def</span>))); <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="var">introv</span> <span class="id" title="var">Ain</span>. <span class="id" title="var">lets</span>*: <span class="id" title="var">Afresh</span> <span class="id" title="var">Ain</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="tactic">apply</span>¬ <span class="id" title="var">H3</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">introv</span> <span class="id" title="var">Ain</span>. <span class="id" title="var">lets</span>*: <span class="id" title="var">Afresh</span> <span class="id" title="var">Ain</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="tactic">repeat</span> <span class="id" title="tactic">rewrite</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.0/stdlib//Coq.Lists.List.html#app_assoc"><span class="id" title="lemma">List.app_assoc</span></a> <span class="id" title="tactic">in</span> ×.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <span class="id" title="var">IH</span>; <span class="id" title="tactic">auto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <a class="idref" href="GMu.InfrastructureFV.html#e986378a2a44bd3bcdda6d5b28752f62"><span class="id" title="lemma">notin_domΔ_eq</span></a>; <span class="id" title="tactic">split</span>; <span class="id" title="tactic">auto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;× <span class="id" title="tactic">rewrite</span> <a class="idref" href="GMu.InfrastructureFV.html#e986378a2a44bd3bcdda6d5b28752f62"><span class="id" title="lemma">notin_domΔ_eq</span></a>; <span class="id" title="tactic">split</span>; <span class="id" title="tactic">auto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;-- <span class="id" title="tactic">apply</span> <a class="idref" href="GMu.InfrastructureFV.html#notin_dom_tc_vars"><span class="id" title="lemma">notin_dom_tc_vars</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intro</span> <span class="id" title="var">HF</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">lets</span> <span class="id" title="var">HF2</span>: <a class="idref" href="GMu.Prelude.html#from_list_spec"><span class="id" title="lemma">from_list_spec</span></a> <span class="id" title="var">HF</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">lets</span> <span class="id" title="var">HF3</span>: <a class="idref" href="GMu.Prelude.html#LibList_mem"><span class="id" title="lemma">LibList_mem</span></a> <span class="id" title="var">HF2</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">lets</span> <span class="id" title="var">HF4</span>: <span class="id" title="var">Afresh</span> <span class="id" title="var">HF3</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <span class="id" title="lemma">notin_same</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">instantiate</span> (1:=<span class="id" title="var">Y</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;-- <span class="id" title="tactic">rewrite</span> <a class="idref" href="GMu.InfrastructureFV.html#equations_have_no_dom"><span class="id" title="lemma">equations_have_no_dom</span></a>; <span class="id" title="tactic">auto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span>× <a class="idref" href="GMu.Prelude.html#equations_from_lists_are_equations"><span class="id" title="lemma">equations_from_lists_are_equations</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;× <span class="id" title="tactic">repeat</span> <span class="id" title="tactic">rewrite</span> <a class="idref" href="GMu.InfrastructureFV.html#fv_delta_app"><span class="id" title="lemma">fv_delta_app</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">repeat</span> <span class="id" title="tactic">rewrite</span> <span class="id" title="lemma">notin_union</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">splits</span>¬.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;-- <span class="id" title="tactic">rewrite</span>¬ <a class="idref" href="GMu.InfrastructureFV.html#fv_delta_alphas"><span class="id" title="lemma">fv_delta_alphas</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;-- <span class="id" title="var">lets</span> [? [? <span class="id" title="var">WFT</span>]]: <a class="idref" href="GMu.Regularity.html#typing_regular"><span class="id" title="lemma">typing_regular</span></a> <span class="id" title="var">Typ</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">lets</span> <span class="id" title="var">FV</span>: <a class="idref" href="GMu.InfrastructureFV.html#wft_gives_fv"><span class="id" title="lemma">wft_gives_fv</span></a> <span class="id" title="var">WFT</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">cbn</span> <span class="id" title="tactic">in</span> <span class="id" title="var">FV</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="GMu.InfrastructureFV.html#fv_delta_equations"><span class="id" title="lemma">fv_delta_equations</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;++ <span class="id" title="tactic">intros</span> <span class="id" title="var">T</span> <span class="id" title="var">Tin</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intro</span> <span class="id" title="var">HF</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">lets</span> <span class="id" title="var">FV2</span>: <a class="idref" href="GMu.InfrastructureFV.html#fold_left_subset"><span class="id" title="lemma">fold_left_subset</span></a> <a class="idref" href="GMu.Definitions.html#fv_typ"><span class="id" title="definition">fv_typ</span></a> <span class="id" title="var">Tin</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">lets</span> <span class="id" title="var">FV3</span>: <a class="idref" href="GMu.Prelude.html#subset_transitive"><span class="id" title="lemma">subset_transitive</span></a> <span class="id" title="var">FV2</span> <span class="id" title="var">FV</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">lets</span> <span class="id" title="var">FV4</span>: <span class="id" title="var">FV3</span> <span class="id" title="var">HF</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <a class="idref" href="GMu.InfrastructureFV.html#domDelta_app"><span class="id" title="lemma">domDelta_app</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">FV4</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <span class="id" title="axiom">in_union</span> <span class="id" title="tactic">in</span> <span class="id" title="var">FV4</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">FV4</span>; <span class="id" title="tactic">auto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;++ <span class="id" title="tactic">intros</span> <span class="id" title="var">R</span> <span class="id" title="var">Rin</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">assert</span> (<span class="id" title="var">OKS</span>: <a class="idref" href="GMu.Definitions.html#okGadt"><span class="id" title="definition">okGadt</span></a> <span class="id" title="var">Σ</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;** <span class="id" title="tactic">apply</span>¬ <a class="idref" href="GMu.Regularity.html#okt_implies_okgadt"><span class="id" title="lemma">okt_implies_okgadt</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span>× <a class="idref" href="GMu.Regularity.html#typing_regular"><span class="id" title="lemma">typing_regular</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;** <span class="id" title="tactic">apply</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.0/stdlib//Coq.Lists.List.html#in_map_iff"><span class="id" title="lemma">List.in_map_iff</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">Rin</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">Rin</span> <span class="id" title="keyword">as</span> [<span class="id" title="var">rT</span> [? <span class="id" title="var">rTin</span>]]; <span class="id" title="tactic">subst</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">lets</span> <span class="id" title="var">Sub</span>: <a class="idref" href="GMu.InfrastructureFV.html#fv_smaller_many"><span class="id" title="lemma">fv_smaller_many</span></a> <span class="id" title="var">Alphas</span> <span class="id" title="var">rT</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intro</span> <span class="id" title="var">HF</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">lets</span> <span class="id" title="var">HF2</span>: <span class="id" title="var">Sub</span> <span class="id" title="var">HF</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <span class="id" title="axiom">in_union</span> <span class="id" title="tactic">in</span> <span class="id" title="var">HF2</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">HF2</span> <span class="id" title="keyword">as</span> [<span class="id" title="var">HF2</span> | <span class="id" title="var">HF2</span>].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;---<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">OKS</span> <span class="id" title="keyword">as</span> [? <span class="id" title="var">OKS</span>].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">lets</span> [? <span class="id" title="var">OKD</span>]: <span class="id" title="var">OKS</span> <span class="id" title="var">H0</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">lets</span> <span class="id" title="var">Din</span>: <a class="idref" href="GMu.Zip.html#fst_from_zip"><span class="id" title="lemma">fst_from_zip</span></a> <span class="id" title="var">Hin</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">lets</span> <span class="id" title="var">OKC</span>: <span class="id" title="var">OKD</span> <span class="id" title="var">Din</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">inversion</span> <span class="id" title="var">OKC</span> <span class="id" title="keyword">as</span> [? ? ? ? ? ? ? ? ? <span class="id" title="var">FrR</span>]; <span class="id" title="tactic">subst</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">cbn</span> <span class="id" title="tactic">in</span> <span class="id" title="var">rTin</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">lets</span> <span class="id" title="var">FR</span>: <span class="id" title="var">FrR</span> <span class="id" title="var">rTin</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <span class="id" title="var">FR</span> <span class="id" title="tactic">in</span> <span class="id" title="var">HF2</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">false</span>× <span class="id" title="lemma">in_empty_inv</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;---<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">lets</span> [<span class="id" title="var">A</span> [<span class="id" title="var">Ain</span> ?]]: <a class="idref" href="GMu.Prelude.html#in_from_list"><span class="id" title="lemma">in_from_list</span></a> <span class="id" title="var">HF2</span>; <span class="id" title="tactic">subst</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">lets</span>: <span class="id" title="var">Afresh</span> <span class="id" title="var">Ain</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">assert</span> (<span class="id" title="var">A</span> <span class="id" title="notation">\</span><span class="id" title="notation">notin</span> <span class="id" title="notation">\{</span> <span class="id" title="var">A</span><span class="id" title="notation">}</span>); <span class="id" title="tactic">auto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">false</span>× <span class="id" title="lemma">notin_same</span>.<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">econstructor</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="tactic">apply</span>¬ <span class="id" title="var">IHTyp</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="tactic">apply</span>¬ <a class="idref" href="GMu.SubstMatch.html#equation_weaken_var"><span class="id" title="lemma">equation_weaken_var</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="tactic">apply</span> <a class="idref" href="GMu.Regularity.html#wft_weaken"><span class="id" title="lemma">wft_weaken</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">lets</span>¬ [? [? ?]]: <a class="idref" href="GMu.Regularity.html#typing_regular"><span class="id" title="lemma">typing_regular</span></a> <span class="id" title="var">Typ2</span>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="typing_weakening_delta_many_eq" class="idref" href="#typing_weakening_delta_many_eq"><span class="id" title="lemma">typing_weakening_delta_many_eq</span></a> : <span class="id" title="keyword">∀</span> <a id="9e57768f7d1333d5d23f870b726fb0dd" class="idref" href="#9e57768f7d1333d5d23f870b726fb0dd"><span class="id" title="binder">Σ</span></a> <a id="f9db9c6063ff5f1b15c5099350cc188d" class="idref" href="#f9db9c6063ff5f1b15c5099350cc188d"><span class="id" title="binder">Δ</span></a> <a id="E:19" class="idref" href="#E:19"><span class="id" title="binder">E</span></a> <a id="Deqs:20" class="idref" href="#Deqs:20"><span class="id" title="binder">Deqs</span></a> <a id="u:21" class="idref" href="#u:21"><span class="id" title="binder">u</span></a> <a id="U:22" class="idref" href="#U:22"><span class="id" title="binder">U</span></a> <a id="TT:23" class="idref" href="#TT:23"><span class="id" title="binder">TT</span></a>,<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="GMu.Definitions.html#01c16c7ccd254b860cbd58c1da68710e"><span class="id" title="notation">{</span></a><a class="idref" href="GMu.Preservation.html#9e57768f7d1333d5d23f870b726fb0dd"><span class="id" title="variable">Σ</span></a><a class="idref" href="GMu.Definitions.html#01c16c7ccd254b860cbd58c1da68710e"><span class="id" title="notation">,</span></a> <a class="idref" href="GMu.Preservation.html#f9db9c6063ff5f1b15c5099350cc188d"><span class="id" title="variable">Δ</span></a><a class="idref" href="GMu.Definitions.html#01c16c7ccd254b860cbd58c1da68710e"><span class="id" title="notation">,</span></a> <a class="idref" href="GMu.Preservation.html#E:19"><span class="id" title="variable">E</span></a><a class="idref" href="GMu.Definitions.html#01c16c7ccd254b860cbd58c1da68710e"><span class="id" title="notation">}</span></a> <a class="idref" href="GMu.Definitions.html#01c16c7ccd254b860cbd58c1da68710e"><span class="id" title="notation">⊢(</span></a><a class="idref" href="GMu.Preservation.html#TT:23"><span class="id" title="variable">TT</span></a><a class="idref" href="GMu.Definitions.html#01c16c7ccd254b860cbd58c1da68710e"><span class="id" title="notation">)</span></a> <a class="idref" href="GMu.Preservation.html#u:21"><span class="id" title="variable">u</span></a> <a class="idref" href="GMu.Definitions.html#01c16c7ccd254b860cbd58c1da68710e"><span class="id" title="notation">∈</span></a> <a class="idref" href="GMu.Preservation.html#U:22"><span class="id" title="variable">U</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/V8.13.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">(</span></a><span class="id" title="keyword">∀</span> <a id="eq:24" class="idref" href="#eq:24"><span class="id" title="binder">eq</span></a>, <a class="idref" href="http://coq.inria.fr/distrib/V8.13.0/stdlib//Coq.Lists.List.html#In"><span class="id" title="definition">List.In</span></a> <a class="idref" href="GMu.Preservation.html#eq:24"><span class="id" title="variable">eq</span></a> <a class="idref" href="GMu.Preservation.html#Deqs:20"><span class="id" title="variable">Deqs</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.0/stdlib//Coq.Init.Logic.html#a883bdd010993579f99d60b3775bcf54"><span class="id" title="notation">∃</span></a> <a id="43c0ba8a83c2111b07e3b37ab47e1030" class="idref" href="#43c0ba8a83c2111b07e3b37ab47e1030"><span class="id" title="binder">ϵ</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.13.0/stdlib//Coq.Init.Logic.html#a883bdd010993579f99d60b3775bcf54"><span class="id" title="notation">,</span></a> <a class="idref" href="GMu.Preservation.html#eq:24"><span class="id" title="variable">eq</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="GMu.Definitions.html#tc_eq"><span class="id" title="constructor">tc_eq</span></a> <a class="idref" href="GMu.Preservation.html#43c0ba8a83c2111b07e3b37ab47e1030"><span class="id" title="variable">ϵ</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.13.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">)</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="GMu.Definitions.html#01c16c7ccd254b860cbd58c1da68710e"><span class="id" title="notation">{</span></a><a class="idref" href="GMu.Preservation.html#9e57768f7d1333d5d23f870b726fb0dd"><span class="id" title="variable">Σ</span></a><a class="idref" href="GMu.Definitions.html#01c16c7ccd254b860cbd58c1da68710e"><span class="id" title="notation">,</span></a> <a class="idref" href="GMu.Preservation.html#f9db9c6063ff5f1b15c5099350cc188d"><span class="id" title="variable">Δ</span></a> <a class="idref" href="GMu.Definitions.html#3ca84bd817dd2b1e2f0f693cd9400702"><span class="id" title="notation">|,|</span></a> <a class="idref" href="GMu.Preservation.html#Deqs:20"><span class="id" title="variable">Deqs</span></a><a class="idref" href="GMu.Definitions.html#01c16c7ccd254b860cbd58c1da68710e"><span class="id" title="notation">,</span></a> <a class="idref" href="GMu.Preservation.html#E:19"><span class="id" title="variable">E</span></a><a class="idref" href="GMu.Definitions.html#01c16c7ccd254b860cbd58c1da68710e"><span class="id" title="notation">}</span></a> <a class="idref" href="GMu.Definitions.html#01c16c7ccd254b860cbd58c1da68710e"><span class="id" title="notation">⊢(</span></a><a class="idref" href="GMu.Preservation.html#TT:23"><span class="id" title="variable">TT</span></a><a class="idref" href="GMu.Definitions.html#01c16c7ccd254b860cbd58c1da68710e"><span class="id" title="notation">)</span></a> <a class="idref" href="GMu.Preservation.html#u:21"><span class="id" title="variable">u</span></a> <a class="idref" href="GMu.Definitions.html#01c16c7ccd254b860cbd58c1da68710e"><span class="id" title="notation">∈</span></a> <a class="idref" href="GMu.Preservation.html#U:22"><span class="id" title="variable">U</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">induction</span> <span class="id" title="var">Deqs</span>; <span class="id" title="var">introv</span> <span class="id" title="var">Typ</span> <span class="id" title="var">EQs</span>.<br/>
&nbsp;&nbsp;- <span class="id" title="var">clean_empty_Δ</span>. <span class="id" title="tactic">auto</span>.<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">destruct</span> <span class="id" title="var">a</span>;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">try</span> <span class="id" title="tactic">solve</span> [<span class="id" title="var">lets</span> <span class="id" title="var">HF</span>: <span class="id" title="var">EQs</span> (<a class="idref" href="GMu.Definitions.html#tc_var"><span class="id" title="constructor">tc_var</span></a> <span class="id" title="var">A</span>); <span class="id" title="var">false</span>¬ <span class="id" title="var">HF</span>].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">fold_delta</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> &lt;- <a class="idref" href="http://coq.inria.fr/distrib/V8.13.0/stdlib//Coq.Lists.List.html#app_assoc"><span class="id" title="lemma">List.app_assoc</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">lets</span> <span class="id" title="var">W</span>: <a class="idref" href="GMu.Preservation.html#typing_weakening_delta_eq"><span class="id" title="lemma">typing_weakening_delta_eq</span></a> <span class="id" title="var">Σ</span> (<span class="id" title="var">Δ</span> <a class="idref" href="GMu.Definitions.html#3ca84bd817dd2b1e2f0f693cd9400702"><span class="id" title="notation">|,|</span></a> <span class="id" title="var">Deqs</span>) <a class="idref" href="GMu.Definitions.html#c683a0ef5cfb77e0c243d45a72fd3fea"><span class="id" title="definition">emptyΔ</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">clean_empty_Δ</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> &lt;- (<a class="idref" href="http://coq.inria.fr/distrib/V8.13.0/stdlib//Coq.Lists.List.html#app_nil_l"><span class="id" title="lemma">List.app_nil_l</span></a> (<a class="idref" href="GMu.Definitions.html#3ca84bd817dd2b1e2f0f693cd9400702"><span class="id" title="notation">(</span></a><span class="id" title="var">Δ</span> <a class="idref" href="GMu.Definitions.html#3ca84bd817dd2b1e2f0f693cd9400702"><span class="id" title="notation">|,|</span></a> <span class="id" title="var">Deqs</span><a class="idref" href="GMu.Definitions.html#3ca84bd817dd2b1e2f0f693cd9400702"><span class="id" title="notation">)</span></a> <a class="idref" href="GMu.Definitions.html#3ca84bd817dd2b1e2f0f693cd9400702"><span class="id" title="notation">|,|</span></a> <a class="idref" href="GMu.Definitions.html#b5ab1b23d5b56035820660ded1af9bea"><span class="id" title="notation">[</span></a><a class="idref" href="GMu.Definitions.html#tc_eq"><span class="id" title="constructor">tc_eq</span></a> <span class="id" title="var">eq</span><a class="idref" href="GMu.Definitions.html#b5ab1b23d5b56035820660ded1af9bea"><span class="id" title="notation">]*</span></a>)).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span>¬ <span class="id" title="var">W</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span>¬ <span class="id" title="var">IHDeqs</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intros</span> <span class="id" title="var">eq1</span> ?. <span class="id" title="var">lets</span> <span class="id" title="var">Hin</span>: <span class="id" title="var">EQs</span> <span class="id" title="var">eq1</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">Hin</span>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">cbn</span>. <span class="id" title="tactic">auto</span>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="typing_weakening_delta_many" class="idref" href="#typing_weakening_delta_many"><span class="id" title="lemma">typing_weakening_delta_many</span></a> : <span class="id" title="keyword">∀</span> <a id="e023703f3460855264e8fbe327a7ed6a" class="idref" href="#e023703f3460855264e8fbe327a7ed6a"><span class="id" title="binder">Σ</span></a> <a id="e16daab72ef6c21d074ef6277b74adeb" class="idref" href="#e16daab72ef6c21d074ef6277b74adeb"><span class="id" title="binder">Δ</span></a> <a id="E:28" class="idref" href="#E:28"><span class="id" title="binder">E</span></a> <a id="As:29" class="idref" href="#As:29"><span class="id" title="binder">As</span></a> <a id="u:30" class="idref" href="#u:30"><span class="id" title="binder">u</span></a> <a id="U:31" class="idref" href="#U:31"><span class="id" title="binder">U</span></a> <a id="TT:32" class="idref" href="#TT:32"><span class="id" title="binder">TT</span></a>,<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/V8.13.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">(</span></a><span class="id" title="keyword">∀</span> <a id="A:33" class="idref" href="#A:33"><span class="id" title="binder">A</span></a>, <a class="idref" href="http://coq.inria.fr/distrib/V8.13.0/stdlib//Coq.Lists.List.html#In"><span class="id" title="definition">List.In</span></a> <a class="idref" href="GMu.Preservation.html#A:33"><span class="id" title="variable">A</span></a> <a class="idref" href="GMu.Preservation.html#As:29"><span class="id" title="variable">As</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <a class="idref" href="GMu.Preservation.html#A:33"><span class="id" title="variable">A</span></a> <span class="id" title="notation">#</span> <a class="idref" href="GMu.Preservation.html#E:28"><span class="id" title="variable">E</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.13.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">)</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/V8.13.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">(</span></a><span class="id" title="keyword">∀</span> <a id="A:34" class="idref" href="#A:34"><span class="id" title="binder">A</span></a>, <a class="idref" href="http://coq.inria.fr/distrib/V8.13.0/stdlib//Coq.Lists.List.html#In"><span class="id" title="definition">List.In</span></a> <a class="idref" href="GMu.Preservation.html#A:34"><span class="id" title="variable">A</span></a> <a class="idref" href="GMu.Preservation.html#As:29"><span class="id" title="variable">As</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <a class="idref" href="GMu.Preservation.html#A:34"><span class="id" title="variable">A</span></a> <span class="id" title="notation">\</span><span class="id" title="notation">notin</span> <a class="idref" href="GMu.Definitions.html#e1e06a37011ebd9f9e861e05c79f4e29"><span class="id" title="definition">domΔ</span></a> <a class="idref" href="GMu.Preservation.html#e16daab72ef6c21d074ef6277b74adeb"><span class="id" title="variable">Δ</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.13.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">)</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="GMu.Definitions.html#DistinctList"><span class="id" title="inductive">DistinctList</span></a> <a class="idref" href="GMu.Preservation.html#As:29"><span class="id" title="variable">As</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="GMu.Definitions.html#01c16c7ccd254b860cbd58c1da68710e"><span class="id" title="notation">{</span></a><a class="idref" href="GMu.Preservation.html#e023703f3460855264e8fbe327a7ed6a"><span class="id" title="variable">Σ</span></a><a class="idref" href="GMu.Definitions.html#01c16c7ccd254b860cbd58c1da68710e"><span class="id" title="notation">,</span></a> <a class="idref" href="GMu.Preservation.html#e16daab72ef6c21d074ef6277b74adeb"><span class="id" title="variable">Δ</span></a><a class="idref" href="GMu.Definitions.html#01c16c7ccd254b860cbd58c1da68710e"><span class="id" title="notation">,</span></a> <a class="idref" href="GMu.Preservation.html#E:28"><span class="id" title="variable">E</span></a><a class="idref" href="GMu.Definitions.html#01c16c7ccd254b860cbd58c1da68710e"><span class="id" title="notation">}</span></a> <a class="idref" href="GMu.Definitions.html#01c16c7ccd254b860cbd58c1da68710e"><span class="id" title="notation">⊢(</span></a><a class="idref" href="GMu.Preservation.html#TT:32"><span class="id" title="variable">TT</span></a><a class="idref" href="GMu.Definitions.html#01c16c7ccd254b860cbd58c1da68710e"><span class="id" title="notation">)</span></a> <a class="idref" href="GMu.Preservation.html#u:30"><span class="id" title="variable">u</span></a> <a class="idref" href="GMu.Definitions.html#01c16c7ccd254b860cbd58c1da68710e"><span class="id" title="notation">∈</span></a> <a class="idref" href="GMu.Preservation.html#U:31"><span class="id" title="variable">U</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="GMu.Definitions.html#01c16c7ccd254b860cbd58c1da68710e"><span class="id" title="notation">{</span></a><a class="idref" href="GMu.Preservation.html#e023703f3460855264e8fbe327a7ed6a"><span class="id" title="variable">Σ</span></a><a class="idref" href="GMu.Definitions.html#01c16c7ccd254b860cbd58c1da68710e"><span class="id" title="notation">,</span></a> <a class="idref" href="GMu.Preservation.html#e16daab72ef6c21d074ef6277b74adeb"><span class="id" title="variable">Δ</span></a> <a class="idref" href="GMu.Definitions.html#3ca84bd817dd2b1e2f0f693cd9400702"><span class="id" title="notation">|,|</span></a> <a class="idref" href="GMu.Definitions.html#tc_vars"><span class="id" title="definition">tc_vars</span></a> <a class="idref" href="GMu.Preservation.html#As:29"><span class="id" title="variable">As</span></a><a class="idref" href="GMu.Definitions.html#01c16c7ccd254b860cbd58c1da68710e"><span class="id" title="notation">,</span></a> <a class="idref" href="GMu.Preservation.html#E:28"><span class="id" title="variable">E</span></a><a class="idref" href="GMu.Definitions.html#01c16c7ccd254b860cbd58c1da68710e"><span class="id" title="notation">}</span></a> <a class="idref" href="GMu.Definitions.html#01c16c7ccd254b860cbd58c1da68710e"><span class="id" title="notation">⊢(</span></a><a class="idref" href="GMu.Preservation.html#TT:32"><span class="id" title="variable">TT</span></a><a class="idref" href="GMu.Definitions.html#01c16c7ccd254b860cbd58c1da68710e"><span class="id" title="notation">)</span></a> <a class="idref" href="GMu.Preservation.html#u:30"><span class="id" title="variable">u</span></a> <a class="idref" href="GMu.Definitions.html#01c16c7ccd254b860cbd58c1da68710e"><span class="id" title="notation">∈</span></a> <a class="idref" href="GMu.Preservation.html#U:31"><span class="id" title="variable">U</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">induction</span> <span class="id" title="var">As</span> <span class="id" title="keyword">as</span> [| <span class="id" title="var">Ah</span> <span class="id" title="var">Ats</span>]; <span class="id" title="var">introv</span> <span class="id" title="var">AE</span> <span class="id" title="var">AD</span> <span class="id" title="var">Adist</span> <span class="id" title="var">Typ</span>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;- <span class="id" title="var">cbn</span>. <span class="id" title="var">clean_empty_Δ</span>. <span class="id" title="tactic">auto</span>.<br/>
&nbsp;&nbsp;- <span class="id" title="var">cbn</span>. <span class="id" title="var">fold_delta</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">inversions</span> <span class="id" title="var">Adist</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> &lt;- (<a class="idref" href="http://coq.inria.fr/distrib/V8.13.0/stdlib//Coq.Lists.List.html#app_nil_l"><span class="id" title="lemma">List.app_nil_l</span></a> (<a class="idref" href="GMu.Definitions.html#3ca84bd817dd2b1e2f0f693cd9400702"><span class="id" title="notation">(</span></a><span class="id" title="var">Δ</span> <a class="idref" href="GMu.Definitions.html#3ca84bd817dd2b1e2f0f693cd9400702"><span class="id" title="notation">|,|</span></a> <a class="idref" href="GMu.Definitions.html#tc_vars"><span class="id" title="definition">tc_vars</span></a> <span class="id" title="var">Ats</span><a class="idref" href="GMu.Definitions.html#3ca84bd817dd2b1e2f0f693cd9400702"><span class="id" title="notation">)</span></a> <a class="idref" href="GMu.Definitions.html#3ca84bd817dd2b1e2f0f693cd9400702"><span class="id" title="notation">|,|</span></a> <a class="idref" href="GMu.Definitions.html#b5ab1b23d5b56035820660ded1af9bea"><span class="id" title="notation">[</span></a><a class="idref" href="GMu.Definitions.html#tc_var"><span class="id" title="constructor">tc_var</span></a> <span class="id" title="var">Ah</span><a class="idref" href="GMu.Definitions.html#b5ab1b23d5b56035820660ded1af9bea"><span class="id" title="notation">]*</span></a>)).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="GMu.Preservation.html#typing_weakening_delta"><span class="id" title="lemma">typing_weakening_delta</span></a>; <span class="id" title="var">cbn</span>; <span class="id" title="tactic">auto</span> <span class="id" title="keyword">with</span> <span class="id" title="var">listin</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <a class="idref" href="GMu.InfrastructureFV.html#e986378a2a44bd3bcdda6d5b28752f62"><span class="id" title="lemma">notin_domΔ_eq</span></a>. <span class="id" title="tactic">split</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="tactic">auto</span> <span class="id" title="keyword">with</span> <span class="id" title="var">listin</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="tactic">apply</span> <a class="idref" href="GMu.InfrastructureFV.html#notin_dom_tc_vars"><span class="id" title="lemma">notin_dom_tc_vars</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intro</span> <span class="id" title="var">HF</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="GMu.Prelude.html#from_list_spec"><span class="id" title="lemma">from_list_spec</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">HF</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="GMu.Prelude.html#LibList_mem"><span class="id" title="lemma">LibList_mem</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">HF</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">auto</span>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="typing_weakening" class="idref" href="#typing_weakening"><span class="id" title="lemma">typing_weakening</span></a> : <span class="id" title="keyword">∀</span> <a id="9ea391fdfca2d92fa2d39490b0221e9c" class="idref" href="#9ea391fdfca2d92fa2d39490b0221e9c"><span class="id" title="binder">Σ</span></a> <a id="cb2aea9873e9c48b6aed75f059ae789d" class="idref" href="#cb2aea9873e9c48b6aed75f059ae789d"><span class="id" title="binder">Δ</span></a> <a id="E:37" class="idref" href="#E:37"><span class="id" title="binder">E</span></a> <a id="F:38" class="idref" href="#F:38"><span class="id" title="binder">F</span></a> <a id="G:39" class="idref" href="#G:39"><span class="id" title="binder">G</span></a> <a id="e:40" class="idref" href="#e:40"><span class="id" title="binder">e</span></a> <a id="T:41" class="idref" href="#T:41"><span class="id" title="binder">T</span></a> <a id="TT:42" class="idref" href="#TT:42"><span class="id" title="binder">TT</span></a>,<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="GMu.Definitions.html#01c16c7ccd254b860cbd58c1da68710e"><span class="id" title="notation">{</span></a><a class="idref" href="GMu.Preservation.html#9ea391fdfca2d92fa2d39490b0221e9c"><span class="id" title="variable">Σ</span></a><a class="idref" href="GMu.Definitions.html#01c16c7ccd254b860cbd58c1da68710e"><span class="id" title="notation">,</span></a> <a class="idref" href="GMu.Preservation.html#cb2aea9873e9c48b6aed75f059ae789d"><span class="id" title="variable">Δ</span></a><a class="idref" href="GMu.Definitions.html#01c16c7ccd254b860cbd58c1da68710e"><span class="id" title="notation">,</span></a> <a class="idref" href="GMu.Preservation.html#E:37"><span class="id" title="variable">E</span></a> <span class="id" title="notation">&amp;</span> <a class="idref" href="GMu.Preservation.html#G:39"><span class="id" title="variable">G</span></a><a class="idref" href="GMu.Definitions.html#01c16c7ccd254b860cbd58c1da68710e"><span class="id" title="notation">}</span></a> <a class="idref" href="GMu.Definitions.html#01c16c7ccd254b860cbd58c1da68710e"><span class="id" title="notation">⊢(</span></a><a class="idref" href="GMu.Preservation.html#TT:42"><span class="id" title="variable">TT</span></a><a class="idref" href="GMu.Definitions.html#01c16c7ccd254b860cbd58c1da68710e"><span class="id" title="notation">)</span></a> <a class="idref" href="GMu.Preservation.html#e:40"><span class="id" title="variable">e</span></a> <a class="idref" href="GMu.Definitions.html#01c16c7ccd254b860cbd58c1da68710e"><span class="id" title="notation">∈</span></a> <a class="idref" href="GMu.Preservation.html#T:41"><span class="id" title="variable">T</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="GMu.Definitions.html#okt"><span class="id" title="inductive">okt</span></a> <a class="idref" href="GMu.Preservation.html#9ea391fdfca2d92fa2d39490b0221e9c"><span class="id" title="variable">Σ</span></a> <a class="idref" href="GMu.Preservation.html#cb2aea9873e9c48b6aed75f059ae789d"><span class="id" title="variable">Δ</span></a> (<a class="idref" href="GMu.Preservation.html#E:37"><span class="id" title="variable">E</span></a> <span class="id" title="notation">&amp;</span> <a class="idref" href="GMu.Preservation.html#F:38"><span class="id" title="variable">F</span></a> <span class="id" title="notation">&amp;</span> <a class="idref" href="GMu.Preservation.html#G:39"><span class="id" title="variable">G</span></a>) <a class="idref" href="http://coq.inria.fr/distrib/V8.13.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="GMu.Definitions.html#01c16c7ccd254b860cbd58c1da68710e"><span class="id" title="notation">{</span></a><a class="idref" href="GMu.Preservation.html#9ea391fdfca2d92fa2d39490b0221e9c"><span class="id" title="variable">Σ</span></a><a class="idref" href="GMu.Definitions.html#01c16c7ccd254b860cbd58c1da68710e"><span class="id" title="notation">,</span></a> <a class="idref" href="GMu.Preservation.html#cb2aea9873e9c48b6aed75f059ae789d"><span class="id" title="variable">Δ</span></a><a class="idref" href="GMu.Definitions.html#01c16c7ccd254b860cbd58c1da68710e"><span class="id" title="notation">,</span></a> <a class="idref" href="GMu.Preservation.html#E:37"><span class="id" title="variable">E</span></a> <span class="id" title="notation">&amp;</span> <a class="idref" href="GMu.Preservation.html#F:38"><span class="id" title="variable">F</span></a> <span class="id" title="notation">&amp;</span> <a class="idref" href="GMu.Preservation.html#G:39"><span class="id" title="variable">G</span></a><a class="idref" href="GMu.Definitions.html#01c16c7ccd254b860cbd58c1da68710e"><span class="id" title="notation">}</span></a> <a class="idref" href="GMu.Definitions.html#01c16c7ccd254b860cbd58c1da68710e"><span class="id" title="notation">⊢(</span></a><a class="idref" href="GMu.Preservation.html#TT:42"><span class="id" title="variable">TT</span></a><a class="idref" href="GMu.Definitions.html#01c16c7ccd254b860cbd58c1da68710e"><span class="id" title="notation">)</span></a> <a class="idref" href="GMu.Preservation.html#e:40"><span class="id" title="variable">e</span></a> <a class="idref" href="GMu.Definitions.html#01c16c7ccd254b860cbd58c1da68710e"><span class="id" title="notation">∈</span></a> <a class="idref" href="GMu.Preservation.html#T:41"><span class="id" title="variable">T</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="var">introv</span> <span class="id" title="var">HTyp</span>. <span class="id" title="var">gen_eq</span> <span class="id" title="var">K</span>: (<span class="id" title="var">E</span> <span class="id" title="notation">&amp;</span> <span class="id" title="var">G</span>). <span class="id" title="var">gen</span> <span class="id" title="var">G</span> <span class="id" title="var">F</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">induction</span> <span class="id" title="var">HTyp</span> <span class="id" title="keyword">using</span> <a class="idref" href="GMu.Definitions.html#typing_ind"><span class="id" title="definition">typing_ind</span></a>; <span class="id" title="var">introv</span> <span class="id" title="var">EQ</span> <span class="id" title="var">Ok</span>; <span class="id" title="tactic">subst</span>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">apply</span>× <a class="idref" href="GMu.Definitions.html#typing_var"><span class="id" title="constructor">typing_var</span></a>. <span class="id" title="tactic">apply</span>× <span class="id" title="lemma">binds_weaken</span>.<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">econstructor</span>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">let</span> <span class="id" title="var">env</span> := <span class="id" title="var">gather_vars</span> <span class="id" title="tactic">in</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">instantiate</span> (2:=<span class="id" title="var">env</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">introv</span> <span class="id" title="var">xfresh</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">lets</span> <span class="id" title="var">IH</span>: <span class="id" title="var">H0</span> <span class="id" title="var">x</span> (<span class="id" title="var">G</span> <span class="id" title="notation">&amp;</span> <span class="id" title="var">x</span> <a class="idref" href="GMu.Definitions.html#b3a5fed3be65da8670dcc1af214c6fbb"><span class="id" title="notation">¬</span></a><a class="idref" href="GMu.Definitions.html#b3a5fed3be65da8670dcc1af214c6fbb"><span class="id" title="notation">l</span></a> <span class="id" title="var">V</span>) <span class="id" title="var">F</span>; <span class="id" title="tactic">auto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> &lt;- <span class="id" title="lemma">concat_assoc</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <span class="id" title="var">IH</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="tactic">auto</span> <span class="id" title="keyword">using</span> <span class="id" title="lemma">concat_assoc</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="tactic">rewrite</span> <span class="id" title="lemma">concat_assoc</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">econstructor</span>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">assert</span> (<span class="id" title="var">xL</span>: <span class="id" title="var">x</span> <span class="id" title="notation">\</span><span class="id" title="notation">notin</span> <span class="id" title="var">L</span>); <span class="id" title="tactic">auto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">lets</span> <span class="id" title="var">Typ</span>: <span class="id" title="var">H</span> <span class="id" title="var">xL</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">lets</span> [? [? ?]]: <a class="idref" href="GMu.Regularity.html#typing_regular"><span class="id" title="lemma">typing_regular</span></a> <span class="id" title="var">Typ</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="GMu.Regularity.html#okt_is_wft"><span class="id" title="lemma">okt_is_wft</span></a>. <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;- <span class="id" title="var">apply_fresh</span>× <a class="idref" href="GMu.Definitions.html#typing_tabs"><span class="id" title="constructor">typing_tabs</span></a> <span class="id" title="keyword">as</span> <span class="id" title="var">X</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">lets</span> <span class="id" title="var">IH</span>: <span class="id" title="var">H1</span> <span class="id" title="var">X</span> <span class="id" title="var">G</span> <span class="id" title="var">F</span>; <span class="id" title="tactic">auto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <span class="id" title="var">IH</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="tactic">auto</span> <span class="id" title="keyword">using</span> <a class="idref" href="GMu.Prelude.html#JMeq_from_eq"><span class="id" title="lemma">JMeq_from_eq</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="tactic">rewrite</span> &lt;- (<a class="idref" href="http://coq.inria.fr/distrib/V8.13.0/stdlib//Coq.Lists.List.html#app_nil_l"><span class="id" title="lemma">List.app_nil_l</span></a> (<span class="id" title="var">Δ</span> <a class="idref" href="GMu.Definitions.html#3ca84bd817dd2b1e2f0f693cd9400702"><span class="id" title="notation">|,|</span></a> <a class="idref" href="GMu.Definitions.html#b5ab1b23d5b56035820660ded1af9bea"><span class="id" title="notation">[</span></a><a class="idref" href="GMu.Definitions.html#tc_var"><span class="id" title="constructor">tc_var</span></a> <span class="id" title="var">X</span><a class="idref" href="GMu.Definitions.html#b5ab1b23d5b56035820660ded1af9bea"><span class="id" title="notation">]*</span></a>)).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="GMu.Regularity2.html#okt_weakening_delta"><span class="id" title="lemma">okt_weakening_delta</span></a>; <span class="id" title="var">clean_empty_Δ</span>; <span class="id" title="var">cbn</span>; <span class="id" title="tactic">auto</span>.<br/>
&nbsp;&nbsp;- <span class="id" title="var">apply_fresh</span>× <a class="idref" href="GMu.Definitions.html#typing_fix"><span class="id" title="constructor">typing_fix</span></a> <span class="id" title="keyword">as</span> <span class="id" title="var">x</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">lets</span> <span class="id" title="var">IH</span>: <span class="id" title="var">H1</span> <span class="id" title="var">x</span> (<span class="id" title="var">G</span> <span class="id" title="notation">&amp;</span> <span class="id" title="var">x</span> <a class="idref" href="GMu.Definitions.html#8c787164ec190738f11bf17930b74014"><span class="id" title="notation">¬</span></a><a class="idref" href="GMu.Definitions.html#8c787164ec190738f11bf17930b74014"><span class="id" title="notation">f</span></a> <span class="id" title="var">T</span>) <span class="id" title="var">F</span>; <span class="id" title="tactic">auto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> &lt;- <span class="id" title="lemma">concat_assoc</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <span class="id" title="var">IH</span>; <span class="id" title="tactic">repeat</span> <span class="id" title="tactic">rewrite</span> <span class="id" title="lemma">concat_assoc</span>; <span class="id" title="tactic">auto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">constructor</span>; <span class="id" title="tactic">auto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">lets</span> [? [? ?]]: <a class="idref" href="GMu.Regularity.html#typing_regular"><span class="id" title="lemma">typing_regular</span></a> <span class="id" title="var">T</span>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;- <span class="id" title="var">apply_fresh</span>× <a class="idref" href="GMu.Definitions.html#typing_let"><span class="id" title="constructor">typing_let</span></a> <span class="id" title="keyword">as</span> <span class="id" title="var">x</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">lets</span> <span class="id" title="var">IH</span>: <span class="id" title="var">H0</span> <span class="id" title="var">x</span> (<span class="id" title="var">G</span> <span class="id" title="notation">&amp;</span> <span class="id" title="var">x</span> <a class="idref" href="GMu.Definitions.html#b3a5fed3be65da8670dcc1af214c6fbb"><span class="id" title="notation">¬</span></a><a class="idref" href="GMu.Definitions.html#b3a5fed3be65da8670dcc1af214c6fbb"><span class="id" title="notation">l</span></a> <span class="id" title="var">V</span>) <span class="id" title="var">F</span>; <span class="id" title="tactic">auto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> &lt;- <span class="id" title="lemma">concat_assoc</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <span class="id" title="var">IH</span>; <span class="id" title="tactic">repeat</span> <span class="id" title="tactic">rewrite</span> <span class="id" title="lemma">concat_assoc</span>; <span class="id" title="tactic">auto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">constructor</span>; <span class="id" title="tactic">auto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">lets</span> [? [? ?]]: <a class="idref" href="GMu.Regularity.html#typing_regular"><span class="id" title="lemma">typing_regular</span></a> <span class="id" title="var">V</span>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">eapply</span> <a class="idref" href="GMu.Definitions.html#typing_case"><span class="id" title="constructor">typing_case</span></a>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">introv</span> <span class="id" title="var">Inzip</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">let</span> <span class="id" title="var">envvars</span> := <span class="id" title="var">gather_vars</span> <span class="id" title="tactic">in</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id" title="var">introv</span> <span class="id" title="var">AlphasArity</span> <span class="id" title="var">ADistinct</span> <span class="id" title="var">Afresh</span> <span class="id" title="var">xfresh</span> <span class="id" title="var">xfreshA</span>;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">instantiate</span> (1:=<span class="id" title="var">envvars</span>) <span class="id" title="tactic">in</span> <span class="id" title="var">Afresh</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">assert</span> (<span class="id" title="var">AfreshL</span>: <span class="id" title="keyword">∀</span> <a id="A:44" class="idref" href="#A:44"><span class="id" title="binder">A</span></a> : <span class="id" title="axiom">var</span>, <a class="idref" href="http://coq.inria.fr/distrib/V8.13.0/stdlib//Coq.Lists.List.html#In"><span class="id" title="definition">List.In</span></a> <a class="idref" href="GMu.Preservation.html#A:43"><span class="id" title="variable">A</span></a> <span class="id" title="var">Alphas</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <a class="idref" href="GMu.Preservation.html#A:43"><span class="id" title="variable">A</span></a> <span class="id" title="notation">\</span><span class="id" title="notation">notin</span> <span class="id" title="var">L</span>);<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;[ <span class="id" title="var">introv</span> <span class="id" title="var">Ain</span>; <span class="id" title="var">lets</span>*: <span class="id" title="var">Afresh</span> <span class="id" title="var">Ain</span> | <span class="id" title="tactic">idtac</span> ].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">assert</span> (<span class="id" title="var">xfreshL</span>: <span class="id" title="var">x</span> <span class="id" title="notation">\</span><span class="id" title="notation">notin</span> <span class="id" title="var">L</span>); <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">lets</span>× <span class="id" title="var">IH1</span>: <span class="id" title="var">H4</span> <span class="id" title="var">Inzip</span> <span class="id" title="var">Alphas</span> <span class="id" title="var">x</span> <span class="id" title="var">AlphasArity</span> <span class="id" title="var">ADistinct</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">lets</span>× <span class="id" title="var">IH2</span>: <span class="id" title="var">IH1</span> <span class="id" title="var">AfreshL</span> <span class="id" title="var">xfreshL</span> <span class="id" title="var">xfreshA</span> (<span class="id" title="var">G</span> <span class="id" title="notation">&amp;</span> <span class="id" title="var">x</span> <a class="idref" href="GMu.Definitions.html#b3a5fed3be65da8670dcc1af214c6fbb"><span class="id" title="notation">¬</span></a><a class="idref" href="GMu.Definitions.html#b3a5fed3be65da8670dcc1af214c6fbb"><span class="id" title="notation">l</span></a> <a class="idref" href="GMu.Definitions.html#open_tt_many_var"><span class="id" title="definition">open_tt_many_var</span></a> <span class="id" title="var">Alphas</span> (<a class="idref" href="GMu.Definitions.html#Cargtype"><span class="id" title="projection">Cargtype</span></a> <span class="id" title="var">def</span>)) <span class="id" title="var">F</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">repeat</span> <span class="id" title="tactic">rewrite</span> <span class="id" title="lemma">concat_assoc</span> <span class="id" title="tactic">in</span> <span class="id" title="var">IH2</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span>¬ <span class="id" title="var">IH2</span>.<br/>

<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">constructor</span>; <span class="id" title="tactic">auto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="tactic">rewrite</span> &lt;- (<a class="idref" href="http://coq.inria.fr/distrib/V8.13.0/stdlib//Coq.Lists.List.html#app_nil_l"><span class="id" title="lemma">List.app_nil_l</span></a> (<span class="id" title="var">Δ</span> <a class="idref" href="GMu.Definitions.html#3ca84bd817dd2b1e2f0f693cd9400702"><span class="id" title="notation">|,|</span></a> <a class="idref" href="GMu.Definitions.html#tc_vars"><span class="id" title="definition">tc_vars</span></a> <span class="id" title="var">Alphas</span> <a class="idref" href="GMu.Definitions.html#3ca84bd817dd2b1e2f0f693cd9400702"><span class="id" title="notation">|,|</span></a> <a class="idref" href="GMu.Definitions.html#equations_from_lists"><span class="id" title="definition">equations_from_lists</span></a> <span class="id" title="var">Ts</span> (<a class="idref" href="http://coq.inria.fr/distrib/V8.13.0/stdlib//Coq.Lists.List.html#map"><span class="id" title="definition">List.map</span></a> (<a class="idref" href="GMu.Definitions.html#open_tt_many_var"><span class="id" title="definition">open_tt_many_var</span></a> <span class="id" title="var">Alphas</span>) (<a class="idref" href="GMu.Definitions.html#Crettypes"><span class="id" title="projection">Crettypes</span></a> <span class="id" title="var">def</span>)))).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="GMu.Regularity2.html#okt_weakening_delta_many_eq"><span class="id" title="lemma">okt_weakening_delta_many_eq</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;× <span class="id" title="tactic">apply</span> <a class="idref" href="GMu.Regularity2.html#okt_weakening_delta_many"><span class="id" title="lemma">okt_weakening_delta_many</span></a>; <span class="id" title="var">clean_empty_Δ</span>;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">try</span> <span class="id" title="tactic">solve</span> [<span class="id" title="var">introv</span> <span class="id" title="var">Ain</span>; <span class="id" title="var">cbn</span>; <span class="id" title="var">lets</span>: <span class="id" title="var">Afresh</span> <span class="id" title="var">Ain</span>; <span class="id" title="tactic">auto</span>]; <span class="id" title="tactic">auto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;× <span class="id" title="tactic">apply</span>× <a class="idref" href="GMu.Prelude.html#equations_from_lists_are_equations"><span class="id" title="lemma">equations_from_lists_are_equations</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="tactic">assert</span> (<span class="id" title="var">OKS</span>: <a class="idref" href="GMu.Definitions.html#okGadt"><span class="id" title="definition">okGadt</span></a> <span class="id" title="var">Σ</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;× <span class="id" title="tactic">apply</span>¬ <a class="idref" href="GMu.Regularity.html#okt_implies_okgadt"><span class="id" title="lemma">okt_implies_okgadt</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span>× <a class="idref" href="GMu.Regularity.html#typing_regular"><span class="id" title="lemma">typing_regular</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;× <span class="id" title="tactic">destruct</span> <span class="id" title="var">OKS</span> <span class="id" title="keyword">as</span> [? <span class="id" title="var">OKS</span>].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">lets</span> [? <span class="id" title="var">OKD</span>]: <span class="id" title="var">OKS</span> <span class="id" title="var">H0</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">lets</span> <span class="id" title="var">Din</span>: <a class="idref" href="GMu.Zip.html#fst_from_zip"><span class="id" title="lemma">fst_from_zip</span></a> <span class="id" title="var">Inzip</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">lets</span> <span class="id" title="var">OKC</span>: <span class="id" title="var">OKD</span> <span class="id" title="var">Din</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">inversion</span> <span class="id" title="var">OKC</span> <span class="id" title="keyword">as</span> [? ? ? ? ? ? <span class="id" title="var">Harg</span> ? ? ?]; <span class="id" title="tactic">subst</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">cbn</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="GMu.Regularity2.html#wft_weaken_simple"><span class="id" title="lemma">wft_weaken_simple</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span>¬ <span class="id" title="var">Harg</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="tactic">repeat</span> <span class="id" title="tactic">rewrite</span> <a class="idref" href="GMu.InfrastructureFV.html#e986378a2a44bd3bcdda6d5b28752f62"><span class="id" title="lemma">notin_domΔ_eq</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">split</span>¬.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;× <span class="id" title="tactic">split</span>¬.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="GMu.InfrastructureFV.html#notin_dom_tc_vars"><span class="id" title="lemma">notin_dom_tc_vars</span></a>. <span class="id" title="tactic">auto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;× <span class="id" title="tactic">rewrite</span> <a class="idref" href="GMu.InfrastructureFV.html#equations_have_no_dom"><span class="id" title="lemma">equations_have_no_dom</span></a>; <span class="id" title="tactic">eauto</span> <span class="id" title="keyword">using</span> <a class="idref" href="GMu.Prelude.html#equations_from_lists_are_equations"><span class="id" title="lemma">equations_from_lists_are_equations</span></a>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="typing_through_subst_ee_lam" class="idref" href="#typing_through_subst_ee_lam"><span class="id" title="lemma">typing_through_subst_ee_lam</span></a> : <span class="id" title="keyword">∀</span> <a id="8bac999218c391434ebfca8da64fb69b" class="idref" href="#8bac999218c391434ebfca8da64fb69b"><span class="id" title="binder">Σ</span></a> <a id="0e322e9f9fade6a92839f0f35e288c1a" class="idref" href="#0e322e9f9fade6a92839f0f35e288c1a"><span class="id" title="binder">Δ</span></a> <a id="E:47" class="idref" href="#E:47"><span class="id" title="binder">E</span></a> <a id="F:48" class="idref" href="#F:48"><span class="id" title="binder">F</span></a> <a id="x:49" class="idref" href="#x:49"><span class="id" title="binder">x</span></a> <a id="u:50" class="idref" href="#u:50"><span class="id" title="binder">u</span></a> <a id="U:51" class="idref" href="#U:51"><span class="id" title="binder">U</span></a> <a id="e:52" class="idref" href="#e:52"><span class="id" title="binder">e</span></a> <a id="T:53" class="idref" href="#T:53"><span class="id" title="binder">T</span></a> <a id="TT1:54" class="idref" href="#TT1:54"><span class="id" title="binder">TT1</span></a> <a id="TT2:55" class="idref" href="#TT2:55"><span class="id" title="binder">TT2</span></a>,<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="GMu.Definitions.html#01c16c7ccd254b860cbd58c1da68710e"><span class="id" title="notation">{</span></a><a class="idref" href="GMu.Preservation.html#8bac999218c391434ebfca8da64fb69b"><span class="id" title="variable">Σ</span></a><a class="idref" href="GMu.Definitions.html#01c16c7ccd254b860cbd58c1da68710e"><span class="id" title="notation">,</span></a> <a class="idref" href="GMu.Preservation.html#0e322e9f9fade6a92839f0f35e288c1a"><span class="id" title="variable">Δ</span></a><a class="idref" href="GMu.Definitions.html#01c16c7ccd254b860cbd58c1da68710e"><span class="id" title="notation">,</span></a> <a class="idref" href="GMu.Preservation.html#E:47"><span class="id" title="variable">E</span></a> <span class="id" title="notation">&amp;</span> <span class="id" title="notation">(</span><a class="idref" href="GMu.Preservation.html#x:49"><span class="id" title="variable">x</span></a> <a class="idref" href="GMu.Definitions.html#b3a5fed3be65da8670dcc1af214c6fbb"><span class="id" title="notation">¬</span></a><a class="idref" href="GMu.Definitions.html#b3a5fed3be65da8670dcc1af214c6fbb"><span class="id" title="notation">l</span></a> <a class="idref" href="GMu.Preservation.html#U:51"><span class="id" title="variable">U</span></a><span class="id" title="notation">)</span> <span class="id" title="notation">&amp;</span> <a class="idref" href="GMu.Preservation.html#F:48"><span class="id" title="variable">F</span></a><a class="idref" href="GMu.Definitions.html#01c16c7ccd254b860cbd58c1da68710e"><span class="id" title="notation">}</span></a> <a class="idref" href="GMu.Definitions.html#01c16c7ccd254b860cbd58c1da68710e"><span class="id" title="notation">⊢(</span></a><a class="idref" href="GMu.Preservation.html#TT1:54"><span class="id" title="variable">TT1</span></a><a class="idref" href="GMu.Definitions.html#01c16c7ccd254b860cbd58c1da68710e"><span class="id" title="notation">)</span></a> <a class="idref" href="GMu.Preservation.html#e:52"><span class="id" title="variable">e</span></a> <a class="idref" href="GMu.Definitions.html#01c16c7ccd254b860cbd58c1da68710e"><span class="id" title="notation">∈</span></a> <a class="idref" href="GMu.Preservation.html#T:53"><span class="id" title="variable">T</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="GMu.Definitions.html#01c16c7ccd254b860cbd58c1da68710e"><span class="id" title="notation">{</span></a><a class="idref" href="GMu.Preservation.html#8bac999218c391434ebfca8da64fb69b"><span class="id" title="variable">Σ</span></a><a class="idref" href="GMu.Definitions.html#01c16c7ccd254b860cbd58c1da68710e"><span class="id" title="notation">,</span></a> <a class="idref" href="GMu.Preservation.html#0e322e9f9fade6a92839f0f35e288c1a"><span class="id" title="variable">Δ</span></a><a class="idref" href="GMu.Definitions.html#01c16c7ccd254b860cbd58c1da68710e"><span class="id" title="notation">,</span></a> <a class="idref" href="GMu.Preservation.html#E:47"><span class="id" title="variable">E</span></a><a class="idref" href="GMu.Definitions.html#01c16c7ccd254b860cbd58c1da68710e"><span class="id" title="notation">}</span></a> <a class="idref" href="GMu.Definitions.html#01c16c7ccd254b860cbd58c1da68710e"><span class="id" title="notation">⊢(</span></a><a class="idref" href="GMu.Preservation.html#TT2:55"><span class="id" title="variable">TT2</span></a><a class="idref" href="GMu.Definitions.html#01c16c7ccd254b860cbd58c1da68710e"><span class="id" title="notation">)</span></a> <a class="idref" href="GMu.Preservation.html#u:50"><span class="id" title="variable">u</span></a> <a class="idref" href="GMu.Definitions.html#01c16c7ccd254b860cbd58c1da68710e"><span class="id" title="notation">∈</span></a> <a class="idref" href="GMu.Preservation.html#U:51"><span class="id" title="variable">U</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="GMu.Definitions.html#value"><span class="id" title="inductive">value</span></a> <a class="idref" href="GMu.Preservation.html#u:50"><span class="id" title="variable">u</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="GMu.Definitions.html#01c16c7ccd254b860cbd58c1da68710e"><span class="id" title="notation">{</span></a><a class="idref" href="GMu.Preservation.html#8bac999218c391434ebfca8da64fb69b"><span class="id" title="variable">Σ</span></a><a class="idref" href="GMu.Definitions.html#01c16c7ccd254b860cbd58c1da68710e"><span class="id" title="notation">,</span></a> <a class="idref" href="GMu.Preservation.html#0e322e9f9fade6a92839f0f35e288c1a"><span class="id" title="variable">Δ</span></a><a class="idref" href="GMu.Definitions.html#01c16c7ccd254b860cbd58c1da68710e"><span class="id" title="notation">,</span></a> <a class="idref" href="GMu.Preservation.html#E:47"><span class="id" title="variable">E</span></a> <span class="id" title="notation">&amp;</span> <a class="idref" href="GMu.Preservation.html#F:48"><span class="id" title="variable">F</span></a><a class="idref" href="GMu.Definitions.html#01c16c7ccd254b860cbd58c1da68710e"><span class="id" title="notation">}</span></a> <a class="idref" href="GMu.Definitions.html#01c16c7ccd254b860cbd58c1da68710e"><span class="id" title="notation">⊢(</span></a><a class="idref" href="GMu.Definitions.html#Tgen"><span class="id" title="constructor">Tgen</span></a><a class="idref" href="GMu.Definitions.html#01c16c7ccd254b860cbd58c1da68710e"><span class="id" title="notation">)</span></a> <a class="idref" href="GMu.Definitions.html#subst_ee"><span class="id" title="definition">subst_ee</span></a> <a class="idref" href="GMu.Preservation.html#x:49"><span class="id" title="variable">x</span></a> <a class="idref" href="GMu.Definitions.html#lam_var"><span class="id" title="constructor">lam_var</span></a> <a class="idref" href="GMu.Preservation.html#u:50"><span class="id" title="variable">u</span></a> <a class="idref" href="GMu.Preservation.html#e:52"><span class="id" title="variable">e</span></a> <a class="idref" href="GMu.Definitions.html#01c16c7ccd254b860cbd58c1da68710e"><span class="id" title="notation">∈</span></a> <a class="idref" href="GMu.Preservation.html#T:53"><span class="id" title="variable">T</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Ltac</span> <span class="id" title="var">apply_ih</span> :=<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">match</span> <span class="id" title="keyword">goal</span> <span class="id" title="keyword">with</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;| <span class="id" title="var">H</span>: <span class="id" title="keyword">∀</span> <a id="X:88" class="idref" href="#X:88"><span class="id" title="binder">X</span></a>, <a class="idref" href="GMu.Preservation.html#X:56"><span class="id" title="variable">X</span></a> <span class="id" title="notation">\</span><span class="id" title="notation">notin</span> ?<span class="id" title="var">L</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <span class="id" title="keyword">∀</span> <a id="E0:89" class="idref" href="#E0:89"><span class="id" title="binder">E0</span></a> <a id="F0:90" class="idref" href="#F0:90"><span class="id" title="binder">F0</span></a> <a id="x0:91" class="idref" href="#x0:91"><span class="id" title="binder">x0</span></a> <a id="vk0:92" class="idref" href="#vk0:92"><span class="id" title="binder">vk0</span></a> <a id="U0:93" class="idref" href="#U0:93"><span class="id" title="binder">U0</span></a>, ?<span class="id" title="var">P1</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> ?<span class="id" title="var">P2</span> |- <span class="id" title="var">_</span> ⇒<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">apply_ih_bind</span>× <span class="id" title="var">H</span> <span class="id" title="keyword">end</span>.<br/>
&nbsp;&nbsp;<span class="id" title="var">introv</span> <span class="id" title="var">TypT</span> <span class="id" title="var">TypU</span> <span class="id" title="var">ValU</span>.<br/>
&nbsp;&nbsp;<span class="id" title="var">inductions</span> <span class="id" title="var">TypT</span>; <span class="id" title="var">introv</span>; <span class="id" title="var">cbn</span>;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">try</span> <span class="id" title="tactic">solve</span> [<span class="id" title="tactic">eapply</span> <a class="idref" href="GMu.Regularity.html#Tgen_from_any"><span class="id" title="lemma">Tgen_from_any</span></a>; <span class="id" title="tactic">eauto</span> <span class="id" title="keyword">using</span> <a class="idref" href="GMu.Regularity.html#okt_strengthen"><span class="id" title="lemma">okt_strengthen</span></a>];<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">lets</span> [<span class="id" title="var">okU</span> [<span class="id" title="var">termU</span> <span class="id" title="var">wftU</span>]]: <a class="idref" href="GMu.Regularity.html#typing_regular"><span class="id" title="lemma">typing_regular</span></a> <span class="id" title="var">TypU</span>.<br/>
&nbsp;&nbsp;- <span class="id" title="keyword">match</span> <span class="id" title="keyword">goal</span> <span class="id" title="keyword">with</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;| [ <span class="id" title="var">H</span>: <a class="idref" href="GMu.Definitions.html#okt"><span class="id" title="inductive">okt</span></a> ?<span class="id" title="var">A</span> ?<span class="id" title="var">B</span> ?<span class="id" title="var">C</span> |- <span class="id" title="var">_</span> ] ⇒<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">lets</span>: <a class="idref" href="GMu.Regularity.html#okt_strengthen"><span class="id" title="lemma">okt_strengthen</span></a> <span class="id" title="var">H</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">end</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">case_if</span>¬.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="tactic">eapply</span> <a class="idref" href="GMu.Regularity.html#Tgen_from_any"><span class="id" title="lemma">Tgen_from_any</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">inversions</span> <span class="id" title="var">C</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">binds_get</span> <span class="id" title="var">H</span>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">assert</span> (<span class="id" title="var">E</span> <span class="id" title="notation">&amp;</span> <span class="id" title="var">F</span> <span class="id" title="notation">&amp;</span> <span class="id" title="axiom">empty</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <span class="id" title="var">E</span> <span class="id" title="notation">&amp;</span> <span class="id" title="var">F</span>) <span class="id" title="keyword">as</span> <span class="id" title="var">HEF</span> <span class="id" title="tactic">by</span> <span class="id" title="tactic">apply</span> <span class="id" title="lemma">concat_empty_r</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> &lt;- <span class="id" title="var">HEF</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="GMu.Preservation.html#typing_weakening"><span class="id" title="lemma">typing_weakening</span></a>; <span class="id" title="tactic">rewrite</span> <span class="id" title="lemma">concat_empty_r</span>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="tactic">eapply</span> <a class="idref" href="GMu.Regularity.html#Tgen_from_any"><span class="id" title="lemma">Tgen_from_any</span></a>. <span class="id" title="var">binds_cases</span> <span class="id" title="var">H</span>; <span class="id" title="tactic">apply</span>× <a class="idref" href="GMu.Definitions.html#typing_var"><span class="id" title="constructor">typing_var</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">match</span> <span class="id" title="keyword">goal</span> <span class="id" title="keyword">with</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| [<span class="id" title="var">H</span>: <a class="idref" href="GMu.Definitions.html#bind_var"><span class="id" title="constructor">bind_var</span></a> ?<span class="id" title="var">vk</span> ?<span class="id" title="var">T</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="GMu.Definitions.html#bind_var"><span class="id" title="constructor">bind_var</span></a> ?<span class="id" title="var">vk2</span> ?<span class="id" title="var">U</span> |- <span class="id" title="var">_</span>] ⇒<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">inversion</span>× <span class="id" title="var">H</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">end</span>.<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">eapply</span> <a class="idref" href="GMu.Regularity.html#Tgen_from_any"><span class="id" title="lemma">Tgen_from_any</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">apply_fresh</span>× <a class="idref" href="GMu.Definitions.html#typing_abs"><span class="id" title="constructor">typing_abs</span></a> <span class="id" title="keyword">as</span> <span class="id" title="var">y</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span>× <a class="idref" href="GMu.InfrastructureSubst.html#subst_ee_open_ee_var"><span class="id" title="lemma">subst_ee_open_ee_var</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">apply_ih</span>.<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">eapply</span> <a class="idref" href="GMu.Regularity.html#Tgen_from_any"><span class="id" title="lemma">Tgen_from_any</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">apply_fresh</span>× <a class="idref" href="GMu.Definitions.html#typing_tabs"><span class="id" title="constructor">typing_tabs</span></a> <span class="id" title="keyword">as</span> <span class="id" title="var">Y</span>; <span class="id" title="tactic">rewrite</span>× <a class="idref" href="GMu.InfrastructureSubst.html#subst_ee_open_te_var"><span class="id" title="lemma">subst_ee_open_te_var</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">match</span> <span class="id" title="keyword">goal</span> <span class="id" title="keyword">with</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;| [ <span class="id" title="var">H</span>: <span class="id" title="keyword">∀</span> <a id="X:74" class="idref" href="#X:74"><span class="id" title="binder">X</span></a>, <a class="idref" href="GMu.Preservation.html#X:68"><span class="id" title="variable">X</span></a> <span class="id" title="notation">\</span><span class="id" title="notation">notin</span> ?<span class="id" title="var">L</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <span class="id" title="keyword">∀</span> <a id="E0:75" class="idref" href="#E0:75"><span class="id" title="binder">E0</span></a> <a id="F0:76" class="idref" href="#F0:76"><span class="id" title="binder">F0</span></a> <a id="x0:77" class="idref" href="#x0:77"><span class="id" title="binder">x0</span></a> <a id="vk0:78" class="idref" href="#vk0:78"><span class="id" title="binder">vk0</span></a> <a id="U0:79" class="idref" href="#U0:79"><span class="id" title="binder">U0</span></a>, ?<span class="id" title="var">P1</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> ?<span class="id" title="var">P2</span> |- <span class="id" title="var">_</span> ] ⇒<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span>× <span class="id" title="var">H</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">end</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> &lt;- (<a class="idref" href="http://coq.inria.fr/distrib/V8.13.0/stdlib//Coq.Lists.List.html#app_nil_l"><span class="id" title="lemma">List.app_nil_l</span></a> (<span class="id" title="var">Δ</span> <a class="idref" href="GMu.Definitions.html#3ca84bd817dd2b1e2f0f693cd9400702"><span class="id" title="notation">|,|</span></a> <a class="idref" href="GMu.Definitions.html#b5ab1b23d5b56035820660ded1af9bea"><span class="id" title="notation">[</span></a><a class="idref" href="GMu.Definitions.html#tc_var"><span class="id" title="constructor">tc_var</span></a> <span class="id" title="var">Y</span><a class="idref" href="GMu.Definitions.html#b5ab1b23d5b56035820660ded1af9bea"><span class="id" title="notation">]*</span></a>)).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="GMu.Preservation.html#typing_weakening_delta"><span class="id" title="lemma">typing_weakening_delta</span></a>; <span class="id" title="var">clean_empty_Δ</span>; <span class="id" title="var">cbn</span>; <span class="id" title="tactic">auto</span>.<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">eapply</span> <a class="idref" href="GMu.Regularity.html#Tgen_from_any"><span class="id" title="lemma">Tgen_from_any</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">apply_fresh</span>× <a class="idref" href="GMu.Definitions.html#typing_fix"><span class="id" title="constructor">typing_fix</span></a> <span class="id" title="keyword">as</span> <span class="id" title="var">y</span>; <span class="id" title="tactic">rewrite</span>× <a class="idref" href="GMu.InfrastructureSubst.html#subst_ee_open_ee_var"><span class="id" title="lemma">subst_ee_open_ee_var</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">apply_ih</span>.<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">eapply</span> <a class="idref" href="GMu.Regularity.html#Tgen_from_any"><span class="id" title="lemma">Tgen_from_any</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">apply_fresh</span>× <a class="idref" href="GMu.Definitions.html#typing_let"><span class="id" title="constructor">typing_let</span></a> <span class="id" title="keyword">as</span> <span class="id" title="var">y</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span>× <a class="idref" href="GMu.InfrastructureSubst.html#subst_ee_open_ee_var"><span class="id" title="lemma">subst_ee_open_ee_var</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">apply_ih</span>.<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">eapply</span> <a class="idref" href="GMu.Regularity.html#Tgen_from_any"><span class="id" title="lemma">Tgen_from_any</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">econstructor</span>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="tactic">unfold</span> <a class="idref" href="GMu.Definitions.html#map_clause_trm_trm"><span class="id" title="definition">map_clause_trm_trm</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span>× <a class="idref" href="http://coq.inria.fr/distrib/V8.13.0/stdlib//Coq.Lists.List.html#map_length"><span class="id" title="lemma">List.map_length</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="var">introv</span> <span class="id" title="var">inzip</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">lets</span>× [<span class="id" title="var">i</span> [<span class="id" title="var">Hdefs</span> <span class="id" title="var">Hmapped</span>]]: <a class="idref" href="GMu.Zip.html#Inzip_to_nth_error"><span class="id" title="lemma">Inzip_to_nth_error</span></a> <span class="id" title="var">inzip</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">lets</span>× [[<span class="id" title="var">clA'</span> <span class="id" title="var">clT'</span>] [<span class="id" title="var">Hclin</span> <span class="id" title="var">Hclsubst</span>]]: <a class="idref" href="GMu.Prelude.html#nth_error_map"><span class="id" title="lemma">nth_error_map</span></a> <span class="id" title="var">Hmapped</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">clause</span> <span class="id" title="keyword">as</span> [<span class="id" title="var">clA</span> <span class="id" title="var">clT</span>]. <span class="id" title="var">cbn</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">inversions</span> <span class="id" title="var">Hclsubst</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">lets</span>× <span class="id" title="var">Hzip</span>: <a class="idref" href="GMu.Zip.html#Inzip_from_nth_error"><span class="id" title="lemma">Inzip_from_nth_error</span></a> <span class="id" title="var">Hdefs</span> <span class="id" title="var">Hclin</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">lets</span>*: <span class="id" title="var">H2</span> <span class="id" title="var">Hzip</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="var">introv</span> <span class="id" title="var">inzip</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">let</span> <span class="id" title="var">env</span> := <span class="id" title="var">gather_vars</span> <span class="id" title="tactic">in</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intros</span> <span class="id" title="var">Alphas</span> <span class="id" title="var">xClause</span> <span class="id" title="var">Alen</span> <span class="id" title="var">Adist</span> <span class="id" title="var">Afresh</span> <span class="id" title="var">xfresh</span> <span class="id" title="var">xfreshA</span>;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">instantiate</span> (1:=<span class="id" title="var">env</span>) <span class="id" title="tactic">in</span> <span class="id" title="var">xfresh</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">lets</span>× [<span class="id" title="var">i</span> [<span class="id" title="var">Hdefs</span> <span class="id" title="var">Hmapped</span>]]: <a class="idref" href="GMu.Zip.html#Inzip_to_nth_error"><span class="id" title="lemma">Inzip_to_nth_error</span></a> <span class="id" title="var">inzip</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">lets</span>× [[<span class="id" title="var">clA'</span> <span class="id" title="var">clT'</span>] [<span class="id" title="var">Hclin</span> <span class="id" title="var">Hclsubst</span>]]: <a class="idref" href="GMu.Prelude.html#nth_error_map"><span class="id" title="lemma">nth_error_map</span></a> <span class="id" title="var">Hmapped</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">clause</span> <span class="id" title="keyword">as</span> [<span class="id" title="var">clA</span> <span class="id" title="var">clT</span>]. <span class="id" title="var">cbn</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">inversions</span> <span class="id" title="var">Hclsubst</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">lets</span>× <span class="id" title="var">Hzip</span>: <a class="idref" href="GMu.Zip.html#Inzip_from_nth_error"><span class="id" title="lemma">Inzip_from_nth_error</span></a> <span class="id" title="var">Hdefs</span> <span class="id" title="var">Hclin</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">lets</span>× <span class="id" title="var">IH</span>: <span class="id" title="var">H4</span> <span class="id" title="var">Hzip</span>.<br/>

<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">assert</span> (<span class="id" title="var">Htypfin</span>: <a class="idref" href="GMu.Definitions.html#01c16c7ccd254b860cbd58c1da68710e"><span class="id" title="notation">{</span></a><span class="id" title="var">Σ</span><a class="idref" href="GMu.Definitions.html#01c16c7ccd254b860cbd58c1da68710e"><span class="id" title="notation">,</span></a> <span class="id" title="var">Δ</span> <a class="idref" href="GMu.Definitions.html#3ca84bd817dd2b1e2f0f693cd9400702"><span class="id" title="notation">|,|</span></a> <a class="idref" href="GMu.Definitions.html#tc_vars"><span class="id" title="definition">tc_vars</span></a> <span class="id" title="var">Alphas</span> <a class="idref" href="GMu.Definitions.html#3ca84bd817dd2b1e2f0f693cd9400702"><span class="id" title="notation">|,|</span></a> <a class="idref" href="GMu.Definitions.html#equations_from_lists"><span class="id" title="definition">equations_from_lists</span></a> <span class="id" title="var">Ts</span> (<a class="idref" href="http://coq.inria.fr/distrib/V8.13.0/stdlib//Coq.Lists.List.html#map"><span class="id" title="definition">List.map</span></a> (<a class="idref" href="GMu.Definitions.html#open_tt_many_var"><span class="id" title="definition">open_tt_many_var</span></a> <span class="id" title="var">Alphas</span>) (<a class="idref" href="GMu.Definitions.html#Crettypes"><span class="id" title="projection">Crettypes</span></a> <span class="id" title="var">def</span>))<a class="idref" href="GMu.Definitions.html#01c16c7ccd254b860cbd58c1da68710e"><span class="id" title="notation">,</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">E</span> <span class="id" title="notation">&amp;</span> <span class="id" title="var">F</span> <span class="id" title="notation">&amp;</span> <span class="id" title="var">xClause</span> <a class="idref" href="GMu.Definitions.html#b3a5fed3be65da8670dcc1af214c6fbb"><span class="id" title="notation">¬</span></a><a class="idref" href="GMu.Definitions.html#b3a5fed3be65da8670dcc1af214c6fbb"><span class="id" title="notation">l</span></a> <a class="idref" href="GMu.Definitions.html#b3a5fed3be65da8670dcc1af214c6fbb"><span class="id" title="notation">(</span></a><a class="idref" href="GMu.Definitions.html#open_tt_many_var"><span class="id" title="definition">open_tt_many_var</span></a> <span class="id" title="var">Alphas</span> (<a class="idref" href="GMu.Definitions.html#Cargtype"><span class="id" title="projection">Cargtype</span></a> <span class="id" title="var">def</span>)<a class="idref" href="GMu.Definitions.html#b3a5fed3be65da8670dcc1af214c6fbb"><span class="id" title="notation">)</span></a><a class="idref" href="GMu.Definitions.html#01c16c7ccd254b860cbd58c1da68710e"><span class="id" title="notation">}</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="GMu.Definitions.html#01c16c7ccd254b860cbd58c1da68710e"><span class="id" title="notation">⊢(</span></a><a class="idref" href="GMu.Definitions.html#Tgen"><span class="id" title="constructor">Tgen</span></a><a class="idref" href="GMu.Definitions.html#01c16c7ccd254b860cbd58c1da68710e"><span class="id" title="notation">)</span></a> <a class="idref" href="GMu.Definitions.html#subst_ee"><span class="id" title="definition">subst_ee</span></a> <span class="id" title="var">x</span> <a class="idref" href="GMu.Definitions.html#lam_var"><span class="id" title="constructor">lam_var</span></a> <span class="id" title="var">u</span> (<a class="idref" href="GMu.Definitions.html#open_te_many_var"><span class="id" title="definition">open_te_many_var</span></a> <span class="id" title="var">Alphas</span> <span class="id" title="var">clT'</span> <a class="idref" href="GMu.Definitions.html#:::x_'open_ee_varlam'_x"><span class="id" title="notation">open_ee_varlam</span></a> <span class="id" title="var">xClause</span>) <a class="idref" href="GMu.Definitions.html#01c16c7ccd254b860cbd58c1da68710e"><span class="id" title="notation">∈</span></a> <span class="id" title="var">Tc</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;× <span class="id" title="tactic">assert</span> (<span class="id" title="var">AfreshL</span>: <span class="id" title="keyword">∀</span> <a id="A:81" class="idref" href="#A:81"><span class="id" title="binder">A</span></a> : <span class="id" title="axiom">var</span>, <a class="idref" href="http://coq.inria.fr/distrib/V8.13.0/stdlib//Coq.Lists.List.html#In"><span class="id" title="definition">List.In</span></a> <a class="idref" href="GMu.Preservation.html#A:80"><span class="id" title="variable">A</span></a> <span class="id" title="var">Alphas</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <a class="idref" href="GMu.Preservation.html#A:80"><span class="id" title="variable">A</span></a> <span class="id" title="notation">\</span><span class="id" title="notation">notin</span> <span class="id" title="var">L</span>);<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;[ <span class="id" title="var">introv</span> <span class="id" title="var">Ain</span>; <span class="id" title="var">lets</span>*: <span class="id" title="var">Afresh</span> <span class="id" title="var">Ain</span> | <span class="id" title="tactic">idtac</span> ].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">assert</span> (<span class="id" title="var">xfreshL</span>: <span class="id" title="var">xClause</span> <span class="id" title="notation">\</span><span class="id" title="notation">notin</span> <span class="id" title="var">L</span>); <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">lets</span> <span class="id" title="var">Htmp</span>: <span class="id" title="var">IH</span> <span class="id" title="var">Alphas</span> <span class="id" title="var">xClause</span> <span class="id" title="var">Alen</span> <span class="id" title="var">Adist</span> <span class="id" title="var">AfreshL</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">lets</span> <span class="id" title="var">Htmp2</span>: <span class="id" title="var">Htmp</span> <span class="id" title="var">xfreshL</span> <span class="id" title="var">xfreshA</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">lets</span> <span class="id" title="var">Htmp3</span>: <span class="id" title="var">Htmp2</span> <span class="id" title="var">E</span> (<span class="id" title="var">F</span> <span class="id" title="notation">&amp;</span> <span class="id" title="var">xClause</span> <a class="idref" href="GMu.Definitions.html#b3a5fed3be65da8670dcc1af214c6fbb"><span class="id" title="notation">¬</span></a><a class="idref" href="GMu.Definitions.html#b3a5fed3be65da8670dcc1af214c6fbb"><span class="id" title="notation">l</span></a> <a class="idref" href="GMu.Definitions.html#b3a5fed3be65da8670dcc1af214c6fbb"><span class="id" title="notation">(</span></a><a class="idref" href="GMu.Definitions.html#open_tt_many_var"><span class="id" title="definition">open_tt_many_var</span></a> <span class="id" title="var">Alphas</span> (<a class="idref" href="GMu.Definitions.html#Cargtype"><span class="id" title="projection">Cargtype</span></a> <span class="id" title="var">def</span>)<a class="idref" href="GMu.Definitions.html#b3a5fed3be65da8670dcc1af214c6fbb"><span class="id" title="notation">)</span></a>) <span class="id" title="var">x</span> <span class="id" title="var">U</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">cbn</span> <span class="id" title="tactic">in</span> <span class="id" title="var">Htmp3</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> &lt;- <span class="id" title="lemma">concat_assoc</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span>× <span class="id" title="var">Htmp3</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="GMu.Prelude.html#JMeq_from_eq"><span class="id" title="lemma">JMeq_from_eq</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eauto</span> <span class="id" title="keyword">using</span> <span class="id" title="lemma">concat_assoc</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="GMu.Preservation.html#typing_weakening_delta_many_eq"><span class="id" title="lemma">typing_weakening_delta_many_eq</span></a>;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eauto</span> <span class="id" title="keyword">using</span> <a class="idref" href="GMu.Prelude.html#equations_from_lists_are_equations"><span class="id" title="lemma">equations_from_lists_are_equations</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="GMu.Preservation.html#typing_weakening_delta_many"><span class="id" title="lemma">typing_weakening_delta_many</span></a>; <span class="id" title="tactic">auto</span>;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">try</span> <span class="id" title="var">introv</span> <span class="id" title="var">Ain</span>; <span class="id" title="var">lets</span>: <span class="id" title="var">Afresh</span> <span class="id" title="var">Ain</span>; <span class="id" title="tactic">auto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;× <span class="id" title="tactic">assert</span> (<span class="id" title="var">Horder</span>:<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="GMu.Definitions.html#subst_ee"><span class="id" title="definition">subst_ee</span></a> <span class="id" title="var">x</span> <a class="idref" href="GMu.Definitions.html#lam_var"><span class="id" title="constructor">lam_var</span></a> <span class="id" title="var">u</span> (<a class="idref" href="GMu.Definitions.html#open_te_many_var"><span class="id" title="definition">open_te_many_var</span></a> <span class="id" title="var">Alphas</span> <span class="id" title="var">clT'</span> <a class="idref" href="GMu.Definitions.html#:::x_'open_ee_varlam'_x"><span class="id" title="notation">open_ee_varlam</span></a> <span class="id" title="var">xClause</span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/V8.13.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="GMu.Definitions.html#open_te_many_var"><span class="id" title="definition">open_te_many_var</span></a> <span class="id" title="var">Alphas</span> (<a class="idref" href="GMu.Definitions.html#subst_ee"><span class="id" title="definition">subst_ee</span></a> <span class="id" title="var">x</span> <a class="idref" href="GMu.Definitions.html#lam_var"><span class="id" title="constructor">lam_var</span></a> <span class="id" title="var">u</span> <span class="id" title="var">clT'</span>) <a class="idref" href="GMu.Definitions.html#:::x_'open_ee_varlam'_x"><span class="id" title="notation">open_ee_varlam</span></a> <span class="id" title="var">xClause</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;-- <span class="id" title="tactic">rewrite</span>× &lt;- <a class="idref" href="GMu.InfrastructureSubst.html#subst_ee_open_ee_var"><span class="id" title="lemma">subst_ee_open_ee_var</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">f_equal</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span>× <a class="idref" href="GMu.InfrastructureSubst.html#subst_commutes_with_unrelated_opens_te_ee"><span class="id" title="lemma">subst_commutes_with_unrelated_opens_te_ee</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;-- <span class="id" title="tactic">rewrite</span>× &lt;- <span class="id" title="var">Horder</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="typing_through_subst_ee_fix" class="idref" href="#typing_through_subst_ee_fix"><span class="id" title="lemma">typing_through_subst_ee_fix</span></a> : <span class="id" title="keyword">∀</span> <a id="3d39e769ea146080edb14d639bf416a9" class="idref" href="#3d39e769ea146080edb14d639bf416a9"><span class="id" title="binder">Σ</span></a> <a id="b482e8a149ac9cd0a1f9e3e4134dfe7d" class="idref" href="#b482e8a149ac9cd0a1f9e3e4134dfe7d"><span class="id" title="binder">Δ</span></a> <a id="E:96" class="idref" href="#E:96"><span class="id" title="binder">E</span></a> <a id="F:97" class="idref" href="#F:97"><span class="id" title="binder">F</span></a> <a id="x:98" class="idref" href="#x:98"><span class="id" title="binder">x</span></a> <a id="u:99" class="idref" href="#u:99"><span class="id" title="binder">u</span></a> <a id="U:100" class="idref" href="#U:100"><span class="id" title="binder">U</span></a> <a id="e:101" class="idref" href="#e:101"><span class="id" title="binder">e</span></a> <a id="T:102" class="idref" href="#T:102"><span class="id" title="binder">T</span></a> <a id="TT1:103" class="idref" href="#TT1:103"><span class="id" title="binder">TT1</span></a> <a id="TT2:104" class="idref" href="#TT2:104"><span class="id" title="binder">TT2</span></a>,<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="GMu.Definitions.html#01c16c7ccd254b860cbd58c1da68710e"><span class="id" title="notation">{</span></a><a class="idref" href="GMu.Preservation.html#3d39e769ea146080edb14d639bf416a9"><span class="id" title="variable">Σ</span></a><a class="idref" href="GMu.Definitions.html#01c16c7ccd254b860cbd58c1da68710e"><span class="id" title="notation">,</span></a> <a class="idref" href="GMu.Preservation.html#b482e8a149ac9cd0a1f9e3e4134dfe7d"><span class="id" title="variable">Δ</span></a><a class="idref" href="GMu.Definitions.html#01c16c7ccd254b860cbd58c1da68710e"><span class="id" title="notation">,</span></a> <a class="idref" href="GMu.Preservation.html#E:96"><span class="id" title="variable">E</span></a> <span class="id" title="notation">&amp;</span> <span class="id" title="notation">(</span><a class="idref" href="GMu.Preservation.html#x:98"><span class="id" title="variable">x</span></a> <a class="idref" href="GMu.Definitions.html#8c787164ec190738f11bf17930b74014"><span class="id" title="notation">¬</span></a><a class="idref" href="GMu.Definitions.html#8c787164ec190738f11bf17930b74014"><span class="id" title="notation">f</span></a> <a class="idref" href="GMu.Preservation.html#U:100"><span class="id" title="variable">U</span></a><span class="id" title="notation">)</span> <span class="id" title="notation">&amp;</span> <a class="idref" href="GMu.Preservation.html#F:97"><span class="id" title="variable">F</span></a><a class="idref" href="GMu.Definitions.html#01c16c7ccd254b860cbd58c1da68710e"><span class="id" title="notation">}</span></a> <a class="idref" href="GMu.Definitions.html#01c16c7ccd254b860cbd58c1da68710e"><span class="id" title="notation">⊢(</span></a><a class="idref" href="GMu.Preservation.html#TT1:103"><span class="id" title="variable">TT1</span></a><a class="idref" href="GMu.Definitions.html#01c16c7ccd254b860cbd58c1da68710e"><span class="id" title="notation">)</span></a> <a class="idref" href="GMu.Preservation.html#e:101"><span class="id" title="variable">e</span></a> <a class="idref" href="GMu.Definitions.html#01c16c7ccd254b860cbd58c1da68710e"><span class="id" title="notation">∈</span></a> <a class="idref" href="GMu.Preservation.html#T:102"><span class="id" title="variable">T</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="GMu.Definitions.html#01c16c7ccd254b860cbd58c1da68710e"><span class="id" title="notation">{</span></a><a class="idref" href="GMu.Preservation.html#3d39e769ea146080edb14d639bf416a9"><span class="id" title="variable">Σ</span></a><a class="idref" href="GMu.Definitions.html#01c16c7ccd254b860cbd58c1da68710e"><span class="id" title="notation">,</span></a> <a class="idref" href="GMu.Preservation.html#b482e8a149ac9cd0a1f9e3e4134dfe7d"><span class="id" title="variable">Δ</span></a><a class="idref" href="GMu.Definitions.html#01c16c7ccd254b860cbd58c1da68710e"><span class="id" title="notation">,</span></a> <a class="idref" href="GMu.Preservation.html#E:96"><span class="id" title="variable">E</span></a><a class="idref" href="GMu.Definitions.html#01c16c7ccd254b860cbd58c1da68710e"><span class="id" title="notation">}</span></a> <a class="idref" href="GMu.Definitions.html#01c16c7ccd254b860cbd58c1da68710e"><span class="id" title="notation">⊢(</span></a><a class="idref" href="GMu.Preservation.html#TT2:104"><span class="id" title="variable">TT2</span></a><a class="idref" href="GMu.Definitions.html#01c16c7ccd254b860cbd58c1da68710e"><span class="id" title="notation">)</span></a> <a class="idref" href="GMu.Preservation.html#u:99"><span class="id" title="variable">u</span></a> <a class="idref" href="GMu.Definitions.html#01c16c7ccd254b860cbd58c1da68710e"><span class="id" title="notation">∈</span></a> <a class="idref" href="GMu.Preservation.html#U:100"><span class="id" title="variable">U</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="GMu.Definitions.html#01c16c7ccd254b860cbd58c1da68710e"><span class="id" title="notation">{</span></a><a class="idref" href="GMu.Preservation.html#3d39e769ea146080edb14d639bf416a9"><span class="id" title="variable">Σ</span></a><a class="idref" href="GMu.Definitions.html#01c16c7ccd254b860cbd58c1da68710e"><span class="id" title="notation">,</span></a> <a class="idref" href="GMu.Preservation.html#b482e8a149ac9cd0a1f9e3e4134dfe7d"><span class="id" title="variable">Δ</span></a><a class="idref" href="GMu.Definitions.html#01c16c7ccd254b860cbd58c1da68710e"><span class="id" title="notation">,</span></a> <a class="idref" href="GMu.Preservation.html#E:96"><span class="id" title="variable">E</span></a> <span class="id" title="notation">&amp;</span> <a class="idref" href="GMu.Preservation.html#F:97"><span class="id" title="variable">F</span></a><a class="idref" href="GMu.Definitions.html#01c16c7ccd254b860cbd58c1da68710e"><span class="id" title="notation">}</span></a> <a class="idref" href="GMu.Definitions.html#01c16c7ccd254b860cbd58c1da68710e"><span class="id" title="notation">⊢(</span></a><a class="idref" href="GMu.Definitions.html#Tgen"><span class="id" title="constructor">Tgen</span></a><a class="idref" href="GMu.Definitions.html#01c16c7ccd254b860cbd58c1da68710e"><span class="id" title="notation">)</span></a> <a class="idref" href="GMu.Definitions.html#subst_ee"><span class="id" title="definition">subst_ee</span></a> <a class="idref" href="GMu.Preservation.html#x:98"><span class="id" title="variable">x</span></a> <a class="idref" href="GMu.Definitions.html#fix_var"><span class="id" title="constructor">fix_var</span></a> <a class="idref" href="GMu.Preservation.html#u:99"><span class="id" title="variable">u</span></a> <a class="idref" href="GMu.Preservation.html#e:101"><span class="id" title="variable">e</span></a> <a class="idref" href="GMu.Definitions.html#01c16c7ccd254b860cbd58c1da68710e"><span class="id" title="notation">∈</span></a> <a class="idref" href="GMu.Preservation.html#T:102"><span class="id" title="variable">T</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="var">introv</span> <span class="id" title="var">TypT</span> <span class="id" title="var">TypU</span>.<br/>
&nbsp;&nbsp;<span class="id" title="var">inductions</span> <span class="id" title="var">TypT</span>; <span class="id" title="var">introv</span>; <span class="id" title="var">cbn</span>;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">try</span> <span class="id" title="tactic">solve</span> [<span class="id" title="tactic">eapply</span> <a class="idref" href="GMu.Regularity.html#Tgen_from_any"><span class="id" title="lemma">Tgen_from_any</span></a>; <span class="id" title="tactic">eauto</span> <span class="id" title="keyword">using</span> <a class="idref" href="GMu.Regularity.html#okt_strengthen"><span class="id" title="lemma">okt_strengthen</span></a>];<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">lets</span> [<span class="id" title="var">okU</span> [<span class="id" title="var">termU</span> <span class="id" title="var">wftU</span>]]: <a class="idref" href="GMu.Regularity.html#typing_regular"><span class="id" title="lemma">typing_regular</span></a> <span class="id" title="var">TypU</span>.<br/>
&nbsp;&nbsp;- <span class="id" title="keyword">match</span> <span class="id" title="keyword">goal</span> <span class="id" title="keyword">with</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;| [ <span class="id" title="var">H</span>: <a class="idref" href="GMu.Definitions.html#okt"><span class="id" title="inductive">okt</span></a> ?<span class="id" title="var">A</span> ?<span class="id" title="var">B</span> ?<span class="id" title="var">C</span> |- <span class="id" title="var">_</span> ] ⇒<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">lets</span>: <a class="idref" href="GMu.Regularity.html#okt_strengthen"><span class="id" title="lemma">okt_strengthen</span></a> <span class="id" title="var">H</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">end</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">case_if</span>¬.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="var">inversions</span> <span class="id" title="var">C</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="GMu.Regularity.html#Tgen_from_any"><span class="id" title="lemma">Tgen_from_any</span></a>. <span class="id" title="var">binds_get</span> <span class="id" title="var">H</span>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">assert</span> (<span class="id" title="var">E</span> <span class="id" title="notation">&amp;</span> <span class="id" title="var">F</span> <span class="id" title="notation">&amp;</span> <span class="id" title="axiom">empty</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <span class="id" title="var">E</span> <span class="id" title="notation">&amp;</span> <span class="id" title="var">F</span>) <span class="id" title="keyword">as</span> <span class="id" title="var">HEF</span> <span class="id" title="tactic">by</span> <span class="id" title="tactic">apply</span> <span class="id" title="lemma">concat_empty_r</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> &lt;- <span class="id" title="var">HEF</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="GMu.Preservation.html#typing_weakening"><span class="id" title="lemma">typing_weakening</span></a>; <span class="id" title="tactic">rewrite</span> <span class="id" title="lemma">concat_empty_r</span>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="tactic">eapply</span> <a class="idref" href="GMu.Regularity.html#Tgen_from_any"><span class="id" title="lemma">Tgen_from_any</span></a>. <span class="id" title="var">binds_cases</span> <span class="id" title="var">H</span>; <span class="id" title="tactic">apply</span>× <a class="idref" href="GMu.Definitions.html#typing_var"><span class="id" title="constructor">typing_var</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">match</span> <span class="id" title="keyword">goal</span> <span class="id" title="keyword">with</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| [<span class="id" title="var">H</span>: <a class="idref" href="GMu.Definitions.html#bind_var"><span class="id" title="constructor">bind_var</span></a> ?<span class="id" title="var">vk</span> ?<span class="id" title="var">T</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="GMu.Definitions.html#bind_var"><span class="id" title="constructor">bind_var</span></a> ?<span class="id" title="var">vk2</span> ?<span class="id" title="var">U</span> |- <span class="id" title="var">_</span>] ⇒<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">inversion</span>× <span class="id" title="var">H</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">end</span>.<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">eapply</span> <a class="idref" href="GMu.Regularity.html#Tgen_from_any"><span class="id" title="lemma">Tgen_from_any</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">apply_fresh</span>× <a class="idref" href="GMu.Definitions.html#typing_abs"><span class="id" title="constructor">typing_abs</span></a> <span class="id" title="keyword">as</span> <span class="id" title="var">y</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span>× <a class="idref" href="GMu.InfrastructureSubst.html#subst_ee_open_ee_var"><span class="id" title="lemma">subst_ee_open_ee_var</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">apply_ih</span>.<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">eapply</span> <a class="idref" href="GMu.Regularity.html#Tgen_from_any"><span class="id" title="lemma">Tgen_from_any</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">apply_fresh</span>× <a class="idref" href="GMu.Definitions.html#typing_tabs"><span class="id" title="constructor">typing_tabs</span></a> <span class="id" title="keyword">as</span> <span class="id" title="var">Y</span>; <span class="id" title="tactic">rewrite</span>× <a class="idref" href="GMu.InfrastructureSubst.html#subst_ee_open_te_var"><span class="id" title="lemma">subst_ee_open_te_var</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="tactic">apply</span>× <a class="idref" href="GMu.InfrastructureSubst.html#subst_ee_fix_value"><span class="id" title="lemma">subst_ee_fix_value</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="keyword">match</span> <span class="id" title="keyword">goal</span> <span class="id" title="keyword">with</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| [ <span class="id" title="var">H</span>: <span class="id" title="keyword">∀</span> <a id="X:111" class="idref" href="#X:111"><span class="id" title="binder">X</span></a>, <a class="idref" href="GMu.Preservation.html#X:105"><span class="id" title="variable">X</span></a> <span class="id" title="notation">\</span><span class="id" title="notation">notin</span> ?<span class="id" title="var">L</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <span class="id" title="keyword">∀</span> <a id="E0:112" class="idref" href="#E0:112"><span class="id" title="binder">E0</span></a> <a id="F0:113" class="idref" href="#F0:113"><span class="id" title="binder">F0</span></a> <a id="x0:114" class="idref" href="#x0:114"><span class="id" title="binder">x0</span></a> <a id="vk0:115" class="idref" href="#vk0:115"><span class="id" title="binder">vk0</span></a> <a id="U0:116" class="idref" href="#U0:116"><span class="id" title="binder">U0</span></a>, ?<span class="id" title="var">P1</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> ?<span class="id" title="var">P2</span> |- <span class="id" title="var">_</span> ] ⇒<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span>× <span class="id" title="var">H</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">end</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> &lt;- (<a class="idref" href="http://coq.inria.fr/distrib/V8.13.0/stdlib//Coq.Lists.List.html#app_nil_l"><span class="id" title="lemma">List.app_nil_l</span></a> (<span class="id" title="var">Δ</span> <a class="idref" href="GMu.Definitions.html#3ca84bd817dd2b1e2f0f693cd9400702"><span class="id" title="notation">|,|</span></a> <a class="idref" href="GMu.Definitions.html#b5ab1b23d5b56035820660ded1af9bea"><span class="id" title="notation">[</span></a><a class="idref" href="GMu.Definitions.html#tc_var"><span class="id" title="constructor">tc_var</span></a> <span class="id" title="var">Y</span><a class="idref" href="GMu.Definitions.html#b5ab1b23d5b56035820660ded1af9bea"><span class="id" title="notation">]*</span></a> )).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="GMu.Preservation.html#typing_weakening_delta"><span class="id" title="lemma">typing_weakening_delta</span></a>; <span class="id" title="var">clean_empty_Δ</span>; <span class="id" title="var">cbn</span>; <span class="id" title="tactic">auto</span>.<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">eapply</span> <a class="idref" href="GMu.Regularity.html#Tgen_from_any"><span class="id" title="lemma">Tgen_from_any</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">apply_fresh</span>× <a class="idref" href="GMu.Definitions.html#typing_fix"><span class="id" title="constructor">typing_fix</span></a> <span class="id" title="keyword">as</span> <span class="id" title="var">y</span>; <span class="id" title="tactic">rewrite</span>× <a class="idref" href="GMu.InfrastructureSubst.html#subst_ee_open_ee_var"><span class="id" title="lemma">subst_ee_open_ee_var</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="tactic">apply</span>× <a class="idref" href="GMu.InfrastructureSubst.html#subst_ee_fix_value"><span class="id" title="lemma">subst_ee_fix_value</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="var">apply_ih</span>.<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">eapply</span> <a class="idref" href="GMu.Regularity.html#Tgen_from_any"><span class="id" title="lemma">Tgen_from_any</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">apply_fresh</span>× <a class="idref" href="GMu.Definitions.html#typing_let"><span class="id" title="constructor">typing_let</span></a> <span class="id" title="keyword">as</span> <span class="id" title="var">y</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span>× <a class="idref" href="GMu.InfrastructureSubst.html#subst_ee_open_ee_var"><span class="id" title="lemma">subst_ee_open_ee_var</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">apply_ih</span>.<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">eapply</span> <a class="idref" href="GMu.Regularity.html#Tgen_from_any"><span class="id" title="lemma">Tgen_from_any</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">econstructor</span>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="tactic">unfold</span> <a class="idref" href="GMu.Definitions.html#map_clause_trm_trm"><span class="id" title="definition">map_clause_trm_trm</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span>× <a class="idref" href="http://coq.inria.fr/distrib/V8.13.0/stdlib//Coq.Lists.List.html#map_length"><span class="id" title="lemma">List.map_length</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="var">introv</span> <span class="id" title="var">inzip</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">lets</span>× [<span class="id" title="var">i</span> [<span class="id" title="var">Hdefs</span> <span class="id" title="var">Hmapped</span>]]: <a class="idref" href="GMu.Zip.html#Inzip_to_nth_error"><span class="id" title="lemma">Inzip_to_nth_error</span></a> <span class="id" title="var">inzip</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">lets</span>× [[<span class="id" title="var">clA'</span> <span class="id" title="var">clT'</span>] [<span class="id" title="var">Hclin</span> <span class="id" title="var">Hclsubst</span>]]: <a class="idref" href="GMu.Prelude.html#nth_error_map"><span class="id" title="lemma">nth_error_map</span></a> <span class="id" title="var">Hmapped</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">clause</span> <span class="id" title="keyword">as</span> [<span class="id" title="var">clA</span> <span class="id" title="var">clT</span>]. <span class="id" title="var">cbn</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">inversions</span> <span class="id" title="var">Hclsubst</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">lets</span>× <span class="id" title="var">Hzip</span>: <a class="idref" href="GMu.Zip.html#Inzip_from_nth_error"><span class="id" title="lemma">Inzip_from_nth_error</span></a> <span class="id" title="var">Hdefs</span> <span class="id" title="var">Hclin</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">lets</span>*: <span class="id" title="var">H2</span> <span class="id" title="var">Hzip</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="var">introv</span> <span class="id" title="var">inzip</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">let</span> <span class="id" title="var">env</span> := <span class="id" title="var">gather_vars</span> <span class="id" title="tactic">in</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intros</span> <span class="id" title="var">Alphas</span> <span class="id" title="var">xClause</span> <span class="id" title="var">Alen</span> <span class="id" title="var">Adist</span> <span class="id" title="var">Afresh</span> <span class="id" title="var">xfresh</span> <span class="id" title="var">xfreshA</span>;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">instantiate</span> (1:=<span class="id" title="var">env</span>) <span class="id" title="tactic">in</span> <span class="id" title="var">xfresh</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">lets</span>× [<span class="id" title="var">i</span> [<span class="id" title="var">Hdefs</span> <span class="id" title="var">Hmapped</span>]]: <a class="idref" href="GMu.Zip.html#Inzip_to_nth_error"><span class="id" title="lemma">Inzip_to_nth_error</span></a> <span class="id" title="var">inzip</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">lets</span>× [[<span class="id" title="var">clA'</span> <span class="id" title="var">clT'</span>] [<span class="id" title="var">Hclin</span> <span class="id" title="var">Hclsubst</span>]]: <a class="idref" href="GMu.Prelude.html#nth_error_map"><span class="id" title="lemma">nth_error_map</span></a> <span class="id" title="var">Hmapped</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">clause</span> <span class="id" title="keyword">as</span> [<span class="id" title="var">clA</span> <span class="id" title="var">clT</span>]. <span class="id" title="var">cbn</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">inversions</span> <span class="id" title="var">Hclsubst</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">lets</span>× <span class="id" title="var">Hzip</span>: <a class="idref" href="GMu.Zip.html#Inzip_from_nth_error"><span class="id" title="lemma">Inzip_from_nth_error</span></a> <span class="id" title="var">Hdefs</span> <span class="id" title="var">Hclin</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">lets</span>× <span class="id" title="var">IH</span>: <span class="id" title="var">H4</span> <span class="id" title="var">Hzip</span>.<br/>

<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">assert</span> (<span class="id" title="var">Htypfin</span>: <a class="idref" href="GMu.Definitions.html#01c16c7ccd254b860cbd58c1da68710e"><span class="id" title="notation">{</span></a><span class="id" title="var">Σ</span><a class="idref" href="GMu.Definitions.html#01c16c7ccd254b860cbd58c1da68710e"><span class="id" title="notation">,</span></a> <span class="id" title="var">Δ</span> <a class="idref" href="GMu.Definitions.html#3ca84bd817dd2b1e2f0f693cd9400702"><span class="id" title="notation">|,|</span></a> <a class="idref" href="GMu.Definitions.html#tc_vars"><span class="id" title="definition">tc_vars</span></a> <span class="id" title="var">Alphas</span> <a class="idref" href="GMu.Definitions.html#3ca84bd817dd2b1e2f0f693cd9400702"><span class="id" title="notation">|,|</span></a> <a class="idref" href="GMu.Definitions.html#equations_from_lists"><span class="id" title="definition">equations_from_lists</span></a> <span class="id" title="var">Ts</span> (<a class="idref" href="http://coq.inria.fr/distrib/V8.13.0/stdlib//Coq.Lists.List.html#map"><span class="id" title="definition">List.map</span></a> (<a class="idref" href="GMu.Definitions.html#open_tt_many_var"><span class="id" title="definition">open_tt_many_var</span></a> <span class="id" title="var">Alphas</span>) (<a class="idref" href="GMu.Definitions.html#Crettypes"><span class="id" title="projection">Crettypes</span></a> <span class="id" title="var">def</span>))<a class="idref" href="GMu.Definitions.html#01c16c7ccd254b860cbd58c1da68710e"><span class="id" title="notation">,</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">E</span> <span class="id" title="notation">&amp;</span> <span class="id" title="var">F</span> <span class="id" title="notation">&amp;</span> <span class="id" title="var">xClause</span> <a class="idref" href="GMu.Definitions.html#b3a5fed3be65da8670dcc1af214c6fbb"><span class="id" title="notation">¬</span></a><a class="idref" href="GMu.Definitions.html#b3a5fed3be65da8670dcc1af214c6fbb"><span class="id" title="notation">l</span></a> <a class="idref" href="GMu.Definitions.html#b3a5fed3be65da8670dcc1af214c6fbb"><span class="id" title="notation">(</span></a><a class="idref" href="GMu.Definitions.html#open_tt_many_var"><span class="id" title="definition">open_tt_many_var</span></a> <span class="id" title="var">Alphas</span> (<a class="idref" href="GMu.Definitions.html#Cargtype"><span class="id" title="projection">Cargtype</span></a> <span class="id" title="var">def</span>)<a class="idref" href="GMu.Definitions.html#b3a5fed3be65da8670dcc1af214c6fbb"><span class="id" title="notation">)</span></a><a class="idref" href="GMu.Definitions.html#01c16c7ccd254b860cbd58c1da68710e"><span class="id" title="notation">}</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="GMu.Definitions.html#01c16c7ccd254b860cbd58c1da68710e"><span class="id" title="notation">⊢(</span></a><a class="idref" href="GMu.Definitions.html#Tgen"><span class="id" title="constructor">Tgen</span></a><a class="idref" href="GMu.Definitions.html#01c16c7ccd254b860cbd58c1da68710e"><span class="id" title="notation">)</span></a> <a class="idref" href="GMu.Definitions.html#subst_ee"><span class="id" title="definition">subst_ee</span></a> <span class="id" title="var">x</span> <a class="idref" href="GMu.Definitions.html#fix_var"><span class="id" title="constructor">fix_var</span></a> <span class="id" title="var">u</span> (<a class="idref" href="GMu.Definitions.html#open_te_many_var"><span class="id" title="definition">open_te_many_var</span></a> <span class="id" title="var">Alphas</span> <span class="id" title="var">clT'</span> <a class="idref" href="GMu.Definitions.html#:::x_'open_ee_varlam'_x"><span class="id" title="notation">open_ee_varlam</span></a> <span class="id" title="var">xClause</span>) <a class="idref" href="GMu.Definitions.html#01c16c7ccd254b860cbd58c1da68710e"><span class="id" title="notation">∈</span></a> <span class="id" title="var">Tc</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;× <span class="id" title="tactic">assert</span> (<span class="id" title="var">AfreshL</span>: <span class="id" title="keyword">∀</span> <a id="A:118" class="idref" href="#A:118"><span class="id" title="binder">A</span></a> : <span class="id" title="axiom">var</span>, <a class="idref" href="http://coq.inria.fr/distrib/V8.13.0/stdlib//Coq.Lists.List.html#In"><span class="id" title="definition">List.In</span></a> <a class="idref" href="GMu.Preservation.html#A:117"><span class="id" title="variable">A</span></a> <span class="id" title="var">Alphas</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <a class="idref" href="GMu.Preservation.html#A:117"><span class="id" title="variable">A</span></a> <span class="id" title="notation">\</span><span class="id" title="notation">notin</span> <span class="id" title="var">L</span>);<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;[ <span class="id" title="var">introv</span> <span class="id" title="var">Ain</span>; <span class="id" title="var">lets</span>*: <span class="id" title="var">Afresh</span> <span class="id" title="var">Ain</span> | <span class="id" title="tactic">idtac</span> ].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">assert</span> (<span class="id" title="var">xfreshL</span>: <span class="id" title="var">xClause</span> <span class="id" title="notation">\</span><span class="id" title="notation">notin</span> <span class="id" title="var">L</span>); <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">lets</span> <span class="id" title="var">Htmp</span>: <span class="id" title="var">IH</span> <span class="id" title="var">Alphas</span> <span class="id" title="var">xClause</span> <span class="id" title="var">Alen</span> <span class="id" title="var">Adist</span> <span class="id" title="var">AfreshL</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">lets</span> <span class="id" title="var">Htmp2</span>: <span class="id" title="var">Htmp</span> <span class="id" title="var">xfreshL</span> <span class="id" title="var">xfreshA</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">lets</span> <span class="id" title="var">Htmp3</span>: <span class="id" title="var">Htmp2</span> <span class="id" title="var">E</span> (<span class="id" title="var">F</span> <span class="id" title="notation">&amp;</span> <span class="id" title="var">xClause</span> <a class="idref" href="GMu.Definitions.html#b3a5fed3be65da8670dcc1af214c6fbb"><span class="id" title="notation">¬</span></a><a class="idref" href="GMu.Definitions.html#b3a5fed3be65da8670dcc1af214c6fbb"><span class="id" title="notation">l</span></a> <a class="idref" href="GMu.Definitions.html#b3a5fed3be65da8670dcc1af214c6fbb"><span class="id" title="notation">(</span></a><a class="idref" href="GMu.Definitions.html#open_tt_many_var"><span class="id" title="definition">open_tt_many_var</span></a> <span class="id" title="var">Alphas</span> (<a class="idref" href="GMu.Definitions.html#Cargtype"><span class="id" title="projection">Cargtype</span></a> <span class="id" title="var">def</span>)<a class="idref" href="GMu.Definitions.html#b3a5fed3be65da8670dcc1af214c6fbb"><span class="id" title="notation">)</span></a>) <span class="id" title="var">x</span> <span class="id" title="var">U</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">cbn</span> <span class="id" title="tactic">in</span> <span class="id" title="var">Htmp3</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> &lt;- <span class="id" title="lemma">concat_assoc</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span>× <span class="id" title="var">Htmp3</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="GMu.Prelude.html#JMeq_from_eq"><span class="id" title="lemma">JMeq_from_eq</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eauto</span> <span class="id" title="keyword">using</span> <span class="id" title="lemma">concat_assoc</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="GMu.Preservation.html#typing_weakening_delta_many_eq"><span class="id" title="lemma">typing_weakening_delta_many_eq</span></a>;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eauto</span> <span class="id" title="keyword">using</span> <a class="idref" href="GMu.Prelude.html#equations_from_lists_are_equations"><span class="id" title="lemma">equations_from_lists_are_equations</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="GMu.Preservation.html#typing_weakening_delta_many"><span class="id" title="lemma">typing_weakening_delta_many</span></a>; <span class="id" title="tactic">auto</span>;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">try</span> <span class="id" title="var">introv</span> <span class="id" title="var">Ain</span>; <span class="id" title="var">lets</span>: <span class="id" title="var">Afresh</span> <span class="id" title="var">Ain</span>; <span class="id" title="tactic">auto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;× <span class="id" title="tactic">assert</span> (<span class="id" title="var">Horder</span>:<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="GMu.Definitions.html#subst_ee"><span class="id" title="definition">subst_ee</span></a> <span class="id" title="var">x</span> <a class="idref" href="GMu.Definitions.html#fix_var"><span class="id" title="constructor">fix_var</span></a> <span class="id" title="var">u</span> (<a class="idref" href="GMu.Definitions.html#open_te_many_var"><span class="id" title="definition">open_te_many_var</span></a> <span class="id" title="var">Alphas</span> <span class="id" title="var">clT'</span> <a class="idref" href="GMu.Definitions.html#:::x_'open_ee_varlam'_x"><span class="id" title="notation">open_ee_varlam</span></a> <span class="id" title="var">xClause</span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/V8.13.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="GMu.Definitions.html#open_te_many_var"><span class="id" title="definition">open_te_many_var</span></a> <span class="id" title="var">Alphas</span> (<a class="idref" href="GMu.Definitions.html#subst_ee"><span class="id" title="definition">subst_ee</span></a> <span class="id" title="var">x</span> <a class="idref" href="GMu.Definitions.html#fix_var"><span class="id" title="constructor">fix_var</span></a> <span class="id" title="var">u</span> <span class="id" title="var">clT'</span>) <a class="idref" href="GMu.Definitions.html#:::x_'open_ee_varlam'_x"><span class="id" title="notation">open_ee_varlam</span></a> <span class="id" title="var">xClause</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;-- <span class="id" title="tactic">rewrite</span>× &lt;- <a class="idref" href="GMu.InfrastructureSubst.html#subst_ee_open_ee_var"><span class="id" title="lemma">subst_ee_open_ee_var</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">f_equal</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span>× <a class="idref" href="GMu.InfrastructureSubst.html#subst_commutes_with_unrelated_opens_te_ee"><span class="id" title="lemma">subst_commutes_with_unrelated_opens_te_ee</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;-- <span class="id" title="tactic">rewrite</span>× &lt;- <span class="id" title="var">Horder</span>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="typing_through_subst_te_gen" class="idref" href="#typing_through_subst_te_gen"><span class="id" title="lemma">typing_through_subst_te_gen</span></a> : <span class="id" title="keyword">∀</span> <a id="a24658b2adcc01e6c41a8c2c40c17df4" class="idref" href="#a24658b2adcc01e6c41a8c2c40c17df4"><span class="id" title="binder">Σ</span></a> <a id="7f31abd9b7fb77bfc1abef3c04c54845" class="idref" href="#7f31abd9b7fb77bfc1abef3c04c54845"><span class="id" title="binder">Δ1</span></a> <a id="29d3fcd5344b4a40650f474d38e1a533" class="idref" href="#29d3fcd5344b4a40650f474d38e1a533"><span class="id" title="binder">Δ2</span></a> <a id="E:122" class="idref" href="#E:122"><span class="id" title="binder">E</span></a> <a id="Z:123" class="idref" href="#Z:123"><span class="id" title="binder">Z</span></a> <a id="e:124" class="idref" href="#e:124"><span class="id" title="binder">e</span></a> <a id="P:125" class="idref" href="#P:125"><span class="id" title="binder">P</span></a> <a id="T:126" class="idref" href="#T:126"><span class="id" title="binder">T</span></a> <a id="TT:127" class="idref" href="#TT:127"><span class="id" title="binder">TT</span></a>,<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="GMu.Definitions.html#01c16c7ccd254b860cbd58c1da68710e"><span class="id" title="notation">{</span></a><a class="idref" href="GMu.Preservation.html#a24658b2adcc01e6c41a8c2c40c17df4"><span class="id" title="variable">Σ</span></a><a class="idref" href="GMu.Definitions.html#01c16c7ccd254b860cbd58c1da68710e"><span class="id" title="notation">,</span></a> <a class="idref" href="GMu.Preservation.html#7f31abd9b7fb77bfc1abef3c04c54845"><span class="id" title="variable">Δ1</span></a> <a class="idref" href="GMu.Definitions.html#3ca84bd817dd2b1e2f0f693cd9400702"><span class="id" title="notation">|,|</span></a> <a class="idref" href="GMu.Definitions.html#b5ab1b23d5b56035820660ded1af9bea"><span class="id" title="notation">[</span></a><a class="idref" href="GMu.Definitions.html#tc_var"><span class="id" title="constructor">tc_var</span></a> <a class="idref" href="GMu.Preservation.html#Z:123"><span class="id" title="variable">Z</span></a><a class="idref" href="GMu.Definitions.html#b5ab1b23d5b56035820660ded1af9bea"><span class="id" title="notation">]*</span></a> <a class="idref" href="GMu.Definitions.html#3ca84bd817dd2b1e2f0f693cd9400702"><span class="id" title="notation">|,|</span></a> <a class="idref" href="GMu.Preservation.html#29d3fcd5344b4a40650f474d38e1a533"><span class="id" title="variable">Δ2</span></a><a class="idref" href="GMu.Definitions.html#01c16c7ccd254b860cbd58c1da68710e"><span class="id" title="notation">,</span></a> <a class="idref" href="GMu.Preservation.html#E:122"><span class="id" title="variable">E</span></a><a class="idref" href="GMu.Definitions.html#01c16c7ccd254b860cbd58c1da68710e"><span class="id" title="notation">}</span></a> <a class="idref" href="GMu.Definitions.html#01c16c7ccd254b860cbd58c1da68710e"><span class="id" title="notation">⊢(</span></a><a class="idref" href="GMu.Preservation.html#TT:127"><span class="id" title="variable">TT</span></a><a class="idref" href="GMu.Definitions.html#01c16c7ccd254b860cbd58c1da68710e"><span class="id" title="notation">)</span></a> <a class="idref" href="GMu.Preservation.html#e:124"><span class="id" title="variable">e</span></a> <a class="idref" href="GMu.Definitions.html#01c16c7ccd254b860cbd58c1da68710e"><span class="id" title="notation">∈</span></a> <a class="idref" href="GMu.Preservation.html#T:126"><span class="id" title="variable">T</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="GMu.Definitions.html#wft"><span class="id" title="inductive">wft</span></a> <a class="idref" href="GMu.Preservation.html#a24658b2adcc01e6c41a8c2c40c17df4"><span class="id" title="variable">Σ</span></a> <a class="idref" href="GMu.Preservation.html#7f31abd9b7fb77bfc1abef3c04c54845"><span class="id" title="variable">Δ1</span></a> <a class="idref" href="GMu.Preservation.html#P:125"><span class="id" title="variable">P</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="GMu.Preservation.html#Z:123"><span class="id" title="variable">Z</span></a> <span class="id" title="notation">\</span><span class="id" title="notation">notin</span> <a class="idref" href="GMu.Definitions.html#fv_typ"><span class="id" title="definition">fv_typ</span></a> <a class="idref" href="GMu.Preservation.html#P:125"><span class="id" title="variable">P</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="GMu.Preservation.html#Z:123"><span class="id" title="variable">Z</span></a> <span class="id" title="notation">\</span><span class="id" title="notation">notin</span> <a class="idref" href="GMu.Definitions.html#e1e06a37011ebd9f9e861e05c79f4e29"><span class="id" title="definition">domΔ</span></a> (<a class="idref" href="GMu.Preservation.html#7f31abd9b7fb77bfc1abef3c04c54845"><span class="id" title="variable">Δ1</span></a> <a class="idref" href="GMu.Definitions.html#3ca84bd817dd2b1e2f0f693cd9400702"><span class="id" title="notation">|,|</span></a> <a class="idref" href="GMu.Preservation.html#29d3fcd5344b4a40650f474d38e1a533"><span class="id" title="variable">Δ2</span></a>) <a class="idref" href="http://coq.inria.fr/distrib/V8.13.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="GMu.Preservation.html#Z:123"><span class="id" title="variable">Z</span></a> <span class="id" title="notation">#</span> <a class="idref" href="GMu.Preservation.html#E:122"><span class="id" title="variable">E</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="GMu.Definitions.html#01c16c7ccd254b860cbd58c1da68710e"><span class="id" title="notation">{</span></a><a class="idref" href="GMu.Preservation.html#a24658b2adcc01e6c41a8c2c40c17df4"><span class="id" title="variable">Σ</span></a><a class="idref" href="GMu.Definitions.html#01c16c7ccd254b860cbd58c1da68710e"><span class="id" title="notation">,</span></a> <a class="idref" href="GMu.Preservation.html#7f31abd9b7fb77bfc1abef3c04c54845"><span class="id" title="variable">Δ1</span></a> <a class="idref" href="GMu.Definitions.html#3ca84bd817dd2b1e2f0f693cd9400702"><span class="id" title="notation">|,|</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.0/stdlib//Coq.Lists.List.html#map"><span class="id" title="definition">List.map</span></a> (<a class="idref" href="GMu.Definitions.html#subst_td"><span class="id" title="definition">subst_td</span></a> <a class="idref" href="GMu.Preservation.html#Z:123"><span class="id" title="variable">Z</span></a> <a class="idref" href="GMu.Preservation.html#P:125"><span class="id" title="variable">P</span></a>) <a class="idref" href="GMu.Preservation.html#29d3fcd5344b4a40650f474d38e1a533"><span class="id" title="variable">Δ2</span></a><a class="idref" href="GMu.Definitions.html#01c16c7ccd254b860cbd58c1da68710e"><span class="id" title="notation">,</span></a> <span class="id" title="axiom">map</span> (<a class="idref" href="GMu.Definitions.html#subst_tb"><span class="id" title="definition">subst_tb</span></a> <a class="idref" href="GMu.Preservation.html#Z:123"><span class="id" title="variable">Z</span></a> <a class="idref" href="GMu.Preservation.html#P:125"><span class="id" title="variable">P</span></a>) <a class="idref" href="GMu.Preservation.html#E:122"><span class="id" title="variable">E</span></a><a class="idref" href="GMu.Definitions.html#01c16c7ccd254b860cbd58c1da68710e"><span class="id" title="notation">}</span></a> <a class="idref" href="GMu.Definitions.html#01c16c7ccd254b860cbd58c1da68710e"><span class="id" title="notation">⊢(</span></a><a class="idref" href="GMu.Definitions.html#Tgen"><span class="id" title="constructor">Tgen</span></a><a class="idref" href="GMu.Definitions.html#01c16c7ccd254b860cbd58c1da68710e"><span class="id" title="notation">)</span></a> <a class="idref" href="GMu.Definitions.html#subst_te"><span class="id" title="definition">subst_te</span></a> <a class="idref" href="GMu.Preservation.html#Z:123"><span class="id" title="variable">Z</span></a> <a class="idref" href="GMu.Preservation.html#P:125"><span class="id" title="variable">P</span></a> <a class="idref" href="GMu.Preservation.html#e:124"><span class="id" title="variable">e</span></a> <a class="idref" href="GMu.Definitions.html#01c16c7ccd254b860cbd58c1da68710e"><span class="id" title="notation">∈</span></a> <a class="idref" href="GMu.Definitions.html#subst_tt"><span class="id" title="definition">subst_tt</span></a> <a class="idref" href="GMu.Preservation.html#Z:123"><span class="id" title="variable">Z</span></a> <a class="idref" href="GMu.Preservation.html#P:125"><span class="id" title="variable">P</span></a> <a class="idref" href="GMu.Preservation.html#T:126"><span class="id" title="variable">T</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="var">introv</span> <span class="id" title="var">Typ</span>.<br/>
&nbsp;&nbsp;<span class="id" title="var">gen_eq</span> <span class="id" title="var">G</span>: (<span class="id" title="var">Δ1</span> <a class="idref" href="GMu.Definitions.html#3ca84bd817dd2b1e2f0f693cd9400702"><span class="id" title="notation">|,|</span></a> <a class="idref" href="GMu.Definitions.html#b5ab1b23d5b56035820660ded1af9bea"><span class="id" title="notation">[</span></a><a class="idref" href="GMu.Definitions.html#tc_var"><span class="id" title="constructor">tc_var</span></a> <span class="id" title="var">Z</span><a class="idref" href="GMu.Definitions.html#b5ab1b23d5b56035820660ded1af9bea"><span class="id" title="notation">]*</span></a> <a class="idref" href="GMu.Definitions.html#3ca84bd817dd2b1e2f0f693cd9400702"><span class="id" title="notation">|,|</span></a> <span class="id" title="var">Δ2</span>). <span class="id" title="var">gen</span> <span class="id" title="var">Δ2</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">induction</span> <span class="id" title="var">Typ</span>; <span class="id" title="var">introv</span> <span class="id" title="var">EQ</span> <span class="id" title="var">WFT</span> <span class="id" title="var">FVZP</span> <span class="id" title="var">FVZD</span> <span class="id" title="var">FVZE</span>; <span class="id" title="tactic">subst</span>; <span class="id" title="tactic">eapply</span> <a class="idref" href="GMu.Regularity.html#Tgen_from_any"><span class="id" title="lemma">Tgen_from_any</span></a>;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">cbn</span>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">constructor</span>. <span class="id" title="tactic">apply</span>¬ <a class="idref" href="GMu.Regularity2.html#okt_through_subst_tdtb"><span class="id" title="lemma">okt_through_subst_tdtb</span></a>.<br/>
&nbsp;&nbsp;- <span class="id" title="var">cbn</span>. <span class="id" title="tactic">econstructor</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="tactic">fold</span> (<a class="idref" href="GMu.Definitions.html#subst_tb"><span class="id" title="definition">subst_tb</span></a> <span class="id" title="var">Z</span> <span class="id" title="var">P</span> (<a class="idref" href="GMu.Definitions.html#bind_var"><span class="id" title="constructor">bind_var</span></a> <span class="id" title="var">vk</span> <span class="id" title="var">T</span>)).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span>¬ <span class="id" title="lemma">binds_map</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="tactic">apply</span>¬ <a class="idref" href="GMu.Regularity2.html#okt_through_subst_tdtb"><span class="id" title="lemma">okt_through_subst_tdtb</span></a>.<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">assert</span> (<span class="id" title="var">OKS</span>: <a class="idref" href="GMu.Definitions.html#okGadt"><span class="id" title="definition">okGadt</span></a> <span class="id" title="var">Σ</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;1: {<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span>¬ <a class="idref" href="GMu.Regularity.html#okt_implies_okgadt"><span class="id" title="lemma">okt_implies_okgadt</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span>× <a class="idref" href="GMu.Regularity.html#typing_regular"><span class="id" title="lemma">typing_regular</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;}<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">OKS</span> <span class="id" title="keyword">as</span> [? <span class="id" title="var">OKS</span>].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">lets</span> [? <span class="id" title="var">OKD</span>]: <span class="id" title="var">OKS</span> <span class="id" title="var">H</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">lets</span> <span class="id" title="var">Din</span>: <a class="idref" href="http://coq.inria.fr/distrib/V8.13.0/stdlib//Coq.Lists.List.html#nth_error_In"><span class="id" title="lemma">List.nth_error_In</span></a> <span class="id" title="var">H0</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">lets</span> <span class="id" title="var">OKC</span>: <span class="id" title="var">OKD</span> <span class="id" title="var">Din</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">inversion</span> <span class="id" title="var">OKC</span> <span class="id" title="keyword">as</span> [? ? ? ? ? ? <span class="id" title="var">Harg</span> <span class="id" title="var">Hwft</span> <span class="id" title="var">FVarg</span> <span class="id" title="var">FVret</span>]; <span class="id" title="tactic">subst</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">econstructor</span>; <span class="id" title="tactic">auto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="tactic">apply</span> <span class="id" title="var">H</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="tactic">rewrite</span>¬ <a class="idref" href="http://coq.inria.fr/distrib/V8.13.0/stdlib//Coq.Lists.List.html#map_length"><span class="id" title="lemma">List.map_length</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="tactic">rewrite</span>¬ <a class="idref" href="GMu.InfrastructureSubst.html#subst_commutes_open_tt_many"><span class="id" title="lemma">subst_commutes_open_tt_many</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;× <span class="id" title="tactic">apply</span>× <a class="idref" href="GMu.Regularity.html#type_from_wft"><span class="id" title="lemma">type_from_wft</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;× <span class="id" title="tactic">rewrite</span>¬ <span class="id" title="var">FVarg</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="tactic">intros</span> <span class="id" title="var">T'</span> <span class="id" title="var">Tin</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.0/stdlib//Coq.Lists.List.html#in_map_iff"><span class="id" title="lemma">List.in_map_iff</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">Tin</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">Tin</span> <span class="id" title="keyword">as</span> [<span class="id" title="var">T</span> [? <span class="id" title="var">Tin</span>]]; <span class="id" title="tactic">subst</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span>× <a class="idref" href="GMu.Regularity2.html#wft_subst_tb_3"><span class="id" title="lemma">wft_subst_tb_3</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="tactic">rewrite</span>¬ <a class="idref" href="GMu.InfrastructureSubst.html#subst_commutes_open_tt_many"><span class="id" title="lemma">subst_commutes_open_tt_many</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;× <span class="id" title="tactic">apply</span>× <a class="idref" href="GMu.Regularity.html#type_from_wft"><span class="id" title="lemma">type_from_wft</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;× <span class="id" title="var">cbn</span>. <span class="id" title="tactic">fold</span> (<a class="idref" href="GMu.Definitions.html#fv_typs"><span class="id" title="definition">fv_typs</span></a> <span class="id" title="var">CretTypes</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span>¬ <a class="idref" href="GMu.InfrastructureFV.html#notin_fold"><span class="id" title="lemma">notin_fold</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intros</span> <span class="id" title="var">TR</span> <span class="id" title="var">Tin</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span>¬ <span class="id" title="var">FVret</span>.<br/>
&nbsp;&nbsp;- <span class="id" title="var">apply_fresh</span> <a class="idref" href="GMu.Definitions.html#typing_abs"><span class="id" title="constructor">typing_abs</span></a> <span class="id" title="keyword">as</span> <span class="id" title="var">x</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">fold</span> (<a class="idref" href="GMu.Definitions.html#subst_tb"><span class="id" title="definition">subst_tb</span></a> <span class="id" title="var">Z</span> <span class="id" title="var">P</span> (<a class="idref" href="GMu.Definitions.html#bind_var"><span class="id" title="constructor">bind_var</span></a> <a class="idref" href="GMu.Definitions.html#lam_var"><span class="id" title="constructor">lam_var</span></a> <span class="id" title="var">V</span>)).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> &lt;- <span class="id" title="lemma">map_push</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <a class="idref" href="GMu.InfrastructureSubst.html#subst_te_open_ee_var"><span class="id" title="lemma">subst_te_open_ee_var</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span>¬ <span class="id" title="var">H0</span>.<br/>
&nbsp;&nbsp;- <span class="id" title="var">lets</span>: <a class="idref" href="GMu.Regularity.html#type_from_wft"><span class="id" title="lemma">type_from_wft</span></a> <span class="id" title="var">WFT</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">apply_fresh</span> <a class="idref" href="GMu.Definitions.html#typing_tabs"><span class="id" title="constructor">typing_tabs</span></a> <span class="id" title="keyword">as</span> <span class="id" title="var">X</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="var">forwards</span>¬ : <span class="id" title="var">H</span> <span class="id" title="var">X</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span>¬ <a class="idref" href="GMu.InfrastructureSubst.html#subst_te_open_te_var"><span class="id" title="lemma">subst_te_open_te_var</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="var">forwards</span> × <span class="id" title="var">IH</span> : <span class="id" title="var">H1</span> <span class="id" title="var">X</span> (<span class="id" title="var">Δ2</span> <a class="idref" href="GMu.Definitions.html#3ca84bd817dd2b1e2f0f693cd9400702"><span class="id" title="notation">|,|</span></a> <a class="idref" href="GMu.Definitions.html#b5ab1b23d5b56035820660ded1af9bea"><span class="id" title="notation">[</span></a><a class="idref" href="GMu.Definitions.html#tc_var"><span class="id" title="constructor">tc_var</span></a> <span class="id" title="var">X</span><a class="idref" href="GMu.Definitions.html#b5ab1b23d5b56035820660ded1af9bea"><span class="id" title="notation">]*</span></a>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;1: {<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">fold_delta</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">repeat</span> <span class="id" title="tactic">rewrite</span> <a class="idref" href="GMu.InfrastructureFV.html#domDelta_app"><span class="id" title="lemma">domDelta_app</span></a> <span class="id" title="tactic">in</span> ×.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">repeat</span> <span class="id" title="tactic">rewrite</span> <span class="id" title="lemma">notin_union</span> <span class="id" title="tactic">in</span> ×.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">FVZD</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">repeat</span> <span class="id" title="tactic">split</span>¬.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">cbn</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <span class="id" title="lemma">notin_union</span>; <span class="id" title="tactic">split</span>¬.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span>× <a class="idref" href="GMu.Prelude.html#notin_inverse"><span class="id" title="lemma">notin_inverse</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">fold_delta</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">repeat</span> <span class="id" title="tactic">rewrite</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.0/stdlib//Coq.Lists.List.html#app_assoc"><span class="id" title="lemma">List.app_assoc</span></a> <span class="id" title="tactic">in</span> ×.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span>¬ <a class="idref" href="GMu.InfrastructureSubst.html#subst_te_open_te_var"><span class="id" title="lemma">subst_te_open_te_var</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span>¬ <a class="idref" href="GMu.InfrastructureSubst.html#subst_tt_open_tt_var"><span class="id" title="lemma">subst_tt_open_tt_var</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span>× <span class="id" title="var">IH</span>.<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">econstructor</span>; <span class="id" title="tactic">auto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="tactic">apply</span>× <span class="id" title="var">IHTyp</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="tactic">apply</span>× <a class="idref" href="GMu.Regularity2.html#wft_subst_tb_3"><span class="id" title="lemma">wft_subst_tb_3</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="tactic">fold</span> <a class="idref" href="GMu.Definitions.html#subst_tt"><span class="id" title="definition">subst_tt</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span>× <a class="idref" href="GMu.InfrastructureSubst.html#subst_tt_open_tt"><span class="id" title="lemma">subst_tt_open_tt</span></a>.<br/>
&nbsp;&nbsp;- <span class="id" title="var">apply_fresh</span> <a class="idref" href="GMu.Definitions.html#typing_fix"><span class="id" title="constructor">typing_fix</span></a> <span class="id" title="keyword">as</span> <span class="id" title="var">x</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="var">forwards</span>¬ : <span class="id" title="var">H</span> <span class="id" title="var">x</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <a class="idref" href="GMu.InfrastructureSubst.html#subst_te_open_ee_var"><span class="id" title="lemma">subst_te_open_ee_var</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span>¬ <a class="idref" href="GMu.InfrastructureSubst.html#subst_te_value"><span class="id" title="lemma">subst_te_value</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span>× <a class="idref" href="GMu.Regularity.html#type_from_wft"><span class="id" title="lemma">type_from_wft</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="tactic">fold</span> (<a class="idref" href="GMu.Definitions.html#subst_tb"><span class="id" title="definition">subst_tb</span></a> <span class="id" title="var">Z</span> <span class="id" title="var">P</span> (<a class="idref" href="GMu.Definitions.html#bind_var"><span class="id" title="constructor">bind_var</span></a> <a class="idref" href="GMu.Definitions.html#fix_var"><span class="id" title="constructor">fix_var</span></a> <span class="id" title="var">T</span>)).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> &lt;- <span class="id" title="lemma">map_push</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <a class="idref" href="GMu.InfrastructureSubst.html#subst_te_open_ee_var"><span class="id" title="lemma">subst_te_open_ee_var</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span>¬ <span class="id" title="var">H1</span>.<br/>
&nbsp;&nbsp;- <span class="id" title="var">apply_fresh</span> <a class="idref" href="GMu.Definitions.html#typing_let"><span class="id" title="constructor">typing_let</span></a> <span class="id" title="keyword">as</span> <span class="id" title="var">x</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="tactic">apply</span>× <span class="id" title="var">IHTyp</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="tactic">rewrite</span> <a class="idref" href="GMu.InfrastructureSubst.html#subst_te_open_ee_var"><span class="id" title="lemma">subst_te_open_ee_var</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">fold</span> (<a class="idref" href="GMu.Definitions.html#subst_tb"><span class="id" title="definition">subst_tb</span></a> <span class="id" title="var">Z</span> <span class="id" title="var">P</span> (<a class="idref" href="GMu.Definitions.html#bind_var"><span class="id" title="constructor">bind_var</span></a> <a class="idref" href="GMu.Definitions.html#lam_var"><span class="id" title="constructor">lam_var</span></a> <span class="id" title="var">V</span>)).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> &lt;- <span class="id" title="lemma">map_push</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span>¬ <span class="id" title="var">H0</span>.<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">econstructor</span>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="var">cbn</span>. <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="tactic">unfold</span> <a class="idref" href="GMu.Definitions.html#map_clause_trm_trm"><span class="id" title="definition">map_clause_trm_trm</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span>¬ <a class="idref" href="http://coq.inria.fr/distrib/V8.13.0/stdlib//Coq.Lists.List.html#map_length"><span class="id" title="lemma">List.map_length</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="var">introv</span> <span class="id" title="var">Inzip</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">lets</span> [<span class="id" title="var">clA</span> [<span class="id" title="var">clT</span> [<span class="id" title="var">In2</span> ?]]]: <a class="idref" href="GMu.Prelude.html#inzip_map_clause_trm"><span class="id" title="lemma">inzip_map_clause_trm</span></a> <span class="id" title="var">Inzip</span>; <span class="id" title="tactic">subst</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">lets</span>: <span class="id" title="var">H2</span> <span class="id" title="var">In2</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">cbn</span> <span class="id" title="tactic">in</span> ×. <span class="id" title="tactic">auto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="keyword">let</span> <span class="id" title="var">FV</span> := <span class="id" title="var">gather_vars</span> <span class="id" title="tactic">in</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">introv</span> <span class="id" title="var">Inzip</span> <span class="id" title="var">Len</span> <span class="id" title="var">Dist</span> <span class="id" title="var">FA</span> <span class="id" title="var">Fx</span> <span class="id" title="var">FxA</span>;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">instantiate</span> (1 := <span class="id" title="var">FV</span>) <span class="id" title="tactic">in</span> <span class="id" title="var">FA</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">lets</span> [<span class="id" title="var">clA</span> [<span class="id" title="var">clT</span> [<span class="id" title="var">In2</span> ?]]]: <a class="idref" href="GMu.Prelude.html#inzip_map_clause_trm"><span class="id" title="lemma">inzip_map_clause_trm</span></a> <span class="id" title="var">Inzip</span>; <span class="id" title="tactic">subst</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">assert</span> (<span class="id" title="var">OKS</span>: <a class="idref" href="GMu.Definitions.html#okGadt"><span class="id" title="definition">okGadt</span></a> <span class="id" title="var">Σ</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;1: {<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span>¬ <a class="idref" href="GMu.Regularity.html#okt_implies_okgadt"><span class="id" title="lemma">okt_implies_okgadt</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span>× <a class="idref" href="GMu.Regularity.html#typing_regular"><span class="id" title="lemma">typing_regular</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">OKS</span> <span class="id" title="keyword">as</span> [? <span class="id" title="var">OKS</span>].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">lets</span> [? <span class="id" title="var">OKD</span>]: <span class="id" title="var">OKS</span> <span class="id" title="var">H0</span>; <span class="id" title="tactic">clear</span> <span class="id" title="var">OKS</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">lets</span> <span class="id" title="var">Din</span>: <a class="idref" href="GMu.Zip.html#fst_from_zip"><span class="id" title="lemma">fst_from_zip</span></a> <span class="id" title="var">In2</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">lets</span> <span class="id" title="var">OKC</span>: <span class="id" title="var">OKD</span> <span class="id" title="var">Din</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">inversion</span> <span class="id" title="var">OKC</span> <span class="id" title="keyword">as</span> [? ? ? ? ? ? <span class="id" title="var">Harg</span> <span class="id" title="var">Hwft</span> <span class="id" title="var">FVarg</span> <span class="id" title="var">FVret</span>]; <span class="id" title="tactic">subst</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">cbn</span> <span class="id" title="tactic">in</span> ×.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">lets</span>¬ <span class="id" title="var">IH</span> : <span class="id" title="var">H4</span> <span class="id" title="var">In2</span> <span class="id" title="var">x</span> <span class="id" title="var">Len</span> <span class="id" title="var">Dist</span> (<span class="id" title="var">Δ2</span> <a class="idref" href="GMu.Definitions.html#3ca84bd817dd2b1e2f0f693cd9400702"><span class="id" title="notation">|,|</span></a> <a class="idref" href="GMu.Definitions.html#tc_vars"><span class="id" title="definition">tc_vars</span></a> <span class="id" title="var">Alphas</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="GMu.Definitions.html#3ca84bd817dd2b1e2f0f693cd9400702"><span class="id" title="notation">|,|</span></a> <a class="idref" href="GMu.Definitions.html#equations_from_lists"><span class="id" title="definition">equations_from_lists</span></a> <span class="id" title="var">Ts</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<a class="idref" href="http://coq.inria.fr/distrib/V8.13.0/stdlib//Coq.Lists.List.html#map"><span class="id" title="definition">List.map</span></a> (<a class="idref" href="GMu.Definitions.html#open_tt_many_var"><span class="id" title="definition">open_tt_many_var</span></a> <span class="id" title="var">Alphas</span>) <span class="id" title="var">retTs</span>)).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;× <span class="id" title="var">introv</span> <span class="id" title="var">Ain</span>. <span class="id" title="var">lets</span>*: <span class="id" title="var">FA</span> <span class="id" title="var">Ain</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;× <span class="id" title="var">cbn</span> <span class="id" title="tactic">in</span> ×.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">forwards</span>¬ <span class="id" title="var">IH2</span>: <span class="id" title="var">IH</span>; <span class="id" title="tactic">clear</span> <span class="id" title="var">IH</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;-- <span class="id" title="tactic">repeat</span> <span class="id" title="tactic">rewrite</span>¬ <a class="idref" href="http://coq.inria.fr/distrib/V8.13.0/stdlib//Coq.Lists.List.html#app_assoc"><span class="id" title="lemma">List.app_assoc</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;-- <span class="id" title="tactic">repeat</span> <span class="id" title="tactic">rewrite</span> <a class="idref" href="GMu.InfrastructureFV.html#domDelta_app"><span class="id" title="lemma">domDelta_app</span></a> <span class="id" title="tactic">in</span> ×.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">repeat</span> <span class="id" title="tactic">rewrite</span> <span class="id" title="lemma">notin_union</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">repeat</span> <span class="id" title="tactic">rewrite</span> <span class="id" title="lemma">notin_union</span> <span class="id" title="tactic">in</span> <span class="id" title="var">FVZD</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">FVZD</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">repeat</span> <span class="id" title="tactic">split</span>¬.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;++ <span class="id" title="tactic">apply</span> <a class="idref" href="GMu.InfrastructureFV.html#notin_dom_tc_vars"><span class="id" title="lemma">notin_dom_tc_vars</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span>¬ <a class="idref" href="GMu.Equations.html#notin_from_list"><span class="id" title="lemma">notin_from_list</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intro</span> <span class="id" title="var">HF</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">lets</span> <span class="id" title="var">HF2</span> : <span class="id" title="var">FA</span> <span class="id" title="var">HF</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">repeat</span> <span class="id" title="tactic">rewrite</span> <span class="id" title="lemma">notin_union</span> <span class="id" title="tactic">in</span> <span class="id" title="var">HF2</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">assert</span> (<span class="id" title="var">Z</span> <span class="id" title="notation">\</span><span class="id" title="notation">notin</span> <span class="id" title="notation">\{</span> <span class="id" title="var">Z</span> <span class="id" title="notation">}</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;** <span class="id" title="tactic">destruct</span>¬ <span class="id" title="var">HF2</span> <span class="id" title="keyword">as</span> [? [[? ?] ?]].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;** <span class="id" title="tactic">apply</span>× <span class="id" title="lemma">notin_same</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;++ <span class="id" title="tactic">rewrite</span>¬ <a class="idref" href="GMu.InfrastructureFV.html#equations_have_no_dom"><span class="id" title="lemma">equations_have_no_dom</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span>× <a class="idref" href="GMu.Prelude.html#equations_from_lists_are_equations"><span class="id" title="lemma">equations_from_lists_are_equations</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;-- <span class="id" title="tactic">assert</span> (<span class="id" title="var">FVZA</span>: <span class="id" title="keyword">∀</span> <a id="X:129" class="idref" href="#X:129"><span class="id" title="binder">X</span></a> : <span class="id" title="axiom">var</span>, <a class="idref" href="http://coq.inria.fr/distrib/V8.13.0/stdlib//Coq.Lists.List.html#In"><span class="id" title="definition">List.In</span></a> <a class="idref" href="GMu.Preservation.html#X:128"><span class="id" title="variable">X</span></a> <span class="id" title="var">Alphas</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <a class="idref" href="GMu.Preservation.html#X:128"><span class="id" title="variable">X</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'&lt;&gt;'_x"><span class="id" title="notation">≠</span></a> <span class="id" title="var">Z</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;1: {<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intros</span> <span class="id" title="var">A</span> <span class="id" title="var">Ain</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intro</span> <span class="id" title="var">HF</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">subst</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">lets</span> <span class="id" title="var">FA2</span>: <span class="id" title="var">FA</span> <span class="id" title="var">Ain</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">repeat</span> <span class="id" title="tactic">rewrite</span> <span class="id" title="lemma">notin_union</span> <span class="id" title="tactic">in</span> <span class="id" title="var">FA2</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span>¬ <span class="id" title="var">FA2</span> <span class="id" title="keyword">as</span> [? [[?]]].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span>× <span class="id" title="lemma">notin_same</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span>¬ &lt;- <a class="idref" href="GMu.InfrastructureSubst.html#subst_commutes_with_unrelated_opens_te"><span class="id" title="lemma">subst_commutes_with_unrelated_opens_te</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;** <span class="id" title="tactic">rewrite</span> <a class="idref" href="GMu.InfrastructureSubst.html#subst_te_open_ee_var"><span class="id" title="lemma">subst_te_open_ee_var</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.0/stdlib//Coq.Lists.List.html#map_app"><span class="id" title="lemma">List.map_app</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">IH2</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.0/stdlib//Coq.Lists.List.html#map_app"><span class="id" title="lemma">List.map_app</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">IH2</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <a class="idref" href="GMu.InfrastructureFV.html#subst_td_alphas"><span class="id" title="lemma">subst_td_alphas</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">IH2</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <a class="idref" href="GMu.Regularity2.html#subst_td_eqs"><span class="id" title="lemma">subst_td_eqs</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">IH2</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;--- <span class="id" title="tactic">rewrite</span> <span class="id" title="lemma">map_concat</span> <span class="id" title="tactic">in</span> <span class="id" title="var">IH2</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <span class="id" title="lemma">map_single</span> <span class="id" title="tactic">in</span> <span class="id" title="var">IH2</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">cbn</span> <span class="id" title="tactic">in</span> <span class="id" title="var">IH2</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">assert</span> (<span class="id" title="var">Hrew</span>: <a class="idref" href="GMu.Definitions.html#subst_tt"><span class="id" title="definition">subst_tt</span></a> <span class="id" title="var">Z</span> <span class="id" title="var">P</span> (<a class="idref" href="GMu.Definitions.html#open_tt_many_var"><span class="id" title="definition">open_tt_many_var</span></a> <span class="id" title="var">Alphas</span> <span class="id" title="var">argT</span>) <a class="idref" href="http://coq.inria.fr/distrib/V8.13.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="GMu.Definitions.html#open_tt_many_var"><span class="id" title="definition">open_tt_many_var</span></a> <span class="id" title="var">Alphas</span> <span class="id" title="var">argT</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;+++ <span class="id" title="tactic">rewrite</span>¬ <a class="idref" href="GMu.InfrastructureSubst.html#subst_commutes_with_unrelated_opens"><span class="id" title="lemma">subst_commutes_with_unrelated_opens</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;*** <span class="id" title="tactic">f_equal</span>. <span class="id" title="tactic">rewrite</span>¬ <a class="idref" href="GMu.InfrastructureSubst.html#subst_tt_fresh"><span class="id" title="lemma">subst_tt_fresh</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span>¬ <span class="id" title="var">FVarg</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;*** <span class="id" title="tactic">apply</span>× <a class="idref" href="GMu.Regularity.html#type_from_wft"><span class="id" title="lemma">type_from_wft</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;+++ <span class="id" title="tactic">rewrite</span> <span class="id" title="var">Hrew</span> <span class="id" title="tactic">in</span> <span class="id" title="var">IH2</span>; <span class="id" title="tactic">clear</span> <span class="id" title="var">Hrew</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">repeat</span> <span class="id" title="tactic">rewrite</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.0/stdlib//Coq.Lists.List.html#app_assoc"><span class="id" title="lemma">List.app_assoc</span></a> <span class="id" title="tactic">in</span> ×.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <span class="id" title="var">IH2</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;--- <span class="id" title="var">introv</span> <span class="id" title="var">Uin</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.0/stdlib//Coq.Lists.List.html#in_map_iff"><span class="id" title="lemma">List.in_map_iff</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">Uin</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">Uin</span> <span class="id" title="keyword">as</span> [<span class="id" title="var">V</span> [<span class="id" title="var">EQ</span> <span class="id" title="var">Vin</span>]]; <span class="id" title="tactic">subst</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intro</span> <span class="id" title="var">HF</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">lets</span> <span class="id" title="var">Sm</span>: <a class="idref" href="GMu.InfrastructureFV.html#fv_smaller_many"><span class="id" title="lemma">fv_smaller_many</span></a> <span class="id" title="var">Alphas</span> <span class="id" title="var">V</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <span class="id" title="var">Sm</span> <span class="id" title="tactic">in</span> <span class="id" title="var">HF</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <span class="id" title="axiom">in_union</span> <span class="id" title="tactic">in</span> <span class="id" title="var">HF</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">HF</span> <span class="id" title="keyword">as</span> [<span class="id" title="var">HF</span>|<span class="id" title="var">HF</span>].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;+++ <span class="id" title="tactic">rewrite</span>¬ <span class="id" title="var">FVret</span> <span class="id" title="tactic">in</span> <span class="id" title="var">HF</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span>× <span class="id" title="lemma">in_empty_inv</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;+++ <span class="id" title="tactic">apply</span> <a class="idref" href="GMu.Prelude.html#from_list_spec"><span class="id" title="lemma">from_list_spec</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">HF</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="GMu.Prelude.html#LibList_mem"><span class="id" title="lemma">LibList_mem</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">HF</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">lets</span>: <span class="id" title="var">FVZA</span> <span class="id" title="var">HF</span>. <span class="id" title="var">false</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;** <span class="id" title="tactic">apply</span>× <a class="idref" href="GMu.Regularity.html#type_from_wft"><span class="id" title="lemma">type_from_wft</span></a>.<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">econstructor</span>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="tactic">apply</span>× <a class="idref" href="GMu.SubstMatch.html#entails_through_subst"><span class="id" title="lemma">entails_through_subst</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="tactic">apply</span>× <a class="idref" href="GMu.Regularity2.html#wft_subst_tb_3"><span class="id" title="lemma">wft_subst_tb_3</span></a>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="typing_through_subst_te_3" class="idref" href="#typing_through_subst_te_3"><span class="id" title="lemma">typing_through_subst_te_3</span></a> :<br/>
&nbsp;&nbsp;<span class="id" title="keyword">∀</span> <a id="ac561eb9930a784cc140305591fb82e6" class="idref" href="#ac561eb9930a784cc140305591fb82e6"><span class="id" title="binder">Σ</span></a> <a id="700bd56fa0a1a479ecc3b3778db647b5" class="idref" href="#700bd56fa0a1a479ecc3b3778db647b5"><span class="id" title="binder">Δ</span></a> <a id="E:132" class="idref" href="#E:132"><span class="id" title="binder">E</span></a> <a id="Z:133" class="idref" href="#Z:133"><span class="id" title="binder">Z</span></a> <a id="e:134" class="idref" href="#e:134"><span class="id" title="binder">e</span></a> <a id="P:135" class="idref" href="#P:135"><span class="id" title="binder">P</span></a> <a id="T:136" class="idref" href="#T:136"><span class="id" title="binder">T</span></a> <a id="TT:137" class="idref" href="#TT:137"><span class="id" title="binder">TT</span></a>,<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="GMu.Definitions.html#01c16c7ccd254b860cbd58c1da68710e"><span class="id" title="notation">{</span></a><a class="idref" href="GMu.Preservation.html#ac561eb9930a784cc140305591fb82e6"><span class="id" title="variable">Σ</span></a><a class="idref" href="GMu.Definitions.html#01c16c7ccd254b860cbd58c1da68710e"><span class="id" title="notation">,</span></a> <a class="idref" href="GMu.Preservation.html#700bd56fa0a1a479ecc3b3778db647b5"><span class="id" title="variable">Δ</span></a> <a class="idref" href="GMu.Definitions.html#3ca84bd817dd2b1e2f0f693cd9400702"><span class="id" title="notation">|,|</span></a> <a class="idref" href="GMu.Definitions.html#b5ab1b23d5b56035820660ded1af9bea"><span class="id" title="notation">[</span></a><a class="idref" href="GMu.Definitions.html#tc_var"><span class="id" title="constructor">tc_var</span></a> <a class="idref" href="GMu.Preservation.html#Z:133"><span class="id" title="variable">Z</span></a><a class="idref" href="GMu.Definitions.html#b5ab1b23d5b56035820660ded1af9bea"><span class="id" title="notation">]*</span></a><a class="idref" href="GMu.Definitions.html#01c16c7ccd254b860cbd58c1da68710e"><span class="id" title="notation">,</span></a> <a class="idref" href="GMu.Preservation.html#E:132"><span class="id" title="variable">E</span></a><a class="idref" href="GMu.Definitions.html#01c16c7ccd254b860cbd58c1da68710e"><span class="id" title="notation">}</span></a> <a class="idref" href="GMu.Definitions.html#01c16c7ccd254b860cbd58c1da68710e"><span class="id" title="notation">⊢(</span></a><a class="idref" href="GMu.Preservation.html#TT:137"><span class="id" title="variable">TT</span></a><a class="idref" href="GMu.Definitions.html#01c16c7ccd254b860cbd58c1da68710e"><span class="id" title="notation">)</span></a> <a class="idref" href="GMu.Preservation.html#e:134"><span class="id" title="variable">e</span></a> <a class="idref" href="GMu.Definitions.html#01c16c7ccd254b860cbd58c1da68710e"><span class="id" title="notation">∈</span></a> <a class="idref" href="GMu.Preservation.html#T:136"><span class="id" title="variable">T</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="GMu.Definitions.html#wft"><span class="id" title="inductive">wft</span></a> <a class="idref" href="GMu.Preservation.html#ac561eb9930a784cc140305591fb82e6"><span class="id" title="variable">Σ</span></a> <a class="idref" href="GMu.Preservation.html#700bd56fa0a1a479ecc3b3778db647b5"><span class="id" title="variable">Δ</span></a> <a class="idref" href="GMu.Preservation.html#P:135"><span class="id" title="variable">P</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="GMu.Preservation.html#Z:133"><span class="id" title="variable">Z</span></a> <span class="id" title="notation">\</span><span class="id" title="notation">notin</span> <a class="idref" href="GMu.Definitions.html#fv_typ"><span class="id" title="definition">fv_typ</span></a> <a class="idref" href="GMu.Preservation.html#P:135"><span class="id" title="variable">P</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="GMu.Preservation.html#Z:133"><span class="id" title="variable">Z</span></a> <span class="id" title="notation">#</span> <a class="idref" href="GMu.Preservation.html#E:132"><span class="id" title="variable">E</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="GMu.Preservation.html#Z:133"><span class="id" title="variable">Z</span></a> <span class="id" title="notation">\</span><span class="id" title="notation">notin</span> <a class="idref" href="GMu.Definitions.html#fv_env"><span class="id" title="definition">fv_env</span></a> <a class="idref" href="GMu.Preservation.html#E:132"><span class="id" title="variable">E</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="GMu.Preservation.html#Z:133"><span class="id" title="variable">Z</span></a> <span class="id" title="notation">\</span><span class="id" title="notation">notin</span> <a class="idref" href="GMu.Definitions.html#e1e06a37011ebd9f9e861e05c79f4e29"><span class="id" title="definition">domΔ</span></a> <a class="idref" href="GMu.Preservation.html#700bd56fa0a1a479ecc3b3778db647b5"><span class="id" title="variable">Δ</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="GMu.Definitions.html#01c16c7ccd254b860cbd58c1da68710e"><span class="id" title="notation">{</span></a><a class="idref" href="GMu.Preservation.html#ac561eb9930a784cc140305591fb82e6"><span class="id" title="variable">Σ</span></a><a class="idref" href="GMu.Definitions.html#01c16c7ccd254b860cbd58c1da68710e"><span class="id" title="notation">,</span></a> <a class="idref" href="GMu.Preservation.html#700bd56fa0a1a479ecc3b3778db647b5"><span class="id" title="variable">Δ</span></a><a class="idref" href="GMu.Definitions.html#01c16c7ccd254b860cbd58c1da68710e"><span class="id" title="notation">,</span></a> <a class="idref" href="GMu.Preservation.html#E:132"><span class="id" title="variable">E</span></a><a class="idref" href="GMu.Definitions.html#01c16c7ccd254b860cbd58c1da68710e"><span class="id" title="notation">}</span></a> <a class="idref" href="GMu.Definitions.html#01c16c7ccd254b860cbd58c1da68710e"><span class="id" title="notation">⊢(</span></a><a class="idref" href="GMu.Definitions.html#Tgen"><span class="id" title="constructor">Tgen</span></a><a class="idref" href="GMu.Definitions.html#01c16c7ccd254b860cbd58c1da68710e"><span class="id" title="notation">)</span></a> <a class="idref" href="GMu.Definitions.html#subst_te"><span class="id" title="definition">subst_te</span></a> <a class="idref" href="GMu.Preservation.html#Z:133"><span class="id" title="variable">Z</span></a> <a class="idref" href="GMu.Preservation.html#P:135"><span class="id" title="variable">P</span></a> <a class="idref" href="GMu.Preservation.html#e:134"><span class="id" title="variable">e</span></a> <a class="idref" href="GMu.Definitions.html#01c16c7ccd254b860cbd58c1da68710e"><span class="id" title="notation">∈</span></a> <a class="idref" href="GMu.Definitions.html#subst_tt"><span class="id" title="definition">subst_tt</span></a> <a class="idref" href="GMu.Preservation.html#Z:133"><span class="id" title="variable">Z</span></a> <a class="idref" href="GMu.Preservation.html#P:135"><span class="id" title="variable">P</span></a> <a class="idref" href="GMu.Preservation.html#T:136"><span class="id" title="variable">T</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="var">introv</span> <span class="id" title="var">Typ</span> <span class="id" title="var">WFT</span> <span class="id" title="var">ZP</span> <span class="id" title="var">ZE1</span> <span class="id" title="var">ZE2</span> <span class="id" title="var">ZD</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> &lt;- (<a class="idref" href="http://coq.inria.fr/distrib/V8.13.0/stdlib//Coq.Lists.List.html#app_nil_l"><span class="id" title="lemma">List.app_nil_l</span></a> (<span class="id" title="var">Δ</span> <a class="idref" href="GMu.Definitions.html#3ca84bd817dd2b1e2f0f693cd9400702"><span class="id" title="notation">|,|</span></a> <a class="idref" href="GMu.Definitions.html#b5ab1b23d5b56035820660ded1af9bea"><span class="id" title="notation">[</span></a><a class="idref" href="GMu.Definitions.html#tc_var"><span class="id" title="constructor">tc_var</span></a> <span class="id" title="var">Z</span><a class="idref" href="GMu.Definitions.html#b5ab1b23d5b56035820660ded1af9bea"><span class="id" title="notation">]*</span></a>)) <span class="id" title="tactic">in</span> <span class="id" title="var">Typ</span>.<br/>
&nbsp;&nbsp;<span class="id" title="var">lets</span> <span class="id" title="var">HT</span>: <a class="idref" href="GMu.Preservation.html#typing_through_subst_te_gen"><span class="id" title="lemma">typing_through_subst_te_gen</span></a> <span class="id" title="var">Typ</span> <span class="id" title="var">WFT</span> <span class="id" title="var">ZP</span> <span class="id" title="var">ZD</span> <span class="id" title="var">ZE1</span>.<br/>
&nbsp;&nbsp;<span class="id" title="var">cbn</span> <span class="id" title="tactic">in</span> <span class="id" title="var">HT</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span>¬ <a class="idref" href="GMu.InfrastructureSubst.html#subst_tb_id_on_fresh"><span class="id" title="lemma">subst_tb_id_on_fresh</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">HT</span>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="typing_through_subst_te_many" class="idref" href="#typing_through_subst_te_many"><span class="id" title="lemma">typing_through_subst_te_many</span></a> : <span class="id" title="keyword">∀</span> <a id="As:138" class="idref" href="#As:138"><span class="id" title="binder">As</span></a> <a id="c64a4e18afb901fc0065484d2bee7e79" class="idref" href="#c64a4e18afb901fc0065484d2bee7e79"><span class="id" title="binder">Σ</span></a> <a id="a5874fe4d4a36b748e97e8cdf48887ea" class="idref" href="#a5874fe4d4a36b748e97e8cdf48887ea"><span class="id" title="binder">Δ</span></a> <a id="ffe907ad271f2e4654ccaa2d0bd40681" class="idref" href="#ffe907ad271f2e4654ccaa2d0bd40681"><span class="id" title="binder">Δ2</span></a> <a id="E:142" class="idref" href="#E:142"><span class="id" title="binder">E</span></a> <a id="F:143" class="idref" href="#F:143"><span class="id" title="binder">F</span></a> <a id="e:144" class="idref" href="#e:144"><span class="id" title="binder">e</span></a> <a id="T:145" class="idref" href="#T:145"><span class="id" title="binder">T</span></a> <a id="Ps:146" class="idref" href="#Ps:146"><span class="id" title="binder">Ps</span></a> <a id="TT:147" class="idref" href="#TT:147"><span class="id" title="binder">TT</span></a>,<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="GMu.Definitions.html#01c16c7ccd254b860cbd58c1da68710e"><span class="id" title="notation">{</span></a><a class="idref" href="GMu.Preservation.html#c64a4e18afb901fc0065484d2bee7e79"><span class="id" title="variable">Σ</span></a><a class="idref" href="GMu.Definitions.html#01c16c7ccd254b860cbd58c1da68710e"><span class="id" title="notation">,</span></a> <a class="idref" href="GMu.Definitions.html#01c16c7ccd254b860cbd58c1da68710e"><span class="id" title="notation">(</span></a><a class="idref" href="GMu.Preservation.html#a5874fe4d4a36b748e97e8cdf48887ea"><span class="id" title="variable">Δ</span></a> <a class="idref" href="GMu.Definitions.html#3ca84bd817dd2b1e2f0f693cd9400702"><span class="id" title="notation">|,|</span></a> <a class="idref" href="GMu.Definitions.html#tc_vars"><span class="id" title="definition">tc_vars</span></a> <a class="idref" href="GMu.Preservation.html#As:138"><span class="id" title="variable">As</span></a> <a class="idref" href="GMu.Definitions.html#3ca84bd817dd2b1e2f0f693cd9400702"><span class="id" title="notation">|,|</span></a> <a class="idref" href="GMu.Preservation.html#ffe907ad271f2e4654ccaa2d0bd40681"><span class="id" title="variable">Δ2</span></a><a class="idref" href="GMu.Definitions.html#01c16c7ccd254b860cbd58c1da68710e"><span class="id" title="notation">),</span></a> <a class="idref" href="GMu.Preservation.html#E:142"><span class="id" title="variable">E</span></a> <span class="id" title="notation">&amp;</span> <a class="idref" href="GMu.Preservation.html#F:143"><span class="id" title="variable">F</span></a><a class="idref" href="GMu.Definitions.html#01c16c7ccd254b860cbd58c1da68710e"><span class="id" title="notation">}</span></a> <a class="idref" href="GMu.Definitions.html#01c16c7ccd254b860cbd58c1da68710e"><span class="id" title="notation">⊢(</span></a><a class="idref" href="GMu.Preservation.html#TT:147"><span class="id" title="variable">TT</span></a><a class="idref" href="GMu.Definitions.html#01c16c7ccd254b860cbd58c1da68710e"><span class="id" title="notation">)</span></a> <a class="idref" href="GMu.Preservation.html#e:144"><span class="id" title="variable">e</span></a> <a class="idref" href="GMu.Definitions.html#01c16c7ccd254b860cbd58c1da68710e"><span class="id" title="notation">∈</span></a> <a class="idref" href="GMu.Preservation.html#T:145"><span class="id" title="variable">T</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/V8.13.0/stdlib//Coq.Init.Datatypes.html#length"><span class="id" title="definition">length</span></a> <a class="idref" href="GMu.Preservation.html#As:138"><span class="id" title="variable">As</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.0/stdlib//Coq.Init.Datatypes.html#length"><span class="id" title="definition">length</span></a> <a class="idref" href="GMu.Preservation.html#Ps:146"><span class="id" title="variable">Ps</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/V8.13.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">(</span></a><span class="id" title="keyword">∀</span> <a id="P:148" class="idref" href="#P:148"><span class="id" title="binder">P</span></a>, <a class="idref" href="http://coq.inria.fr/distrib/V8.13.0/stdlib//Coq.Lists.List.html#In"><span class="id" title="definition">List.In</span></a> <a class="idref" href="GMu.Preservation.html#P:148"><span class="id" title="variable">P</span></a> <a class="idref" href="GMu.Preservation.html#Ps:146"><span class="id" title="variable">Ps</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <a class="idref" href="GMu.Definitions.html#wft"><span class="id" title="inductive">wft</span></a> <a class="idref" href="GMu.Preservation.html#c64a4e18afb901fc0065484d2bee7e79"><span class="id" title="variable">Σ</span></a> <a class="idref" href="GMu.Preservation.html#a5874fe4d4a36b748e97e8cdf48887ea"><span class="id" title="variable">Δ</span></a> <a class="idref" href="GMu.Preservation.html#P:148"><span class="id" title="variable">P</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.13.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">)</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/V8.13.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">(</span></a><span class="id" title="keyword">∀</span> <a id="A:149" class="idref" href="#A:149"><span class="id" title="binder">A</span></a>, <a class="idref" href="http://coq.inria.fr/distrib/V8.13.0/stdlib//Coq.Lists.List.html#In"><span class="id" title="definition">List.In</span></a> <a class="idref" href="GMu.Preservation.html#A:149"><span class="id" title="variable">A</span></a> <a class="idref" href="GMu.Preservation.html#As:138"><span class="id" title="variable">As</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <a class="idref" href="GMu.Preservation.html#A:149"><span class="id" title="variable">A</span></a> <span class="id" title="notation">#</span> <a class="idref" href="GMu.Preservation.html#E:142"><span class="id" title="variable">E</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.13.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">)</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/V8.13.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">(</span></a><span class="id" title="keyword">∀</span> <a id="A:150" class="idref" href="#A:150"><span class="id" title="binder">A</span></a>, <a class="idref" href="http://coq.inria.fr/distrib/V8.13.0/stdlib//Coq.Lists.List.html#In"><span class="id" title="definition">List.In</span></a> <a class="idref" href="GMu.Preservation.html#A:150"><span class="id" title="variable">A</span></a> <a class="idref" href="GMu.Preservation.html#As:138"><span class="id" title="variable">As</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <a class="idref" href="GMu.Preservation.html#A:150"><span class="id" title="variable">A</span></a> <span class="id" title="notation">#</span> <a class="idref" href="GMu.Preservation.html#F:143"><span class="id" title="variable">F</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.13.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">)</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/V8.13.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">(</span></a><span class="id" title="keyword">∀</span> <a id="A:151" class="idref" href="#A:151"><span class="id" title="binder">A</span></a>, <a class="idref" href="http://coq.inria.fr/distrib/V8.13.0/stdlib//Coq.Lists.List.html#In"><span class="id" title="definition">List.In</span></a> <a class="idref" href="GMu.Preservation.html#A:151"><span class="id" title="variable">A</span></a> <a class="idref" href="GMu.Preservation.html#As:138"><span class="id" title="variable">As</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <a class="idref" href="GMu.Preservation.html#A:151"><span class="id" title="variable">A</span></a> <span class="id" title="notation">\</span><span class="id" title="notation">notin</span> <a class="idref" href="GMu.Definitions.html#e1e06a37011ebd9f9e861e05c79f4e29"><span class="id" title="definition">domΔ</span></a> <a class="idref" href="GMu.Preservation.html#a5874fe4d4a36b748e97e8cdf48887ea"><span class="id" title="variable">Δ</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.13.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">)</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/V8.13.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">(</span></a><span class="id" title="keyword">∀</span> <a id="A:152" class="idref" href="#A:152"><span class="id" title="binder">A</span></a>, <a class="idref" href="http://coq.inria.fr/distrib/V8.13.0/stdlib//Coq.Lists.List.html#In"><span class="id" title="definition">List.In</span></a> <a class="idref" href="GMu.Preservation.html#A:152"><span class="id" title="variable">A</span></a> <a class="idref" href="GMu.Preservation.html#As:138"><span class="id" title="variable">As</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <a class="idref" href="GMu.Preservation.html#A:152"><span class="id" title="variable">A</span></a> <span class="id" title="notation">\</span><span class="id" title="notation">notin</span> <a class="idref" href="GMu.Definitions.html#e1e06a37011ebd9f9e861e05c79f4e29"><span class="id" title="definition">domΔ</span></a> <a class="idref" href="GMu.Preservation.html#ffe907ad271f2e4654ccaa2d0bd40681"><span class="id" title="variable">Δ2</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.13.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">)</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/V8.13.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">(</span></a><span class="id" title="keyword">∀</span> <a id="A:153" class="idref" href="#A:153"><span class="id" title="binder">A</span></a> <a id="P:154" class="idref" href="#P:154"><span class="id" title="binder">P</span></a>, <a class="idref" href="http://coq.inria.fr/distrib/V8.13.0/stdlib//Coq.Lists.List.html#In"><span class="id" title="definition">List.In</span></a> <a class="idref" href="GMu.Preservation.html#A:153"><span class="id" title="variable">A</span></a> <a class="idref" href="GMu.Preservation.html#As:138"><span class="id" title="variable">As</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.0/stdlib//Coq.Lists.List.html#In"><span class="id" title="definition">List.In</span></a> <a class="idref" href="GMu.Preservation.html#P:154"><span class="id" title="variable">P</span></a> <a class="idref" href="GMu.Preservation.html#Ps:146"><span class="id" title="variable">Ps</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <a class="idref" href="GMu.Preservation.html#A:153"><span class="id" title="variable">A</span></a> <span class="id" title="notation">\</span><span class="id" title="notation">notin</span> <a class="idref" href="GMu.Definitions.html#fv_typ"><span class="id" title="definition">fv_typ</span></a> <a class="idref" href="GMu.Preservation.html#P:154"><span class="id" title="variable">P</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.13.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">)</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/V8.13.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">(</span></a><span class="id" title="keyword">∀</span> <a id="A:155" class="idref" href="#A:155"><span class="id" title="binder">A</span></a>, <a class="idref" href="http://coq.inria.fr/distrib/V8.13.0/stdlib//Coq.Lists.List.html#In"><span class="id" title="definition">List.In</span></a> <a class="idref" href="GMu.Preservation.html#A:155"><span class="id" title="variable">A</span></a> <a class="idref" href="GMu.Preservation.html#As:138"><span class="id" title="variable">As</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <a class="idref" href="GMu.Preservation.html#A:155"><span class="id" title="variable">A</span></a> <span class="id" title="notation">\</span><span class="id" title="notation">notin</span> <a class="idref" href="GMu.Definitions.html#fv_env"><span class="id" title="definition">fv_env</span></a> <a class="idref" href="GMu.Preservation.html#E:142"><span class="id" title="variable">E</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.13.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">)</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="GMu.Definitions.html#DistinctList"><span class="id" title="inductive">DistinctList</span></a> <a class="idref" href="GMu.Preservation.html#As:138"><span class="id" title="variable">As</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="GMu.Definitions.html#01c16c7ccd254b860cbd58c1da68710e"><span class="id" title="notation">{</span></a><a class="idref" href="GMu.Preservation.html#c64a4e18afb901fc0065484d2bee7e79"><span class="id" title="variable">Σ</span></a><a class="idref" href="GMu.Definitions.html#01c16c7ccd254b860cbd58c1da68710e"><span class="id" title="notation">,</span></a> <a class="idref" href="GMu.Preservation.html#a5874fe4d4a36b748e97e8cdf48887ea"><span class="id" title="variable">Δ</span></a> <a class="idref" href="GMu.Definitions.html#3ca84bd817dd2b1e2f0f693cd9400702"><span class="id" title="notation">|,|</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.0/stdlib//Coq.Lists.List.html#map"><span class="id" title="definition">List.map</span></a> (<a class="idref" href="GMu.Definitions.html#subst_td_many"><span class="id" title="definition">subst_td_many</span></a> <a class="idref" href="GMu.Preservation.html#As:138"><span class="id" title="variable">As</span></a> <a class="idref" href="GMu.Preservation.html#Ps:146"><span class="id" title="variable">Ps</span></a>) <a class="idref" href="GMu.Preservation.html#ffe907ad271f2e4654ccaa2d0bd40681"><span class="id" title="variable">Δ2</span></a><a class="idref" href="GMu.Definitions.html#01c16c7ccd254b860cbd58c1da68710e"><span class="id" title="notation">,</span></a> <a class="idref" href="GMu.Preservation.html#E:142"><span class="id" title="variable">E</span></a> <span class="id" title="notation">&amp;</span> <span class="id" title="axiom">map</span> (<a class="idref" href="GMu.Definitions.html#subst_tb_many"><span class="id" title="definition">subst_tb_many</span></a> <a class="idref" href="GMu.Preservation.html#As:138"><span class="id" title="variable">As</span></a> <a class="idref" href="GMu.Preservation.html#Ps:146"><span class="id" title="variable">Ps</span></a>) <a class="idref" href="GMu.Preservation.html#F:143"><span class="id" title="variable">F</span></a><a class="idref" href="GMu.Definitions.html#01c16c7ccd254b860cbd58c1da68710e"><span class="id" title="notation">}</span></a> <a class="idref" href="GMu.Definitions.html#01c16c7ccd254b860cbd58c1da68710e"><span class="id" title="notation">⊢(</span></a><a class="idref" href="GMu.Definitions.html#Tgen"><span class="id" title="constructor">Tgen</span></a><a class="idref" href="GMu.Definitions.html#01c16c7ccd254b860cbd58c1da68710e"><span class="id" title="notation">)</span></a> <a class="idref" href="GMu.Definitions.html#01c16c7ccd254b860cbd58c1da68710e"><span class="id" title="notation">(</span></a><a class="idref" href="GMu.InfrastructureSubst.html#subst_te_many"><span class="id" title="definition">subst_te_many</span></a> <a class="idref" href="GMu.Preservation.html#As:138"><span class="id" title="variable">As</span></a> <a class="idref" href="GMu.Preservation.html#Ps:146"><span class="id" title="variable">Ps</span></a> <a class="idref" href="GMu.Preservation.html#e:144"><span class="id" title="variable">e</span></a><a class="idref" href="GMu.Definitions.html#01c16c7ccd254b860cbd58c1da68710e"><span class="id" title="notation">)</span></a> <a class="idref" href="GMu.Definitions.html#01c16c7ccd254b860cbd58c1da68710e"><span class="id" title="notation">∈</span></a>  <a class="idref" href="GMu.Definitions.html#subst_tt_many"><span class="id" title="definition">subst_tt_many</span></a> <a class="idref" href="GMu.Preservation.html#As:138"><span class="id" title="variable">As</span></a> <a class="idref" href="GMu.Preservation.html#Ps:146"><span class="id" title="variable">Ps</span></a> <a class="idref" href="GMu.Preservation.html#T:145"><span class="id" title="variable">T</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">induction</span> <span class="id" title="var">As</span> <span class="id" title="keyword">as</span> [| <span class="id" title="var">Ah</span> <span class="id" title="var">Ats</span>]; <span class="id" title="var">introv</span> <span class="id" title="var">Htyp</span> <span class="id" title="var">Hlen</span> <span class="id" title="var">Pwft</span> <span class="id" title="var">AE</span> <span class="id" title="var">AF</span> <span class="id" title="var">AD</span> <span class="id" title="var">AD2</span> <span class="id" title="var">AP</span> <span class="id" title="var">AEE</span> <span class="id" title="var">Adist</span>;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">Ps</span> <span class="id" title="keyword">as</span> [| <span class="id" title="var">Ph</span> <span class="id" title="var">Pts</span>]; <span class="id" title="tactic">try</span> <span class="id" title="tactic">solve</span> [<span class="id" title="var">cbn</span> <span class="id" title="tactic">in</span> *; <span class="id" title="tactic">congruence</span>].<br/>
&nbsp;&nbsp;- <span class="id" title="var">cbn</span>. <span class="id" title="var">cbn</span> <span class="id" title="tactic">in</span> <span class="id" title="var">Htyp</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.0/stdlib//Coq.Lists.List.html#map_id"><span class="id" title="lemma">List.map_id</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <span class="id" title="axiom">map_def</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> &lt;- <a class="idref" href="GMu.Prelude.html#LibList_map"><span class="id" title="lemma">LibList_map</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> &lt;- <a class="idref" href="GMu.Prelude.html#map_id"><span class="id" title="lemma">map_id</span></a>; <span class="id" title="tactic">eauto</span> <span class="id" title="keyword">using</span> <a class="idref" href="GMu.Regularity.html#Tgen_from_any"><span class="id" title="lemma">Tgen_from_any</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intros</span>. <span class="id" title="tactic">destruct</span> <span class="id" title="var">x</span> <span class="id" title="keyword">as</span> [? [?]].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">cbv</span>. <span class="id" title="tactic">auto</span>.<br/>
&nbsp;&nbsp;- <span class="id" title="var">cbn</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">inversions</span> <span class="id" title="var">Adist</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">lets</span> <span class="id" title="var">IH0</span>: <span class="id" title="var">IHAts</span> <span class="id" title="var">Σ</span> <span class="id" title="var">Δ</span> (<a class="idref" href="http://coq.inria.fr/distrib/V8.13.0/stdlib//Coq.Lists.List.html#map"><span class="id" title="definition">List.map</span></a> (<a class="idref" href="GMu.Definitions.html#subst_td"><span class="id" title="definition">subst_td</span></a> <span class="id" title="var">Ah</span> <span class="id" title="var">Ph</span>) <span class="id" title="var">Δ2</span>) (<span class="id" title="axiom">map</span> (<a class="idref" href="GMu.Definitions.html#subst_tb"><span class="id" title="definition">subst_tb</span></a> <span class="id" title="var">Ah</span> <span class="id" title="var">Ph</span>) <span class="id" title="var">E</span>) (<span class="id" title="axiom">map</span> (<a class="idref" href="GMu.Definitions.html#subst_tb"><span class="id" title="definition">subst_tb</span></a> <span class="id" title="var">Ah</span> <span class="id" title="var">Ph</span>) <span class="id" title="var">F</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">lets</span> <span class="id" title="var">IH</span>: <span class="id" title="var">IH0</span> (<a class="idref" href="GMu.Definitions.html#subst_te"><span class="id" title="definition">subst_te</span></a> <span class="id" title="var">Ah</span> <span class="id" title="var">Ph</span> <span class="id" title="var">e</span>) (<a class="idref" href="GMu.Definitions.html#subst_tt"><span class="id" title="definition">subst_tt</span></a> <span class="id" title="var">Ah</span> <span class="id" title="var">Ph</span> <span class="id" title="var">T</span>) <span class="id" title="var">Pts</span>; <span class="id" title="tactic">clear</span> <span class="id" title="var">IH0</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> &lt;- (@<a class="idref" href="GMu.InfrastructureSubst.html#subst_tb_id_on_fresh"><span class="id" title="lemma">subst_tb_id_on_fresh</span></a> <span class="id" title="var">E</span> <span class="id" title="var">Ah</span> <span class="id" title="var">Ph</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <a class="idref" href="GMu.Prelude.html#subst_tb_many_split"><span class="id" title="lemma">subst_tb_many_split</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.0/stdlib//Coq.Lists.List.html#map_map"><span class="id" title="lemma">List.map_map</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">IH</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <span class="id" title="var">IH</span>; <span class="id" title="tactic">auto</span> <span class="id" title="keyword">with</span> <span class="id" title="var">listin</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="tactic">clear</span> <span class="id" title="var">IH</span> <span class="id" title="var">IHAts</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">cbn</span> <span class="id" title="tactic">in</span> <span class="id" title="var">Htyp</span>. <span class="id" title="var">fold_delta</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">lets</span> <span class="id" title="var">HT</span>: <a class="idref" href="GMu.Preservation.html#typing_through_subst_te_gen"><span class="id" title="lemma">typing_through_subst_te_gen</span></a> <span class="id" title="var">Ph</span> <span class="id" title="var">Htyp</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> &lt;- <span class="id" title="lemma">map_concat</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <span class="id" title="var">HT</span>; <span class="id" title="tactic">auto</span> <span class="id" title="keyword">with</span> <span class="id" title="var">listin</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;× <span class="id" title="tactic">assert</span> (<span class="id" title="var">WFT</span>: <a class="idref" href="GMu.Definitions.html#wft"><span class="id" title="inductive">wft</span></a> <span class="id" title="var">Σ</span> <span class="id" title="var">Δ</span> <span class="id" title="var">Ph</span>); <span class="id" title="tactic">auto</span> <span class="id" title="keyword">with</span> <span class="id" title="var">listin</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span>× <a class="idref" href="GMu.Regularity2.html#wft_weaken_simple"><span class="id" title="lemma">wft_weaken_simple</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;× <span class="id" title="tactic">repeat</span> <span class="id" title="tactic">rewrite</span> <a class="idref" href="GMu.InfrastructureFV.html#domDelta_app"><span class="id" title="lemma">domDelta_app</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">repeat</span> <span class="id" title="tactic">rewrite</span> <span class="id" title="lemma">notin_union</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">repeat</span> <span class="id" title="tactic">split</span>; <span class="id" title="tactic">auto</span> <span class="id" title="keyword">with</span> <span class="id" title="var">listin</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="GMu.InfrastructureFV.html#notin_dom_tc_vars"><span class="id" title="lemma">notin_dom_tc_vars</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intro</span> <span class="id" title="var">HF</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="GMu.Prelude.html#from_list_spec"><span class="id" title="lemma">from_list_spec</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">HF</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="GMu.Prelude.html#LibList_mem"><span class="id" title="lemma">LibList_mem</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">HF</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">false</span>¬.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="var">introv</span> <span class="id" title="var">Ain</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> &lt;- <a class="idref" href="GMu.InfrastructureFV.html#domDelta_subst_td"><span class="id" title="lemma">domDelta_subst_td</span></a>; <span class="id" title="tactic">auto</span> <span class="id" title="keyword">with</span> <span class="id" title="var">listin</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="var">introv</span> <span class="id" title="var">Ain</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span>¬ <a class="idref" href="GMu.InfrastructureFV.html#fv_env_subst"><span class="id" title="lemma">fv_env_subst</span></a>; <span class="id" title="tactic">auto</span> <span class="id" title="keyword">with</span> <span class="id" title="var">listin</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="tactic">auto</span> <span class="id" title="keyword">with</span> <span class="id" title="var">listin</span>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Ltac</span> <span class="id" title="var">generalize_typings</span> :=<br/>
&nbsp;&nbsp;<span class="id" title="keyword">match</span> <span class="id" title="keyword">goal</span> <span class="id" title="keyword">with</span><br/>
&nbsp;&nbsp;| [ <span class="id" title="var">H</span>: <a class="idref" href="GMu.Definitions.html#01c16c7ccd254b860cbd58c1da68710e"><span class="id" title="notation">{</span></a>?<span class="id" title="var">Σ</span><a class="idref" href="GMu.Definitions.html#01c16c7ccd254b860cbd58c1da68710e"><span class="id" title="notation">,</span></a> ?<span class="id" title="var">D</span><a class="idref" href="GMu.Definitions.html#01c16c7ccd254b860cbd58c1da68710e"><span class="id" title="notation">,</span></a> ?<span class="id" title="var">E</span><a class="idref" href="GMu.Definitions.html#01c16c7ccd254b860cbd58c1da68710e"><span class="id" title="notation">}</span></a> <a class="idref" href="GMu.Definitions.html#01c16c7ccd254b860cbd58c1da68710e"><span class="id" title="notation">⊢(</span></a>?<span class="id" title="var">TT</span><a class="idref" href="GMu.Definitions.html#01c16c7ccd254b860cbd58c1da68710e"><span class="id" title="notation">)</span></a> ?<span class="id" title="var">e</span> <a class="idref" href="GMu.Definitions.html#01c16c7ccd254b860cbd58c1da68710e"><span class="id" title="notation">∈</span></a> ?<span class="id" title="var">T</span> |- <span class="id" title="var">_</span> ] ⇒<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">match</span> <span class="id" title="var">TT</span> <span class="id" title="keyword">with</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;| <a class="idref" href="GMu.Definitions.html#Tgen"><span class="id" title="constructor">Tgen</span></a> ⇒ <span class="id" title="tactic">fail</span> 1<br/>
&nbsp;&nbsp;&nbsp;&nbsp;| <a class="idref" href="GMu.Definitions.html#Treg"><span class="id" title="constructor">Treg</span></a> ⇒ <span class="id" title="tactic">fail</span> 1<br/>
&nbsp;&nbsp;&nbsp;&nbsp;| <span class="id" title="var">_</span> ⇒ <span class="id" title="tactic">apply</span> <a class="idref" href="GMu.Regularity.html#Tgen_from_any"><span class="id" title="lemma">Tgen_from_any</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">H</span>;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">try</span> <span class="id" title="tactic">clear</span> <span class="id" title="var">TT</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">end</span><br/>
&nbsp;&nbsp;<span class="id" title="keyword">end</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="typing_replace_typ_gen" class="idref" href="#typing_replace_typ_gen"><span class="id" title="lemma">typing_replace_typ_gen</span></a> : <span class="id" title="keyword">∀</span> <a id="4d868aba64cc2c334790fc00a245c2a9" class="idref" href="#4d868aba64cc2c334790fc00a245c2a9"><span class="id" title="binder">Σ</span></a> <a id="865702c63590ceb5264a037d192ae87e" class="idref" href="#865702c63590ceb5264a037d192ae87e"><span class="id" title="binder">Δ</span></a> <a id="E:158" class="idref" href="#E:158"><span class="id" title="binder">E</span></a> <a id="F:159" class="idref" href="#F:159"><span class="id" title="binder">F</span></a> <a id="x:160" class="idref" href="#x:160"><span class="id" title="binder">x</span></a> <a id="vk:161" class="idref" href="#vk:161"><span class="id" title="binder">vk</span></a> <a id="T1:162" class="idref" href="#T1:162"><span class="id" title="binder">T1</span></a> <a id="TT:163" class="idref" href="#TT:163"><span class="id" title="binder">TT</span></a> <a id="e:164" class="idref" href="#e:164"><span class="id" title="binder">e</span></a> <a id="U:165" class="idref" href="#U:165"><span class="id" title="binder">U</span></a> <a id="T2:166" class="idref" href="#T2:166"><span class="id" title="binder">T2</span></a>,<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="GMu.Definitions.html#01c16c7ccd254b860cbd58c1da68710e"><span class="id" title="notation">{</span></a><a class="idref" href="GMu.Preservation.html#4d868aba64cc2c334790fc00a245c2a9"><span class="id" title="variable">Σ</span></a><a class="idref" href="GMu.Definitions.html#01c16c7ccd254b860cbd58c1da68710e"><span class="id" title="notation">,</span></a> <a class="idref" href="GMu.Preservation.html#865702c63590ceb5264a037d192ae87e"><span class="id" title="variable">Δ</span></a><a class="idref" href="GMu.Definitions.html#01c16c7ccd254b860cbd58c1da68710e"><span class="id" title="notation">,</span></a> <a class="idref" href="GMu.Preservation.html#E:158"><span class="id" title="variable">E</span></a> <span class="id" title="notation">&amp;</span> <a class="idref" href="GMu.Preservation.html#x:160"><span class="id" title="variable">x</span></a> <span class="id" title="notation">¬</span> <a class="idref" href="GMu.Definitions.html#bind_var"><span class="id" title="constructor">bind_var</span></a> <a class="idref" href="GMu.Preservation.html#vk:161"><span class="id" title="variable">vk</span></a> <a class="idref" href="GMu.Preservation.html#T1:162"><span class="id" title="variable">T1</span></a> <span class="id" title="notation">&amp;</span> <a class="idref" href="GMu.Preservation.html#F:159"><span class="id" title="variable">F</span></a><a class="idref" href="GMu.Definitions.html#01c16c7ccd254b860cbd58c1da68710e"><span class="id" title="notation">}</span></a> <a class="idref" href="GMu.Definitions.html#01c16c7ccd254b860cbd58c1da68710e"><span class="id" title="notation">⊢(</span></a> <a class="idref" href="GMu.Preservation.html#TT:163"><span class="id" title="variable">TT</span></a><a class="idref" href="GMu.Definitions.html#01c16c7ccd254b860cbd58c1da68710e"><span class="id" title="notation">)</span></a> <a class="idref" href="GMu.Preservation.html#e:164"><span class="id" title="variable">e</span></a> <a class="idref" href="GMu.Definitions.html#01c16c7ccd254b860cbd58c1da68710e"><span class="id" title="notation">∈</span></a> <a class="idref" href="GMu.Preservation.html#U:165"><span class="id" title="variable">U</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="GMu.Definitions.html#wft"><span class="id" title="inductive">wft</span></a> <a class="idref" href="GMu.Preservation.html#4d868aba64cc2c334790fc00a245c2a9"><span class="id" title="variable">Σ</span></a> <a class="idref" href="GMu.Preservation.html#865702c63590ceb5264a037d192ae87e"><span class="id" title="variable">Δ</span></a> <a class="idref" href="GMu.Preservation.html#T2:166"><span class="id" title="variable">T2</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="GMu.Definitions.html#entails_semantic"><span class="id" title="definition">entails_semantic</span></a> <a class="idref" href="GMu.Preservation.html#4d868aba64cc2c334790fc00a245c2a9"><span class="id" title="variable">Σ</span></a> <a class="idref" href="GMu.Preservation.html#865702c63590ceb5264a037d192ae87e"><span class="id" title="variable">Δ</span></a> (<a class="idref" href="GMu.Preservation.html#T1:162"><span class="id" title="variable">T1</span></a> <a class="idref" href="GMu.Definitions.html#8f9238d4eefe0b5c60a6c98165047666"><span class="id" title="notation">≡</span></a> <a class="idref" href="GMu.Preservation.html#T2:166"><span class="id" title="variable">T2</span></a>) <a class="idref" href="http://coq.inria.fr/distrib/V8.13.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="GMu.Definitions.html#01c16c7ccd254b860cbd58c1da68710e"><span class="id" title="notation">{</span></a><a class="idref" href="GMu.Preservation.html#4d868aba64cc2c334790fc00a245c2a9"><span class="id" title="variable">Σ</span></a><a class="idref" href="GMu.Definitions.html#01c16c7ccd254b860cbd58c1da68710e"><span class="id" title="notation">,</span></a> <a class="idref" href="GMu.Preservation.html#865702c63590ceb5264a037d192ae87e"><span class="id" title="variable">Δ</span></a><a class="idref" href="GMu.Definitions.html#01c16c7ccd254b860cbd58c1da68710e"><span class="id" title="notation">,</span></a> <a class="idref" href="GMu.Preservation.html#E:158"><span class="id" title="variable">E</span></a> <span class="id" title="notation">&amp;</span> <a class="idref" href="GMu.Preservation.html#x:160"><span class="id" title="variable">x</span></a> <span class="id" title="notation">¬</span> <a class="idref" href="GMu.Definitions.html#bind_var"><span class="id" title="constructor">bind_var</span></a> <a class="idref" href="GMu.Preservation.html#vk:161"><span class="id" title="variable">vk</span></a> <a class="idref" href="GMu.Preservation.html#T2:166"><span class="id" title="variable">T2</span></a> <span class="id" title="notation">&amp;</span> <a class="idref" href="GMu.Preservation.html#F:159"><span class="id" title="variable">F</span></a><a class="idref" href="GMu.Definitions.html#01c16c7ccd254b860cbd58c1da68710e"><span class="id" title="notation">}</span></a> <a class="idref" href="GMu.Definitions.html#01c16c7ccd254b860cbd58c1da68710e"><span class="id" title="notation">⊢(</span></a><a class="idref" href="GMu.Definitions.html#Tgen"><span class="id" title="constructor">Tgen</span></a><a class="idref" href="GMu.Definitions.html#01c16c7ccd254b860cbd58c1da68710e"><span class="id" title="notation">)</span></a> <a class="idref" href="GMu.Preservation.html#e:164"><span class="id" title="variable">e</span></a> <a class="idref" href="GMu.Definitions.html#01c16c7ccd254b860cbd58c1da68710e"><span class="id" title="notation">∈</span></a> <a class="idref" href="GMu.Preservation.html#U:165"><span class="id" title="variable">U</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="var">introv</span> <span class="id" title="var">Typ</span>.<br/>
&nbsp;&nbsp;<span class="id" title="var">gen_eq</span> <span class="id" title="var">K</span>: (<span class="id" title="var">E</span> <span class="id" title="notation">&amp;</span> <span class="id" title="var">x</span> <span class="id" title="notation">¬</span> <a class="idref" href="GMu.Definitions.html#bind_var"><span class="id" title="constructor">bind_var</span></a> <span class="id" title="var">vk</span> <span class="id" title="var">T1</span> <span class="id" title="notation">&amp;</span> <span class="id" title="var">F</span>). <span class="id" title="var">gen</span> <span class="id" title="var">F</span> <span class="id" title="var">x</span> <span class="id" title="var">T1</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">induction</span> <span class="id" title="var">Typ</span> <span class="id" title="keyword">using</span> <a class="idref" href="GMu.Definitions.html#typing_ind"><span class="id" title="definition">typing_ind</span></a>; <span class="id" title="var">introv</span> <span class="id" title="var">EQ</span> <span class="id" title="var">WFT</span> <span class="id" title="var">Sem</span>; <span class="id" title="tactic">subst</span>; <span class="id" title="tactic">eauto</span>;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">try</span> <span class="id" title="tactic">solve</span> [<span class="id" title="tactic">apply</span> <a class="idref" href="GMu.Regularity.html#Tgen_from_any"><span class="id" title="lemma">Tgen_from_any</span></a> <span class="id" title="keyword">with</span> <a class="idref" href="GMu.Definitions.html#Treg"><span class="id" title="constructor">Treg</span></a>; <span class="id" title="tactic">eauto</span>].<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">apply</span> <a class="idref" href="GMu.Regularity.html#Tgen_from_any"><span class="id" title="lemma">Tgen_from_any</span></a> <span class="id" title="keyword">with</span> <a class="idref" href="GMu.Definitions.html#Treg"><span class="id" title="constructor">Treg</span></a>;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">econstructor</span>. <span class="id" title="tactic">apply</span>× <a class="idref" href="GMu.Regularity2.html#okt_replace_typ"><span class="id" title="lemma">okt_replace_typ</span></a>.<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">destruct</span> (<span class="id" title="lemma">classicT</span> (<span class="id" title="var">x</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <span class="id" title="var">x0</span>)); <span class="id" title="tactic">subst</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="var">lets</span>: <a class="idref" href="GMu.Regularity.html#okt_is_ok"><span class="id" title="lemma">okt_is_ok</span></a> <span class="id" title="var">H0</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <span class="id" title="lemma">binds_middle_eq_inv</span> <span class="id" title="tactic">in</span> <span class="id" title="var">H</span>; <span class="id" title="tactic">auto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">inversions</span> <span class="id" title="var">H</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="GMu.Definitions.html#typing_eq"><span class="id" title="constructor">typing_eq</span></a> <span class="id" title="keyword">with</span> <span class="id" title="var">T2</span> <a class="idref" href="GMu.Definitions.html#Treg"><span class="id" title="constructor">Treg</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;× <span class="id" title="tactic">constructor</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;-- <span class="id" title="tactic">apply</span> <span class="id" title="lemma">binds_concat_left</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;++ <span class="id" title="tactic">apply</span> <span class="id" title="lemma">binds_push_eq</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;++ <span class="id" title="var">lets</span>× [? ?]: <span class="id" title="lemma">ok_middle_inv</span> <span class="id" title="var">H1</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;-- <span class="id" title="tactic">apply</span>× <a class="idref" href="GMu.Regularity2.html#okt_replace_typ"><span class="id" title="lemma">okt_replace_typ</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;× <span class="id" title="tactic">apply</span>¬ <a class="idref" href="GMu.Equations.html#teq_symmetry"><span class="id" title="lemma">teq_symmetry</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;× <span class="id" title="tactic">apply</span>× <a class="idref" href="GMu.Regularity2.html#okt_is_wft_2"><span class="id" title="lemma">okt_is_wft_2</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="tactic">apply</span> <a class="idref" href="GMu.Regularity.html#Tgen_from_any"><span class="id" title="lemma">Tgen_from_any</span></a> <span class="id" title="keyword">with</span> <a class="idref" href="GMu.Definitions.html#Treg"><span class="id" title="constructor">Treg</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">constructor</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;× <span class="id" title="var">lets</span> [? | [[? [? ?]] | [? [? ?]]]]: <span class="id" title="lemma">binds_middle_inv</span> <span class="id" title="var">H</span>; <span class="id" title="tactic">subst</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;-- <span class="id" title="tactic">apply</span>¬ <span class="id" title="lemma">binds_concat_right</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;-- <span class="id" title="var">false</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;-- <span class="id" title="tactic">apply</span>¬ <span class="id" title="lemma">binds_concat_left</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;× <span class="id" title="tactic">apply</span>× <a class="idref" href="GMu.Regularity2.html#okt_replace_typ"><span class="id" title="lemma">okt_replace_typ</span></a>.<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">apply</span> <a class="idref" href="GMu.Regularity.html#Tgen_from_any"><span class="id" title="lemma">Tgen_from_any</span></a> <span class="id" title="keyword">with</span> <a class="idref" href="GMu.Definitions.html#Treg"><span class="id" title="constructor">Treg</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">econstructor</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">introv</span> <span class="id" title="var">xiL</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">lets</span> <span class="id" title="var">IH</span>: <span class="id" title="var">H0</span> <span class="id" title="var">xiL</span> (<span class="id" title="var">F</span> <span class="id" title="notation">&amp;</span> <span class="id" title="var">x0</span> <a class="idref" href="GMu.Definitions.html#b3a5fed3be65da8670dcc1af214c6fbb"><span class="id" title="notation">¬</span></a><a class="idref" href="GMu.Definitions.html#b3a5fed3be65da8670dcc1af214c6fbb"><span class="id" title="notation">l</span></a> <span class="id" title="var">V</span>) <span class="id" title="var">x</span> <span class="id" title="var">T0</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">repeat</span> <span class="id" title="tactic">rewrite</span> <span class="id" title="lemma">concat_assoc</span> <span class="id" title="tactic">in</span> <span class="id" title="var">IH</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span>× <span class="id" title="var">IH</span>.<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">apply</span> <a class="idref" href="GMu.Regularity.html#Tgen_from_any"><span class="id" title="lemma">Tgen_from_any</span></a> <span class="id" title="keyword">with</span> <a class="idref" href="GMu.Definitions.html#Treg"><span class="id" title="constructor">Treg</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">econstructor</span>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">introv</span> <span class="id" title="var">xiL</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">lets</span> <span class="id" title="var">IH</span>: <span class="id" title="var">H1</span> <span class="id" title="var">xiL</span> <span class="id" title="var">F</span> <span class="id" title="var">x</span> <span class="id" title="var">T0</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">repeat</span> <span class="id" title="tactic">rewrite</span> <span class="id" title="lemma">concat_assoc</span> <span class="id" title="tactic">in</span> <span class="id" title="var">IH</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span>× <span class="id" title="var">IH</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="tactic">apply</span>¬ <a class="idref" href="GMu.Regularity2.html#wft_weaken_simple"><span class="id" title="lemma">wft_weaken_simple</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="tactic">rewrite</span> &lt;- (<a class="idref" href="http://coq.inria.fr/distrib/V8.13.0/stdlib//Coq.Lists.List.html#app_nil_l"><span class="id" title="lemma">List.app_nil_l</span></a> (<span class="id" title="var">Δ</span> <a class="idref" href="GMu.Definitions.html#3ca84bd817dd2b1e2f0f693cd9400702"><span class="id" title="notation">|,|</span></a> <a class="idref" href="GMu.Definitions.html#b5ab1b23d5b56035820660ded1af9bea"><span class="id" title="notation">[</span></a><a class="idref" href="GMu.Definitions.html#tc_var"><span class="id" title="constructor">tc_var</span></a> <span class="id" title="var">X</span><a class="idref" href="GMu.Definitions.html#b5ab1b23d5b56035820660ded1af9bea"><span class="id" title="notation">]*</span></a>)).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span>¬ <a class="idref" href="GMu.SubstMatch.html#equation_weaken_var"><span class="id" title="lemma">equation_weaken_var</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">cbn</span>. <span class="id" title="tactic">auto</span>.<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">apply</span> <a class="idref" href="GMu.Regularity.html#Tgen_from_any"><span class="id" title="lemma">Tgen_from_any</span></a> <span class="id" title="keyword">with</span> <a class="idref" href="GMu.Definitions.html#Treg"><span class="id" title="constructor">Treg</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">econstructor</span>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">introv</span> <span class="id" title="var">xiL</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">lets</span> <span class="id" title="var">IH</span>: <span class="id" title="var">H1</span> <span class="id" title="var">xiL</span> (<span class="id" title="var">F</span> <span class="id" title="notation">&amp;</span> <span class="id" title="var">x0</span> <a class="idref" href="GMu.Definitions.html#8c787164ec190738f11bf17930b74014"><span class="id" title="notation">¬</span></a><a class="idref" href="GMu.Definitions.html#8c787164ec190738f11bf17930b74014"><span class="id" title="notation">f</span></a> <span class="id" title="var">T</span>) <span class="id" title="var">x</span> <span class="id" title="var">T1</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">repeat</span> <span class="id" title="tactic">rewrite</span> <span class="id" title="lemma">concat_assoc</span> <span class="id" title="tactic">in</span> <span class="id" title="var">IH</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span>× <span class="id" title="var">IH</span>.<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">apply</span> <a class="idref" href="GMu.Regularity.html#Tgen_from_any"><span class="id" title="lemma">Tgen_from_any</span></a> <span class="id" title="keyword">with</span> <a class="idref" href="GMu.Definitions.html#Treg"><span class="id" title="constructor">Treg</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">econstructor</span>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">introv</span> <span class="id" title="var">xiL</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">lets</span> <span class="id" title="var">IH</span>: <span class="id" title="var">H0</span> <span class="id" title="var">xiL</span> (<span class="id" title="var">F</span> <span class="id" title="notation">&amp;</span> <span class="id" title="var">x0</span> <a class="idref" href="GMu.Definitions.html#b3a5fed3be65da8670dcc1af214c6fbb"><span class="id" title="notation">¬</span></a><a class="idref" href="GMu.Definitions.html#b3a5fed3be65da8670dcc1af214c6fbb"><span class="id" title="notation">l</span></a> <span class="id" title="var">V</span>) <span class="id" title="var">x</span> <span class="id" title="var">T1</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">repeat</span> <span class="id" title="tactic">rewrite</span> <span class="id" title="lemma">concat_assoc</span> <span class="id" title="tactic">in</span> <span class="id" title="var">IH</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span>× <span class="id" title="var">IH</span>.<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">apply</span> <a class="idref" href="GMu.Regularity.html#Tgen_from_any"><span class="id" title="lemma">Tgen_from_any</span></a> <span class="id" title="keyword">with</span> <a class="idref" href="GMu.Definitions.html#Treg"><span class="id" title="constructor">Treg</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">econstructor</span>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">introv</span> <span class="id" title="var">In</span> <span class="id" title="var">Alen</span> <span class="id" title="var">Adist</span> <span class="id" title="var">Afr</span> <span class="id" title="var">xfr</span> <span class="id" title="var">xAfr</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">lets</span> <span class="id" title="var">Htmp</span>: <span class="id" title="var">H4</span> <span class="id" title="var">In</span> <span class="id" title="var">Alen</span> <span class="id" title="var">Adist</span> <span class="id" title="var">Afr</span> <span class="id" title="var">xfr</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">lets</span> <span class="id" title="var">IH</span>: <span class="id" title="var">Htmp</span> <span class="id" title="var">xAfr</span> (<span class="id" title="var">F</span> <span class="id" title="notation">&amp;</span> <span class="id" title="var">x0</span> <a class="idref" href="GMu.Definitions.html#b3a5fed3be65da8670dcc1af214c6fbb"><span class="id" title="notation">¬</span></a><a class="idref" href="GMu.Definitions.html#b3a5fed3be65da8670dcc1af214c6fbb"><span class="id" title="notation">l</span></a> <a class="idref" href="GMu.Definitions.html#open_tt_many_var"><span class="id" title="definition">open_tt_many_var</span></a> <span class="id" title="var">Alphas</span> (<a class="idref" href="GMu.Definitions.html#Cargtype"><span class="id" title="projection">Cargtype</span></a> <span class="id" title="var">def</span>)) <span class="id" title="var">x</span> <span class="id" title="var">T1</span>. <span class="id" title="tactic">clear</span> <span class="id" title="var">Htmp</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">repeat</span> <span class="id" title="tactic">rewrite</span> <span class="id" title="lemma">concat_assoc</span> <span class="id" title="tactic">in</span> <span class="id" title="var">IH</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span>× <span class="id" title="var">IH</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="tactic">repeat</span> <span class="id" title="tactic">apply</span>× <a class="idref" href="GMu.Regularity2.html#wft_weaken_simple"><span class="id" title="lemma">wft_weaken_simple</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="tactic">apply</span>¬ <a class="idref" href="GMu.SubstMatch.html#equations_weaken_match"><span class="id" title="lemma">equations_weaken_match</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.0/stdlib//Coq.Lists.List.html#map_length"><span class="id" title="lemma">List.map_length</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">lets</span> [<span class="id" title="var">OKT</span> [? <span class="id" title="var">WFT2</span>]]: <a class="idref" href="GMu.Regularity.html#typing_regular"><span class="id" title="lemma">typing_regular</span></a> <span class="id" title="var">Typ</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">inversions</span> <span class="id" title="var">WFT2</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">lets</span> <span class="id" title="var">OKS</span>: <a class="idref" href="GMu.Regularity.html#okt_implies_okgadt"><span class="id" title="lemma">okt_implies_okgadt</span></a> <span class="id" title="var">OKT</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">inversion</span> <span class="id" title="var">OKS</span> <span class="id" title="keyword">as</span> [? <span class="id" title="var">OKC</span>].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">lets</span> [? <span class="id" title="var">OKD</span>]: <span class="id" title="var">OKC</span> <span class="id" title="var">H0</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">lets</span> <span class="id" title="var">indef</span>: <a class="idref" href="GMu.Zip.html#fst_from_zip"><span class="id" title="lemma">fst_from_zip</span></a> <span class="id" title="var">In</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">lets</span> <span class="id" title="var">OKE</span>: <span class="id" title="var">OKD</span> <span class="id" title="var">indef</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">inversions</span> <span class="id" title="var">OKE</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">cbn</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">match</span> <span class="id" title="keyword">goal</span> <span class="id" title="keyword">with</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| [ <span class="id" title="var">H1</span>: <span class="id" title="definition">binds</span> ?<span class="id" title="var">g</span> ?<span class="id" title="var">A</span> <span class="id" title="var">Σ</span>, <span class="id" title="var">H2</span>: <span class="id" title="definition">binds</span> ?<span class="id" title="var">g</span> ?<span class="id" title="var">B</span> <span class="id" title="var">Σ</span> |- <span class="id" title="var">_</span> ] ⇒<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">let</span> <span class="id" title="var">H</span> := <span class="id" title="tactic">fresh</span> "H" <span class="id" title="tactic">in</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">lets</span> <span class="id" title="var">H</span>: <a class="idref" href="GMu.Prelude.html#binds_ext"><span class="id" title="lemma">binds_ext</span></a> <span class="id" title="var">H1</span> <span class="id" title="var">H2</span>;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">inversions</span> <span class="id" title="var">H</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">end</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">auto</span>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="typing_replace_typ" class="idref" href="#typing_replace_typ"><span class="id" title="lemma">typing_replace_typ</span></a> : <span class="id" title="keyword">∀</span> <a id="def0ae1d6f53f9edf7fdc46f0ff85f41" class="idref" href="#def0ae1d6f53f9edf7fdc46f0ff85f41"><span class="id" title="binder">Σ</span></a> <a id="298d15191315d12fd2f332d52f62104c" class="idref" href="#298d15191315d12fd2f332d52f62104c"><span class="id" title="binder">Δ</span></a> <a id="E:169" class="idref" href="#E:169"><span class="id" title="binder">E</span></a> <a id="x:170" class="idref" href="#x:170"><span class="id" title="binder">x</span></a> <a id="vk:171" class="idref" href="#vk:171"><span class="id" title="binder">vk</span></a> <a id="T1:172" class="idref" href="#T1:172"><span class="id" title="binder">T1</span></a> <a id="TT:173" class="idref" href="#TT:173"><span class="id" title="binder">TT</span></a> <a id="e:174" class="idref" href="#e:174"><span class="id" title="binder">e</span></a> <a id="U:175" class="idref" href="#U:175"><span class="id" title="binder">U</span></a> <a id="T2:176" class="idref" href="#T2:176"><span class="id" title="binder">T2</span></a>,<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="GMu.Definitions.html#01c16c7ccd254b860cbd58c1da68710e"><span class="id" title="notation">{</span></a><a class="idref" href="GMu.Preservation.html#def0ae1d6f53f9edf7fdc46f0ff85f41"><span class="id" title="variable">Σ</span></a><a class="idref" href="GMu.Definitions.html#01c16c7ccd254b860cbd58c1da68710e"><span class="id" title="notation">,</span></a> <a class="idref" href="GMu.Preservation.html#298d15191315d12fd2f332d52f62104c"><span class="id" title="variable">Δ</span></a><a class="idref" href="GMu.Definitions.html#01c16c7ccd254b860cbd58c1da68710e"><span class="id" title="notation">,</span></a> <a class="idref" href="GMu.Preservation.html#E:169"><span class="id" title="variable">E</span></a> <span class="id" title="notation">&amp;</span> <a class="idref" href="GMu.Preservation.html#x:170"><span class="id" title="variable">x</span></a> <span class="id" title="notation">¬</span> <a class="idref" href="GMu.Definitions.html#bind_var"><span class="id" title="constructor">bind_var</span></a> <a class="idref" href="GMu.Preservation.html#vk:171"><span class="id" title="variable">vk</span></a> <a class="idref" href="GMu.Preservation.html#T1:172"><span class="id" title="variable">T1</span></a><a class="idref" href="GMu.Definitions.html#01c16c7ccd254b860cbd58c1da68710e"><span class="id" title="notation">}</span></a> <a class="idref" href="GMu.Definitions.html#01c16c7ccd254b860cbd58c1da68710e"><span class="id" title="notation">⊢(</span></a> <a class="idref" href="GMu.Preservation.html#TT:173"><span class="id" title="variable">TT</span></a><a class="idref" href="GMu.Definitions.html#01c16c7ccd254b860cbd58c1da68710e"><span class="id" title="notation">)</span></a> <a class="idref" href="GMu.Preservation.html#e:174"><span class="id" title="variable">e</span></a> <a class="idref" href="GMu.Definitions.html#01c16c7ccd254b860cbd58c1da68710e"><span class="id" title="notation">∈</span></a> <a class="idref" href="GMu.Preservation.html#U:175"><span class="id" title="variable">U</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="GMu.Definitions.html#entails_semantic"><span class="id" title="definition">entails_semantic</span></a> <a class="idref" href="GMu.Preservation.html#def0ae1d6f53f9edf7fdc46f0ff85f41"><span class="id" title="variable">Σ</span></a> <a class="idref" href="GMu.Preservation.html#298d15191315d12fd2f332d52f62104c"><span class="id" title="variable">Δ</span></a> (<a class="idref" href="GMu.Preservation.html#T1:172"><span class="id" title="variable">T1</span></a> <a class="idref" href="GMu.Definitions.html#8f9238d4eefe0b5c60a6c98165047666"><span class="id" title="notation">≡</span></a> <a class="idref" href="GMu.Preservation.html#T2:176"><span class="id" title="variable">T2</span></a>) <a class="idref" href="http://coq.inria.fr/distrib/V8.13.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="GMu.Definitions.html#wft"><span class="id" title="inductive">wft</span></a> <a class="idref" href="GMu.Preservation.html#def0ae1d6f53f9edf7fdc46f0ff85f41"><span class="id" title="variable">Σ</span></a> <a class="idref" href="GMu.Preservation.html#298d15191315d12fd2f332d52f62104c"><span class="id" title="variable">Δ</span></a> <a class="idref" href="GMu.Preservation.html#T2:176"><span class="id" title="variable">T2</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="GMu.Definitions.html#01c16c7ccd254b860cbd58c1da68710e"><span class="id" title="notation">{</span></a><a class="idref" href="GMu.Preservation.html#def0ae1d6f53f9edf7fdc46f0ff85f41"><span class="id" title="variable">Σ</span></a><a class="idref" href="GMu.Definitions.html#01c16c7ccd254b860cbd58c1da68710e"><span class="id" title="notation">,</span></a> <a class="idref" href="GMu.Preservation.html#298d15191315d12fd2f332d52f62104c"><span class="id" title="variable">Δ</span></a><a class="idref" href="GMu.Definitions.html#01c16c7ccd254b860cbd58c1da68710e"><span class="id" title="notation">,</span></a> <a class="idref" href="GMu.Preservation.html#E:169"><span class="id" title="variable">E</span></a> <span class="id" title="notation">&amp;</span> <a class="idref" href="GMu.Preservation.html#x:170"><span class="id" title="variable">x</span></a> <span class="id" title="notation">¬</span> <a class="idref" href="GMu.Definitions.html#bind_var"><span class="id" title="constructor">bind_var</span></a> <a class="idref" href="GMu.Preservation.html#vk:171"><span class="id" title="variable">vk</span></a> <a class="idref" href="GMu.Preservation.html#T2:176"><span class="id" title="variable">T2</span></a><a class="idref" href="GMu.Definitions.html#01c16c7ccd254b860cbd58c1da68710e"><span class="id" title="notation">}</span></a> <a class="idref" href="GMu.Definitions.html#01c16c7ccd254b860cbd58c1da68710e"><span class="id" title="notation">⊢(</span></a> <a class="idref" href="GMu.Definitions.html#Tgen"><span class="id" title="constructor">Tgen</span></a><a class="idref" href="GMu.Definitions.html#01c16c7ccd254b860cbd58c1da68710e"><span class="id" title="notation">)</span></a> <a class="idref" href="GMu.Preservation.html#e:174"><span class="id" title="variable">e</span></a> <a class="idref" href="GMu.Definitions.html#01c16c7ccd254b860cbd58c1da68710e"><span class="id" title="notation">∈</span></a> <a class="idref" href="GMu.Preservation.html#U:175"><span class="id" title="variable">U</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">intros</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> &lt;- (<span class="id" title="lemma">concat_empty_r</span> (<span class="id" title="var">E</span> <span class="id" title="notation">&amp;</span> <span class="id" title="var">x</span> <span class="id" title="notation">¬</span> <a class="idref" href="GMu.Definitions.html#bind_var"><span class="id" title="constructor">bind_var</span></a> <span class="id" title="var">vk</span> <span class="id" title="var">T2</span>)).<br/>
&nbsp;&nbsp;<span class="id" title="tactic">apply</span>× <a class="idref" href="GMu.Preservation.html#typing_replace_typ_gen"><span class="id" title="lemma">typing_replace_typ_gen</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="var">fold_env_empty</span>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="remove_true_equation" class="idref" href="#remove_true_equation"><span class="id" title="lemma">remove_true_equation</span></a> : <span class="id" title="keyword">∀</span> <a id="80c4883e819c4171f815880acf571a9a" class="idref" href="#80c4883e819c4171f815880acf571a9a"><span class="id" title="binder">Σ</span></a> <a id="c2eabd05821eeea7ec209a47b1aa0c52" class="idref" href="#c2eabd05821eeea7ec209a47b1aa0c52"><span class="id" title="binder">Δ1</span></a> <a id="da709e09f400100fdc30972f03f6e11b" class="idref" href="#da709e09f400100fdc30972f03f6e11b"><span class="id" title="binder">Δ2</span></a> <a id="E:180" class="idref" href="#E:180"><span class="id" title="binder">E</span></a> <a id="e:181" class="idref" href="#e:181"><span class="id" title="binder">e</span></a> <a id="TT:182" class="idref" href="#TT:182"><span class="id" title="binder">TT</span></a> <a id="T:183" class="idref" href="#T:183"><span class="id" title="binder">T</span></a> <a id="U1:184" class="idref" href="#U1:184"><span class="id" title="binder">U1</span></a> <a id="U2:185" class="idref" href="#U2:185"><span class="id" title="binder">U2</span></a>,<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="GMu.Definitions.html#01c16c7ccd254b860cbd58c1da68710e"><span class="id" title="notation">{</span></a><a class="idref" href="GMu.Preservation.html#80c4883e819c4171f815880acf571a9a"><span class="id" title="variable">Σ</span></a><a class="idref" href="GMu.Definitions.html#01c16c7ccd254b860cbd58c1da68710e"><span class="id" title="notation">,</span></a> <a class="idref" href="GMu.Preservation.html#c2eabd05821eeea7ec209a47b1aa0c52"><span class="id" title="variable">Δ1</span></a> <a class="idref" href="GMu.Definitions.html#3ca84bd817dd2b1e2f0f693cd9400702"><span class="id" title="notation">|,|</span></a> <a class="idref" href="GMu.Definitions.html#b5ab1b23d5b56035820660ded1af9bea"><span class="id" title="notation">[</span></a><a class="idref" href="GMu.Definitions.html#tc_eq"><span class="id" title="constructor">tc_eq</span></a> (<a class="idref" href="GMu.Preservation.html#U1:184"><span class="id" title="variable">U1</span></a> <a class="idref" href="GMu.Definitions.html#8f9238d4eefe0b5c60a6c98165047666"><span class="id" title="notation">≡</span></a> <a class="idref" href="GMu.Preservation.html#U2:185"><span class="id" title="variable">U2</span></a>)<a class="idref" href="GMu.Definitions.html#b5ab1b23d5b56035820660ded1af9bea"><span class="id" title="notation">]*</span></a> <a class="idref" href="GMu.Definitions.html#3ca84bd817dd2b1e2f0f693cd9400702"><span class="id" title="notation">|,|</span></a> <a class="idref" href="GMu.Preservation.html#da709e09f400100fdc30972f03f6e11b"><span class="id" title="variable">Δ2</span></a><a class="idref" href="GMu.Definitions.html#01c16c7ccd254b860cbd58c1da68710e"><span class="id" title="notation">,</span></a> <a class="idref" href="GMu.Preservation.html#E:180"><span class="id" title="variable">E</span></a><a class="idref" href="GMu.Definitions.html#01c16c7ccd254b860cbd58c1da68710e"><span class="id" title="notation">}</span></a> <a class="idref" href="GMu.Definitions.html#01c16c7ccd254b860cbd58c1da68710e"><span class="id" title="notation">⊢(</span></a><a class="idref" href="GMu.Preservation.html#TT:182"><span class="id" title="variable">TT</span></a><a class="idref" href="GMu.Definitions.html#01c16c7ccd254b860cbd58c1da68710e"><span class="id" title="notation">)</span></a> <a class="idref" href="GMu.Preservation.html#e:181"><span class="id" title="variable">e</span></a> <a class="idref" href="GMu.Definitions.html#01c16c7ccd254b860cbd58c1da68710e"><span class="id" title="notation">∈</span></a> <a class="idref" href="GMu.Preservation.html#T:183"><span class="id" title="variable">T</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="GMu.Definitions.html#entails_semantic"><span class="id" title="definition">entails_semantic</span></a> <a class="idref" href="GMu.Preservation.html#80c4883e819c4171f815880acf571a9a"><span class="id" title="variable">Σ</span></a> <a class="idref" href="GMu.Preservation.html#c2eabd05821eeea7ec209a47b1aa0c52"><span class="id" title="variable">Δ1</span></a> (<a class="idref" href="GMu.Preservation.html#U1:184"><span class="id" title="variable">U1</span></a> <a class="idref" href="GMu.Definitions.html#8f9238d4eefe0b5c60a6c98165047666"><span class="id" title="notation">≡</span></a> <a class="idref" href="GMu.Preservation.html#U2:185"><span class="id" title="variable">U2</span></a>) <a class="idref" href="http://coq.inria.fr/distrib/V8.13.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="GMu.Definitions.html#01c16c7ccd254b860cbd58c1da68710e"><span class="id" title="notation">{</span></a><a class="idref" href="GMu.Preservation.html#80c4883e819c4171f815880acf571a9a"><span class="id" title="variable">Σ</span></a><a class="idref" href="GMu.Definitions.html#01c16c7ccd254b860cbd58c1da68710e"><span class="id" title="notation">,</span></a> <a class="idref" href="GMu.Preservation.html#c2eabd05821eeea7ec209a47b1aa0c52"><span class="id" title="variable">Δ1</span></a> <a class="idref" href="GMu.Definitions.html#3ca84bd817dd2b1e2f0f693cd9400702"><span class="id" title="notation">|,|</span></a> <a class="idref" href="GMu.Preservation.html#da709e09f400100fdc30972f03f6e11b"><span class="id" title="variable">Δ2</span></a><a class="idref" href="GMu.Definitions.html#01c16c7ccd254b860cbd58c1da68710e"><span class="id" title="notation">,</span></a> <a class="idref" href="GMu.Preservation.html#E:180"><span class="id" title="variable">E</span></a><a class="idref" href="GMu.Definitions.html#01c16c7ccd254b860cbd58c1da68710e"><span class="id" title="notation">}</span></a> <a class="idref" href="GMu.Definitions.html#01c16c7ccd254b860cbd58c1da68710e"><span class="id" title="notation">⊢(</span></a><a class="idref" href="GMu.Preservation.html#TT:182"><span class="id" title="variable">TT</span></a><a class="idref" href="GMu.Definitions.html#01c16c7ccd254b860cbd58c1da68710e"><span class="id" title="notation">)</span></a> <a class="idref" href="GMu.Preservation.html#e:181"><span class="id" title="variable">e</span></a> <a class="idref" href="GMu.Definitions.html#01c16c7ccd254b860cbd58c1da68710e"><span class="id" title="notation">∈</span></a> <a class="idref" href="GMu.Preservation.html#T:183"><span class="id" title="variable">T</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="var">introv</span> <span class="id" title="var">Typ</span>.<br/>
&nbsp;&nbsp;<span class="id" title="var">gen_eq</span> <span class="id" title="var">D3</span>: (<span class="id" title="var">Δ1</span> <a class="idref" href="GMu.Definitions.html#3ca84bd817dd2b1e2f0f693cd9400702"><span class="id" title="notation">|,|</span></a> <a class="idref" href="GMu.Definitions.html#b5ab1b23d5b56035820660ded1af9bea"><span class="id" title="notation">[</span></a><a class="idref" href="GMu.Definitions.html#tc_eq"><span class="id" title="constructor">tc_eq</span></a> (<span class="id" title="var">U1</span> <a class="idref" href="GMu.Definitions.html#8f9238d4eefe0b5c60a6c98165047666"><span class="id" title="notation">≡</span></a> <span class="id" title="var">U2</span>)<a class="idref" href="GMu.Definitions.html#b5ab1b23d5b56035820660ded1af9bea"><span class="id" title="notation">]*</span></a> <a class="idref" href="GMu.Definitions.html#3ca84bd817dd2b1e2f0f693cd9400702"><span class="id" title="notation">|,|</span></a> <span class="id" title="var">Δ2</span>). <span class="id" title="var">gen</span> <span class="id" title="var">Δ1</span> <span class="id" title="var">Δ2</span>.<br/>
&nbsp;&nbsp;<span class="id" title="var">lets</span>: <a class="idref" href="GMu.Regularity2.html#okt_strengthen_delta_eq"><span class="id" title="lemma">okt_strengthen_delta_eq</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="var">lets</span>: <a class="idref" href="GMu.Regularity.html#wft_strengthen_equation"><span class="id" title="lemma">wft_strengthen_equation</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">induction</span> <span class="id" title="var">Typ</span> <span class="id" title="keyword">using</span> <a class="idref" href="GMu.Definitions.html#typing_ind"><span class="id" title="definition">typing_ind</span></a>; <span class="id" title="var">introv</span> <span class="id" title="var">EQ</span> <span class="id" title="var">Sem</span>; <span class="id" title="tactic">subst</span>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">econstructor</span>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">introv</span> <span class="id" title="var">XFr</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">lets</span> <span class="id" title="var">IH</span>: <span class="id" title="var">H3</span> <span class="id" title="var">XFr</span> <span class="id" title="var">Δ1</span> (<span class="id" title="var">Δ2</span> <a class="idref" href="GMu.Definitions.html#3ca84bd817dd2b1e2f0f693cd9400702"><span class="id" title="notation">|,|</span></a> <a class="idref" href="GMu.Definitions.html#b5ab1b23d5b56035820660ded1af9bea"><span class="id" title="notation">[</span></a><a class="idref" href="GMu.Definitions.html#tc_var"><span class="id" title="constructor">tc_var</span></a> <span class="id" title="var">X</span><a class="idref" href="GMu.Definitions.html#b5ab1b23d5b56035820660ded1af9bea"><span class="id" title="notation">]*</span></a>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span>× <span class="id" title="var">IH</span>.<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">econstructor</span>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">introv</span> <span class="id" title="var">clin</span> <span class="id" title="var">Hlen</span> <span class="id" title="var">Hdist</span> <span class="id" title="var">Afresh</span> <span class="id" title="var">xfresh</span> <span class="id" title="var">xfreshA</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">lets</span> <span class="id" title="var">Htmp</span>: <span class="id" title="var">H6</span> <span class="id" title="var">clin</span> <span class="id" title="var">Hlen</span> <span class="id" title="var">Hdist</span> <span class="id" title="var">Afresh</span> <span class="id" title="var">xfresh</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">lets</span> <span class="id" title="var">IH</span>: <span class="id" title="var">Htmp</span> <span class="id" title="var">xfreshA</span> <span class="id" title="var">Δ1</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id" title="var">Δ2</span> <a class="idref" href="GMu.Definitions.html#3ca84bd817dd2b1e2f0f693cd9400702"><span class="id" title="notation">|,|</span></a> <a class="idref" href="GMu.Definitions.html#tc_vars"><span class="id" title="definition">tc_vars</span></a> <span class="id" title="var">Alphas</span> <a class="idref" href="GMu.Definitions.html#3ca84bd817dd2b1e2f0f693cd9400702"><span class="id" title="notation">|,|</span></a> <a class="idref" href="GMu.Definitions.html#equations_from_lists"><span class="id" title="definition">equations_from_lists</span></a> <span class="id" title="var">Ts</span> (<a class="idref" href="http://coq.inria.fr/distrib/V8.13.0/stdlib//Coq.Lists.List.html#map"><span class="id" title="definition">List.map</span></a> (<a class="idref" href="GMu.Definitions.html#open_tt_many_var"><span class="id" title="definition">open_tt_many_var</span></a> <span class="id" title="var">Alphas</span>) (<a class="idref" href="GMu.Definitions.html#Crettypes"><span class="id" title="projection">Crettypes</span></a> <span class="id" title="var">def</span>)));<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">clear</span> <span class="id" title="var">Htmp</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">repeat</span> <span class="id" title="tactic">rewrite</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.0/stdlib//Coq.Lists.List.html#app_assoc"><span class="id" title="lemma">List.app_assoc</span></a> <span class="id" title="tactic">in</span> ×.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span>× <span class="id" title="var">IH</span>.<br/>
&nbsp;&nbsp;- <span class="id" title="var">lets</span>: <a class="idref" href="GMu.SubstMatch.html#equation_strengthen"><span class="id" title="lemma">equation_strengthen</span></a> <span class="id" title="var">H1</span> <span class="id" title="var">Sem</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">econstructor</span>; <span class="id" title="tactic">eauto</span>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="remove_true_equations" class="idref" href="#remove_true_equations"><span class="id" title="lemma">remove_true_equations</span></a> : <span class="id" title="keyword">∀</span> <a id="f95f1e88d28d837cd72b8674833b46fb" class="idref" href="#f95f1e88d28d837cd72b8674833b46fb"><span class="id" title="binder">Σ</span></a> <a id="b7d682e55ead81672f2aa5ffa2109a64" class="idref" href="#b7d682e55ead81672f2aa5ffa2109a64"><span class="id" title="binder">Δ</span></a> <a id="E:188" class="idref" href="#E:188"><span class="id" title="binder">E</span></a> <a id="e:189" class="idref" href="#e:189"><span class="id" title="binder">e</span></a> <a id="TT:190" class="idref" href="#TT:190"><span class="id" title="binder">TT</span></a> <a id="V:191" class="idref" href="#V:191"><span class="id" title="binder">V</span></a> <a id="Ts:192" class="idref" href="#Ts:192"><span class="id" title="binder">Ts</span></a> <a id="Us:193" class="idref" href="#Us:193"><span class="id" title="binder">Us</span></a>,<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="GMu.Definitions.html#01c16c7ccd254b860cbd58c1da68710e"><span class="id" title="notation">{</span></a><a class="idref" href="GMu.Preservation.html#f95f1e88d28d837cd72b8674833b46fb"><span class="id" title="variable">Σ</span></a><a class="idref" href="GMu.Definitions.html#01c16c7ccd254b860cbd58c1da68710e"><span class="id" title="notation">,</span></a> <a class="idref" href="GMu.Preservation.html#b7d682e55ead81672f2aa5ffa2109a64"><span class="id" title="variable">Δ</span></a> <a class="idref" href="GMu.Definitions.html#3ca84bd817dd2b1e2f0f693cd9400702"><span class="id" title="notation">|,|</span></a> <a class="idref" href="GMu.Definitions.html#equations_from_lists"><span class="id" title="definition">equations_from_lists</span></a> <a class="idref" href="GMu.Preservation.html#Ts:192"><span class="id" title="variable">Ts</span></a> <a class="idref" href="GMu.Preservation.html#Us:193"><span class="id" title="variable">Us</span></a><a class="idref" href="GMu.Definitions.html#01c16c7ccd254b860cbd58c1da68710e"><span class="id" title="notation">,</span></a> <a class="idref" href="GMu.Preservation.html#E:188"><span class="id" title="variable">E</span></a><a class="idref" href="GMu.Definitions.html#01c16c7ccd254b860cbd58c1da68710e"><span class="id" title="notation">}</span></a> <a class="idref" href="GMu.Definitions.html#01c16c7ccd254b860cbd58c1da68710e"><span class="id" title="notation">⊢(</span></a><a class="idref" href="GMu.Preservation.html#TT:190"><span class="id" title="variable">TT</span></a><a class="idref" href="GMu.Definitions.html#01c16c7ccd254b860cbd58c1da68710e"><span class="id" title="notation">)</span></a> <a class="idref" href="GMu.Preservation.html#e:189"><span class="id" title="variable">e</span></a> <a class="idref" href="GMu.Definitions.html#01c16c7ccd254b860cbd58c1da68710e"><span class="id" title="notation">∈</span></a> <a class="idref" href="GMu.Preservation.html#V:191"><span class="id" title="variable">V</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/V8.13.0/stdlib//Coq.Lists.List.html#Forall2"><span class="id" title="inductive">List.Forall2</span></a> (<span class="id" title="keyword">fun</span> <a id="T:194" class="idref" href="#T:194"><span class="id" title="binder">T</span></a> <a id="U:195" class="idref" href="#U:195"><span class="id" title="binder">U</span></a> ⇒ <a class="idref" href="GMu.Definitions.html#entails_semantic"><span class="id" title="definition">entails_semantic</span></a> <a class="idref" href="GMu.Preservation.html#f95f1e88d28d837cd72b8674833b46fb"><span class="id" title="variable">Σ</span></a> <a class="idref" href="GMu.Preservation.html#b7d682e55ead81672f2aa5ffa2109a64"><span class="id" title="variable">Δ</span></a> (<a class="idref" href="GMu.Preservation.html#T:194"><span class="id" title="variable">T</span></a> <a class="idref" href="GMu.Definitions.html#8f9238d4eefe0b5c60a6c98165047666"><span class="id" title="notation">≡</span></a> <a class="idref" href="GMu.Preservation.html#U:195"><span class="id" title="variable">U</span></a>)) <a class="idref" href="GMu.Preservation.html#Ts:192"><span class="id" title="variable">Ts</span></a> <a class="idref" href="GMu.Preservation.html#Us:193"><span class="id" title="variable">Us</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="GMu.Definitions.html#01c16c7ccd254b860cbd58c1da68710e"><span class="id" title="notation">{</span></a><a class="idref" href="GMu.Preservation.html#f95f1e88d28d837cd72b8674833b46fb"><span class="id" title="variable">Σ</span></a><a class="idref" href="GMu.Definitions.html#01c16c7ccd254b860cbd58c1da68710e"><span class="id" title="notation">,</span></a> <a class="idref" href="GMu.Preservation.html#b7d682e55ead81672f2aa5ffa2109a64"><span class="id" title="variable">Δ</span></a><a class="idref" href="GMu.Definitions.html#01c16c7ccd254b860cbd58c1da68710e"><span class="id" title="notation">,</span></a> <a class="idref" href="GMu.Preservation.html#E:188"><span class="id" title="variable">E</span></a><a class="idref" href="GMu.Definitions.html#01c16c7ccd254b860cbd58c1da68710e"><span class="id" title="notation">}</span></a> <a class="idref" href="GMu.Definitions.html#01c16c7ccd254b860cbd58c1da68710e"><span class="id" title="notation">⊢(</span></a><a class="idref" href="GMu.Preservation.html#TT:190"><span class="id" title="variable">TT</span></a><a class="idref" href="GMu.Definitions.html#01c16c7ccd254b860cbd58c1da68710e"><span class="id" title="notation">)</span></a> <a class="idref" href="GMu.Preservation.html#e:189"><span class="id" title="variable">e</span></a> <a class="idref" href="GMu.Definitions.html#01c16c7ccd254b860cbd58c1da68710e"><span class="id" title="notation">∈</span></a> <a class="idref" href="GMu.Preservation.html#V:191"><span class="id" title="variable">V</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">induction</span> 2 <span class="id" title="keyword">as</span> [| <span class="id" title="var">T</span> <span class="id" title="var">U</span> <span class="id" title="var">Ts</span> <span class="id" title="var">Us</span>].<br/>
&nbsp;&nbsp;- <span class="id" title="var">cbn</span> <span class="id" title="tactic">in</span> ×. <span class="id" title="tactic">auto</span>.<br/>
&nbsp;&nbsp;- <span class="id" title="var">cbn</span> <span class="id" title="tactic">in</span> <span class="id" title="var">H</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">fold</span> (<a class="idref" href="GMu.Definitions.html#equations_from_lists"><span class="id" title="definition">equations_from_lists</span></a> <span class="id" title="var">Ts</span> <span class="id" title="var">Us</span>) <span class="id" title="tactic">in</span> <span class="id" title="var">H</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span>× <span class="id" title="var">IHForall2</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> &lt;- (<a class="idref" href="http://coq.inria.fr/distrib/V8.13.0/stdlib//Coq.Lists.List.html#app_nil_l"><span class="id" title="lemma">List.app_nil_l</span></a> (<a class="idref" href="GMu.Definitions.html#c75eef461fb5f0f666c2430395694606"><span class="id" title="notation">(</span></a><span class="id" title="var">Δ</span> <a class="idref" href="GMu.Definitions.html#3ca84bd817dd2b1e2f0f693cd9400702"><span class="id" title="notation">|,|</span></a> <a class="idref" href="GMu.Definitions.html#equations_from_lists"><span class="id" title="definition">equations_from_lists</span></a> <span class="id" title="var">Ts</span> <span class="id" title="var">Us</span><a class="idref" href="GMu.Definitions.html#c75eef461fb5f0f666c2430395694606"><span class="id" title="notation">)</span></a> <a class="idref" href="GMu.Definitions.html#c75eef461fb5f0f666c2430395694606"><span class="id" title="notation">|,</span></a> <a class="idref" href="GMu.Definitions.html#tc_eq"><span class="id" title="constructor">tc_eq</span></a> (<span class="id" title="var">T</span> <a class="idref" href="GMu.Definitions.html#8f9238d4eefe0b5c60a6c98165047666"><span class="id" title="notation">≡</span></a> <span class="id" title="var">U</span>))) <span class="id" title="tactic">in</span> <span class="id" title="var">H</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">forwards</span>¬ <span class="id" title="var">H2</span>: <a class="idref" href="GMu.Preservation.html#remove_true_equation"><span class="id" title="lemma">remove_true_equation</span></a> <span class="id" title="var">H</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">forwards</span>× <span class="id" title="var">H3</span>: <a class="idref" href="GMu.SubstMatch.html#equations_weaken_match"><span class="id" title="lemma">equations_weaken_match</span></a> (@<a class="idref" href="http://coq.inria.fr/distrib/V8.13.0/stdlib//Coq.Init.Datatypes.html#nil"><span class="id" title="constructor">nil</span></a> <span class="id" title="axiom">var</span>) <span class="id" title="var">Ts</span> <span class="id" title="var">Us</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span>× <a class="idref" href="GMu.Prelude.html#Forall2_eq_len"><span class="id" title="lemma">Forall2_eq_len</span></a>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="helper_equations_commute" class="idref" href="#helper_equations_commute"><span class="id" title="lemma">helper_equations_commute</span></a> : <span class="id" title="keyword">∀</span> <a id="Ts:196" class="idref" href="#Ts:196"><span class="id" title="binder">Ts</span></a> <a id="As:197" class="idref" href="#As:197"><span class="id" title="binder">As</span></a> <a id="Us:198" class="idref" href="#Us:198"><span class="id" title="binder">Us</span></a> <a id="Vs:199" class="idref" href="#Vs:199"><span class="id" title="binder">Vs</span></a>,<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/V8.13.0/stdlib//Coq.Lists.List.html#length"><span class="id" title="abbreviation">List.length</span></a> <a class="idref" href="GMu.Preservation.html#As:197"><span class="id" title="variable">As</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.0/stdlib//Coq.Lists.List.html#length"><span class="id" title="abbreviation">List.length</span></a> <a class="idref" href="GMu.Preservation.html#Us:198"><span class="id" title="variable">Us</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/V8.13.0/stdlib//Coq.Lists.List.html#length"><span class="id" title="abbreviation">List.length</span></a> <a class="idref" href="GMu.Preservation.html#Ts:196"><span class="id" title="variable">Ts</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.0/stdlib//Coq.Lists.List.html#length"><span class="id" title="abbreviation">List.length</span></a> <a class="idref" href="GMu.Preservation.html#Vs:199"><span class="id" title="variable">Vs</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/V8.13.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">(</span></a><span class="id" title="keyword">∀</span> <a id="A:200" class="idref" href="#A:200"><span class="id" title="binder">A</span></a>, <a class="idref" href="http://coq.inria.fr/distrib/V8.13.0/stdlib//Coq.Lists.List.html#In"><span class="id" title="definition">List.In</span></a> <a class="idref" href="GMu.Preservation.html#A:200"><span class="id" title="variable">A</span></a> <a class="idref" href="GMu.Preservation.html#As:197"><span class="id" title="variable">As</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <a class="idref" href="GMu.Preservation.html#A:200"><span class="id" title="variable">A</span></a> <span class="id" title="notation">\</span><span class="id" title="notation">notin</span> <a class="idref" href="GMu.Definitions.html#fv_typs"><span class="id" title="definition">fv_typs</span></a> <a class="idref" href="GMu.Preservation.html#Ts:196"><span class="id" title="variable">Ts</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.13.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">)</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="GMu.Definitions.html#equations_from_lists"><span class="id" title="definition">equations_from_lists</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="GMu.Preservation.html#Ts:196"><span class="id" title="variable">Ts</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<a class="idref" href="http://coq.inria.fr/distrib/V8.13.0/stdlib//Coq.Lists.List.html#map"><span class="id" title="definition">List.map</span></a> (<span class="id" title="keyword">fun</span> <a id="T:201" class="idref" href="#T:201"><span class="id" title="binder">T</span></a> : <a class="idref" href="GMu.Definitions.html#typ"><span class="id" title="inductive">typ</span></a> ⇒ <a class="idref" href="GMu.Definitions.html#subst_tt_many"><span class="id" title="definition">subst_tt_many</span></a> <a class="idref" href="GMu.Preservation.html#As:197"><span class="id" title="variable">As</span></a> <a class="idref" href="GMu.Preservation.html#Us:198"><span class="id" title="variable">Us</span></a> (<a class="idref" href="GMu.Definitions.html#open_tt_many_var"><span class="id" title="definition">open_tt_many_var</span></a> <a class="idref" href="GMu.Preservation.html#As:197"><span class="id" title="variable">As</span></a> <a class="idref" href="GMu.Preservation.html#T:201"><span class="id" title="variable">T</span></a>)) <a class="idref" href="GMu.Preservation.html#Vs:199"><span class="id" title="variable">Vs</span></a>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/V8.13.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/V8.13.0/stdlib//Coq.Lists.List.html#map"><span class="id" title="definition">List.map</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<a class="idref" href="GMu.Definitions.html#subst_td_many"><span class="id" title="definition">subst_td_many</span></a> <a class="idref" href="GMu.Preservation.html#As:197"><span class="id" title="variable">As</span></a> <a class="idref" href="GMu.Preservation.html#Us:198"><span class="id" title="variable">Us</span></a>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<a class="idref" href="GMu.Definitions.html#equations_from_lists"><span class="id" title="definition">equations_from_lists</span></a> <a class="idref" href="GMu.Preservation.html#Ts:196"><span class="id" title="variable">Ts</span></a> (<a class="idref" href="http://coq.inria.fr/distrib/V8.13.0/stdlib//Coq.Lists.List.html#map"><span class="id" title="definition">List.map</span></a> (<a class="idref" href="GMu.Definitions.html#open_tt_many_var"><span class="id" title="definition">open_tt_many_var</span></a> <a class="idref" href="GMu.Preservation.html#As:197"><span class="id" title="variable">As</span></a>) <a class="idref" href="GMu.Preservation.html#Vs:199"><span class="id" title="variable">Vs</span></a>)).<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">intros</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> (<a class="idref" href="GMu.Equations.html#equations_from_lists_map"><span class="id" title="lemma">equations_from_lists_map</span></a> <span class="id" title="var">_</span> (<a class="idref" href="GMu.Definitions.html#subst_tt_many"><span class="id" title="definition">subst_tt_many</span></a> <span class="id" title="var">As</span> <span class="id" title="var">Us</span>) (<a class="idref" href="GMu.Definitions.html#subst_tt_many"><span class="id" title="definition">subst_tt_many</span></a> <span class="id" title="var">As</span> <span class="id" title="var">Us</span>)).<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">f_equal</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="var">gen</span> <span class="id" title="var">Us</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">induction</span> <span class="id" title="var">As</span> <span class="id" title="keyword">as</span> [| <span class="id" title="var">A</span> <span class="id" title="var">As</span>]; <span class="id" title="var">introv</span> <span class="id" title="var">Len</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;× <span class="id" title="var">cbn</span>. <span class="id" title="tactic">rewrite</span>¬ <a class="idref" href="http://coq.inria.fr/distrib/V8.13.0/stdlib//Coq.Lists.List.html#map_id"><span class="id" title="lemma">List.map_id</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;× <span class="id" title="tactic">destruct</span> <span class="id" title="var">Us</span> <span class="id" title="keyword">as</span> [| <span class="id" title="var">U</span> <span class="id" title="var">Us</span>]; <span class="id" title="var">cbn</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;-- <span class="id" title="tactic">rewrite</span>¬ <a class="idref" href="http://coq.inria.fr/distrib/V8.13.0/stdlib//Coq.Lists.List.html#map_id"><span class="id" title="lemma">List.map_id</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;-- <span class="id" title="tactic">rewrite</span> &lt;- <a class="idref" href="http://coq.inria.fr/distrib/V8.13.0/stdlib//Coq.Lists.List.html#map_map"><span class="id" title="lemma">List.map_map</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> (<a class="idref" href="http://coq.inria.fr/distrib/V8.13.0/stdlib//Coq.Lists.List.html#map_ext_in"><span class="id" title="lemma">List.map_ext_in</span></a> (<a class="idref" href="GMu.Definitions.html#subst_tt"><span class="id" title="definition">subst_tt</span></a> <span class="id" title="var">A</span> <span class="id" title="var">U</span>) (<span class="id" title="keyword">fun</span> <a id="x:205" class="idref" href="#x:205"><span class="id" title="binder">x</span></a> ⇒ <a class="idref" href="GMu.Preservation.html#x:202"><span class="id" title="variable">x</span></a>)).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;++ <span class="id" title="tactic">rewrite</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.0/stdlib//Coq.Lists.List.html#map_id"><span class="id" title="lemma">List.map_id</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span>¬ <span class="id" title="var">IHAs</span>; <span class="id" title="tactic">auto</span> <span class="id" title="keyword">with</span> <span class="id" title="var">listin</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;++ <span class="id" title="tactic">intros</span> <span class="id" title="var">T</span> <span class="id" title="var">Tin</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="GMu.InfrastructureSubst.html#subst_tt_fresh"><span class="id" title="lemma">subst_tt_fresh</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="GMu.InfrastructureFV.html#fv_typs_notin"><span class="id" title="lemma">fv_typs_notin</span></a> <span class="id" title="keyword">with</span> <span class="id" title="var">Ts</span>; <span class="id" title="tactic">auto</span> <span class="id" title="keyword">with</span> <span class="id" title="var">listin</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="tactic">rewrite</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.0/stdlib//Coq.Lists.List.html#map_map"><span class="id" title="lemma">List.map_map</span></a>. <span class="id" title="tactic">auto</span>.<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">rewrite</span>¬ <a class="idref" href="http://coq.inria.fr/distrib/V8.13.0/stdlib//Coq.Lists.List.html#map_length"><span class="id" title="lemma">List.map_length</span></a>.<br/>
&nbsp;&nbsp;- <span class="id" title="var">introv</span> <span class="id" title="var">In</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">gen</span> <span class="id" title="var">H</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">clear</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rename</span> <span class="id" title="var">U</span> <span class="id" title="var">into</span> <span class="id" title="var">T2</span>. <span class="id" title="tactic">rename</span> <span class="id" title="var">T</span> <span class="id" title="var">into</span> <span class="id" title="var">T1</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">gen</span> <span class="id" title="var">Us</span> <span class="id" title="var">T1</span> <span class="id" title="var">T2</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">induction</span> <span class="id" title="var">As</span> <span class="id" title="keyword">as</span> [| <span class="id" title="var">A</span> <span class="id" title="var">As</span>]; <span class="id" title="var">introv</span> <span class="id" title="var">Len</span>; <span class="id" title="tactic">destruct</span> <span class="id" title="var">Us</span> <span class="id" title="keyword">as</span> [| <span class="id" title="var">U</span> <span class="id" title="var">Us</span>]; <span class="id" title="tactic">auto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">cbn</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span>¬ <span class="id" title="var">IHAs</span>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Theorem</span> <a id="preservation_thm" class="idref" href="#preservation_thm"><span class="id" title="lemma">preservation_thm</span></a> : <a class="idref" href="GMu.Definitions.html#preservation"><span class="id" title="definition">preservation</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Ltac</span> <span class="id" title="var">find_hopen</span> :=<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">let</span> <span class="id" title="var">Hopen</span> := <span class="id" title="tactic">fresh</span> "Hopen" <span class="id" title="tactic">in</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">match</span> <span class="id" title="keyword">goal</span> <span class="id" title="keyword">with</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;| <span class="id" title="var">H</span>: <span class="id" title="keyword">∀</span> <a id="x:221" class="idref" href="#x:221"><span class="id" title="binder">x</span></a>, <a class="idref" href="GMu.Preservation.html#x:206"><span class="id" title="variable">x</span></a> <span class="id" title="notation">\</span><span class="id" title="notation">notin</span> ?<span class="id" title="var">L</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <a class="idref" href="GMu.Definitions.html#typing"><span class="id" title="inductive">typing</span></a> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> |- <span class="id" title="var">_</span> ⇒<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rename</span> <span class="id" title="var">H</span> <span class="id" title="var">into</span> <span class="id" title="var">Hopen</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">end</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">unfold</span> <a class="idref" href="GMu.Definitions.html#preservation"><span class="id" title="definition">preservation</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="var">introv</span> <span class="id" title="var">Htyp</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">assert</span> (<a class="idref" href="GMu.Definitions.html#term"><span class="id" title="inductive">term</span></a> <span class="id" title="var">e</span>) <span class="id" title="keyword">as</span> <span class="id" title="var">Hterm</span>; <span class="id" title="tactic">eauto</span> <span class="id" title="keyword">using</span> <a class="idref" href="GMu.Regularity.html#typing_implies_term"><span class="id" title="lemma">typing_implies_term</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">generalize</span> <span class="id" title="var">e'</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">clear</span> <span class="id" title="var">e'</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">induction</span> <span class="id" title="var">Htyp</span>; <span class="id" title="var">inversions</span> <span class="id" title="var">Hterm</span>;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">introv</span> <span class="id" title="var">Hred</span>; <span class="id" title="var">inversions</span> <span class="id" title="var">Hred</span>;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">try</span> <span class="id" title="tactic">solve</span> [<span class="id" title="tactic">eauto</span> <span class="id" title="keyword">using</span> <a class="idref" href="GMu.Regularity.html#Tgen_from_any"><span class="id" title="lemma">Tgen_from_any</span></a>];<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">repeat</span> <span class="id" title="var">generalize_typings</span>.<br/>
&nbsp;&nbsp;- <span class="comment">(*&nbsp;app&nbsp;*)</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">lets</span> [<span class="id" title="var">U</span> [<span class="id" title="var">HT</span> <span class="id" title="var">EQ</span>]]: <a class="idref" href="GMu.Equations.html#inversion_typing_eq"><span class="id" title="lemma">inversion_typing_eq</span></a> <span class="id" title="var">Htyp2</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">inversions</span> <span class="id" title="var">HT</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">pick_fresh</span> <span class="id" title="var">x</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">find_hopen</span>. <span class="id" title="var">forwards</span>¬ <span class="id" title="var">K</span>: (<span class="id" title="var">Hopen</span> <span class="id" title="var">x</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span>× (@<a class="idref" href="GMu.InfrastructureSubst.html#subst_ee_intro"><span class="id" title="lemma">subst_ee_intro</span></a> <a class="idref" href="GMu.Definitions.html#lam_var"><span class="id" title="constructor">lam_var</span></a> <span class="id" title="var">x</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">expand_env_empty</span> <span class="id" title="var">E</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span>× <a class="idref" href="GMu.Preservation.html#typing_through_subst_ee_lam"><span class="id" title="lemma">typing_through_subst_ee_lam</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">fold_env_empty</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="GMu.Equations.html#teq_symmetry"><span class="id" title="lemma">teq_symmetry</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">EQ</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">lets</span> [<span class="id" title="var">EQarg</span> <span class="id" title="var">EQret</span>]: <a class="idref" href="GMu.Equations.html#inversion_eq_arrow"><span class="id" title="lemma">inversion_eq_arrow</span></a> <span class="id" title="var">EQ</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="GMu.Definitions.html#typing_eq"><span class="id" title="constructor">typing_eq</span></a> <span class="id" title="keyword">with</span> <span class="id" title="var">T0</span> <a class="idref" href="GMu.Definitions.html#Tgen"><span class="id" title="constructor">Tgen</span></a>; <span class="id" title="tactic">auto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="tactic">apply</span>× <a class="idref" href="GMu.Preservation.html#typing_replace_typ"><span class="id" title="lemma">typing_replace_typ</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">lets</span>*: <a class="idref" href="GMu.Regularity.html#typing_regular"><span class="id" title="lemma">typing_regular</span></a> <span class="id" title="var">Htyp1</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="var">lets</span>× [? [? <span class="id" title="var">WFT</span>]]: <a class="idref" href="GMu.Regularity.html#typing_regular"><span class="id" title="lemma">typing_regular</span></a> <span class="id" title="var">Htyp2</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">inversion</span>¬ <span class="id" title="var">WFT</span>.<br/>
&nbsp;&nbsp;- <span class="comment">(*&nbsp;tabs&nbsp;*)</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">lets</span> [<span class="id" title="var">U</span> [<span class="id" title="var">HT</span> <span class="id" title="var">EQ</span>]]: <a class="idref" href="GMu.Equations.html#inversion_typing_eq"><span class="id" title="lemma">inversion_typing_eq</span></a> <span class="id" title="var">Htyp</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">inversions</span> <span class="id" title="var">HT</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">match</span> <span class="id" title="keyword">goal</span> <span class="id" title="keyword">with</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;| <span class="id" title="var">_</span>: <a class="idref" href="GMu.Definitions.html#01c16c7ccd254b860cbd58c1da68710e"><span class="id" title="notation">{</span></a>?<span class="id" title="var">A</span><a class="idref" href="GMu.Definitions.html#01c16c7ccd254b860cbd58c1da68710e"><span class="id" title="notation">,</span></a> ?<span class="id" title="var">B</span><a class="idref" href="GMu.Definitions.html#01c16c7ccd254b860cbd58c1da68710e"><span class="id" title="notation">,</span></a> ?<span class="id" title="var">C</span><a class="idref" href="GMu.Definitions.html#01c16c7ccd254b860cbd58c1da68710e"><span class="id" title="notation">}</span></a> <a class="idref" href="GMu.Definitions.html#01c16c7ccd254b860cbd58c1da68710e"><span class="id" title="notation">⊢(</span></a> ?<span class="id" title="var">D</span> <a class="idref" href="GMu.Definitions.html#01c16c7ccd254b860cbd58c1da68710e"><span class="id" title="notation">)</span></a> ?<span class="id" title="var">e</span> <a class="idref" href="GMu.Definitions.html#01c16c7ccd254b860cbd58c1da68710e"><span class="id" title="notation">∈</span></a> <a class="idref" href="GMu.Definitions.html#typ_all"><span class="id" title="constructor">typ_all</span></a> ?<span class="id" title="var">T</span> |- <span class="id" title="var">_</span> ⇒<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rename</span> <span class="id" title="var">T</span> <span class="id" title="var">into</span> <span class="id" title="var">Tall</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">end</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">match</span> <span class="id" title="keyword">goal</span> <span class="id" title="keyword">with</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;| <span class="id" title="var">_</span>: <a class="idref" href="GMu.Definitions.html#wft"><span class="id" title="inductive">wft</span></a> ?<span class="id" title="var">A</span> ?<span class="id" title="var">B</span> ?<span class="id" title="var">T</span> |- <span class="id" title="var">_</span> ⇒<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rename</span> <span class="id" title="var">T</span> <span class="id" title="var">into</span> <span class="id" title="var">Targ</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">end</span>.<br/>

<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="GMu.Equations.html#teq_symmetry"><span class="id" title="lemma">teq_symmetry</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">EQ</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">lets</span>: <a class="idref" href="GMu.Equations.html#inversion_eq_typ_all"><span class="id" title="lemma">inversion_eq_typ_all</span></a> <span class="id" title="var">EQ</span>; <span class="id" title="tactic">subst</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="GMu.Definitions.html#typing_eq"><span class="id" title="constructor">typing_eq</span></a> <span class="id" title="keyword">with</span> (<a class="idref" href="GMu.Definitions.html#open_tt"><span class="id" title="definition">open_tt</span></a> <span class="id" title="var">T0</span> <span class="id" title="var">Targ</span>) <a class="idref" href="GMu.Definitions.html#Tgen"><span class="id" title="constructor">Tgen</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="var">pick_fresh</span> <span class="id" title="var">X</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span>× (@<a class="idref" href="GMu.InfrastructureSubst.html#subst_te_intro"><span class="id" title="lemma">subst_te_intro</span></a> <span class="id" title="var">X</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span>× (@<a class="idref" href="GMu.InfrastructureSubst.html#subst_tt_intro"><span class="id" title="lemma">subst_tt_intro</span></a> <span class="id" title="var">X</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span>¬ <a class="idref" href="GMu.Preservation.html#typing_through_subst_te_3"><span class="id" title="lemma">typing_through_subst_te_3</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="tactic">apply</span>¬ <a class="idref" href="GMu.SubstMatch.html#teq_open"><span class="id" title="lemma">teq_open</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="var">lets</span>× [? [? <span class="id" title="var">WFT</span>]]: <a class="idref" href="GMu.Regularity.html#typing_regular"><span class="id" title="lemma">typing_regular</span></a> <span class="id" title="var">Htyp</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span>¬ <a class="idref" href="GMu.Regularity.html#wft_open"><span class="id" title="lemma">wft_open</span></a>.<br/>
&nbsp;&nbsp;- <span class="comment">(*&nbsp;fst&nbsp;*)</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">lets</span> [<span class="id" title="var">U</span> [<span class="id" title="var">HT</span> <span class="id" title="var">EQ</span>]]: <a class="idref" href="GMu.Equations.html#inversion_typing_eq"><span class="id" title="lemma">inversion_typing_eq</span></a> <span class="id" title="var">Htyp</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">inversions</span> <span class="id" title="var">HT</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">repeat</span> <span class="id" title="var">generalize_typings</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="GMu.Equations.html#teq_symmetry"><span class="id" title="lemma">teq_symmetry</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">EQ</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">lets</span> [<span class="id" title="var">EQarg</span> <span class="id" title="var">EQret</span>]: <a class="idref" href="GMu.Equations.html#inversion_eq_tuple"><span class="id" title="lemma">inversion_eq_tuple</span></a> <span class="id" title="var">EQ</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span>× <a class="idref" href="GMu.Definitions.html#typing_eq"><span class="id" title="constructor">typing_eq</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">lets</span>× [? [? <span class="id" title="var">WFT</span>]]: <a class="idref" href="GMu.Regularity.html#typing_regular"><span class="id" title="lemma">typing_regular</span></a> <span class="id" title="var">Htyp</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">inversion</span>¬ <span class="id" title="var">WFT</span>.<br/>
&nbsp;&nbsp;- <span class="comment">(*&nbsp;snd&nbsp;*)</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">lets</span> [<span class="id" title="var">U</span> [<span class="id" title="var">HT</span> <span class="id" title="var">EQ</span>]]: <a class="idref" href="GMu.Equations.html#inversion_typing_eq"><span class="id" title="lemma">inversion_typing_eq</span></a> <span class="id" title="var">Htyp</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">inversions</span> <span class="id" title="var">HT</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">repeat</span> <span class="id" title="var">generalize_typings</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="GMu.Equations.html#teq_symmetry"><span class="id" title="lemma">teq_symmetry</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">EQ</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">lets</span> [<span class="id" title="var">EQarg</span> <span class="id" title="var">EQret</span>]: <a class="idref" href="GMu.Equations.html#inversion_eq_tuple"><span class="id" title="lemma">inversion_eq_tuple</span></a> <span class="id" title="var">EQ</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span>× <a class="idref" href="GMu.Definitions.html#typing_eq"><span class="id" title="constructor">typing_eq</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">lets</span>× [? [? <span class="id" title="var">WFT</span>]]: <a class="idref" href="GMu.Regularity.html#typing_regular"><span class="id" title="lemma">typing_regular</span></a> <span class="id" title="var">Htyp</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">inversion</span>¬ <span class="id" title="var">WFT</span>.<br/>
&nbsp;&nbsp;- <span class="comment">(*&nbsp;fix&nbsp;*)</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">pick_fresh</span> <span class="id" title="var">f</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span>× (@<a class="idref" href="GMu.InfrastructureSubst.html#subst_ee_intro"><span class="id" title="lemma">subst_ee_intro</span></a> <a class="idref" href="GMu.Definitions.html#fix_var"><span class="id" title="constructor">fix_var</span></a> <span class="id" title="var">f</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">expand_env_empty</span> <span class="id" title="var">E</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span>× <a class="idref" href="GMu.Preservation.html#typing_through_subst_ee_fix"><span class="id" title="lemma">typing_through_subst_ee_fix</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">fold_env_empty</span>.<br/>
&nbsp;&nbsp;- <span class="comment">(*&nbsp;let&nbsp;*)</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">pick_fresh</span> <span class="id" title="var">x</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span>× (@<a class="idref" href="GMu.InfrastructureSubst.html#subst_ee_intro"><span class="id" title="lemma">subst_ee_intro</span></a> <a class="idref" href="GMu.Definitions.html#lam_var"><span class="id" title="constructor">lam_var</span></a> <span class="id" title="var">x</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">expand_env_empty</span> <span class="id" title="var">E</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span>× <a class="idref" href="GMu.Preservation.html#typing_through_subst_ee_lam"><span class="id" title="lemma">typing_through_subst_ee_lam</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">fold_env_empty</span>.<br/>
&nbsp;&nbsp;- <span class="comment">(*&nbsp;matchgadt&nbsp;*)</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment">(*&nbsp;we&nbsp;reduce&nbsp;to&nbsp;one&nbsp;of&nbsp;the&nbsp;branches&nbsp;which&nbsp;correspond&nbsp;to&nbsp;their&nbsp;definitions&nbsp;in&nbsp;type&nbsp;*)</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">lets</span>× [<span class="id" title="var">Def</span> [<span class="id" title="var">nthDef</span> <span class="id" title="var">Inzip</span>]]: <a class="idref" href="GMu.Zip.html#nth_error_implies_zip_swap"><span class="id" title="lemma">nth_error_implies_zip_swap</span></a> <span class="id" title="var">Defs</span> <span class="id" title="var">H10</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">lets</span> <span class="id" title="var">HclTyp</span>: <span class="id" title="var">H3</span> <span class="id" title="var">Inzip</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">remember</span> (<a class="idref" href="GMu.Definitions.html#Cargtype"><span class="id" title="projection">Cargtype</span></a> <span class="id" title="var">Def</span>) <span class="id" title="keyword">as</span> <span class="id" title="var">argT</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment">(*&nbsp;prepare&nbsp;fresh&nbsp;vars&nbsp;*)</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">let</span> <span class="id" title="tactic">fresh</span> := <span class="id" title="var">gather_vars</span> <span class="id" title="tactic">in</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">lets</span>× [<span class="id" title="var">Alphas</span> [<span class="id" title="var">Hlen</span> [<span class="id" title="var">Adist</span> <span class="id" title="var">Afresh</span>]]]: <a class="idref" href="GMu.Prelude.html#exist_alphas"><span class="id" title="lemma">exist_alphas</span></a> <span class="id" title="tactic">fresh</span> (<a class="idref" href="http://coq.inria.fr/distrib/V8.13.0/stdlib//Coq.Init.Datatypes.html#length"><span class="id" title="definition">length</span></a> <span class="id" title="var">Ts0</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">pick_fresh</span> <span class="id" title="var">x</span>.<br/>

<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">match</span> <span class="id" title="keyword">goal</span> <span class="id" title="keyword">with</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;| [ <span class="id" title="var">H</span>: <a class="idref" href="GMu.Definitions.html#term"><span class="id" title="inductive">term</span></a> (<a class="idref" href="GMu.Definitions.html#trm_constructor"><span class="id" title="constructor">trm_constructor</span></a> ?<span class="id" title="var">A</span> ?<span class="id" title="var">B</span> ?<span class="id" title="var">C</span>) |- <span class="id" title="var">_</span> ] ⇒<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">inversions</span> <span class="id" title="var">H7</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">end</span>.<br/>

<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment">(*&nbsp;extract&nbsp;info&nbsp;from&nbsp;well-formedness&nbsp;of&nbsp;GADT&nbsp;env&nbsp;Σ&nbsp;-&nbsp;our&nbsp;constructors&nbsp;are&nbsp;well&nbsp;formed&nbsp;*)</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">lets</span> [<span class="id" title="var">Hokt</span> ?]: <a class="idref" href="GMu.Regularity.html#typing_regular"><span class="id" title="lemma">typing_regular</span></a> <span class="id" title="var">Htyp</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">lets</span> <span class="id" title="var">okgadt</span>: <a class="idref" href="GMu.Regularity.html#okt_implies_okgadt"><span class="id" title="lemma">okt_implies_okgadt</span></a> <span class="id" title="var">Hokt</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">unfold</span> <a class="idref" href="GMu.Definitions.html#okGadt"><span class="id" title="definition">okGadt</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">okgadt</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">okgadt</span> <span class="id" title="keyword">as</span> [<span class="id" title="var">okΣ</span> <span class="id" title="var">okCtors</span>].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">lets</span> [<span class="id" title="var">defsNe</span> <span class="id" title="var">okDefs</span>]: <span class="id" title="var">okCtors</span> <span class="id" title="var">H0</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">lets</span> <span class="id" title="var">indef</span>: <a class="idref" href="GMu.Zip.html#fst_from_zip"><span class="id" title="lemma">fst_from_zip</span></a> <span class="id" title="var">Inzip</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">lets</span> <span class="id" title="var">okCtor</span>: <span class="id" title="var">okDefs</span> <span class="id" title="var">indef</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">inversion</span> <span class="id" title="var">okCtor</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">clear</span> <span class="id" title="var">H15</span> <span class="id" title="var">H16</span> <span class="id" title="var">Tarity0</span> <span class="id" title="var">Σ0</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rename</span> <span class="id" title="var">Carity</span> <span class="id" title="var">into</span> <span class="id" title="var">DefArity</span>.<br/>

<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment">(*&nbsp;replace&nbsp;open&nbsp;with&nbsp;subst+open_var&nbsp;*)</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span>¬ (@<a class="idref" href="GMu.InfrastructureSubst.html#subst_ee_intro"><span class="id" title="lemma">subst_ee_intro</span></a> <a class="idref" href="GMu.Definitions.html#lam_var"><span class="id" title="constructor">lam_var</span></a> <span class="id" title="var">x</span>);<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;[ <span class="id" title="tactic">idtac</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| <span class="id" title="tactic">apply</span> <a class="idref" href="GMu.InfrastructureFV.html#fv_open_te_many"><span class="id" title="lemma">fv_open_te_many</span></a>;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;[ <span class="id" title="var">introv</span> <span class="id" title="var">Tin</span>;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span>× <a class="idref" href="GMu.InfrastructureFV.html#fv_typs_notin"><span class="id" title="lemma">fv_typs_notin</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| <span class="id" title="tactic">auto</span> ]<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;].<br/>

<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> (@<a class="idref" href="GMu.InfrastructureSubst.html#subst_te_intro_many"><span class="id" title="lemma">subst_te_intro_many</span></a> <span class="id" title="var">Alphas</span> <span class="id" title="var">_</span> <span class="id" title="var">Ts0</span>); <span class="id" title="tactic">auto</span>;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;[ <span class="id" title="tactic">idtac</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| <span class="id" title="var">introv</span> <span class="id" title="var">Ain</span>; <span class="id" title="tactic">subst</span>; <span class="id" title="var">cbn</span>; <span class="id" title="var">cbn</span> <span class="id" title="tactic">in</span> <span class="id" title="var">Afresh</span>; <span class="id" title="var">lets</span>*: <span class="id" title="var">Afresh</span> <span class="id" title="var">Ain</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| <span class="id" title="var">introv</span> <span class="id" title="var">Ain</span> <span class="id" title="var">Tin</span>; <span class="id" title="var">lets</span>: <span class="id" title="var">Afresh</span> <span class="id" title="var">Ain</span>; <span class="id" title="tactic">apply</span>× <a class="idref" href="GMu.InfrastructureFV.html#fv_typs_notin"><span class="id" title="lemma">fv_typs_notin</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;].<br/>

<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment">(*&nbsp;use&nbsp;fact&nbsp;that&nbsp;subst&nbsp;preserves&nbsp;typing&nbsp;*)</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">lets</span> [<span class="id" title="var">T'</span> [<span class="id" title="var">Typ2</span> <span class="id" title="var">EQ</span>]]: <a class="idref" href="GMu.Equations.html#inversion_typing_eq"><span class="id" title="lemma">inversion_typing_eq</span></a> <span class="id" title="var">Htyp</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">inversions</span> <span class="id" title="var">Typ2</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">match</span> <span class="id" title="keyword">goal</span> <span class="id" title="keyword">with</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;| [ <span class="id" title="var">H1</span>: <span class="id" title="definition">binds</span> ?<span class="id" title="var">g</span> ?<span class="id" title="var">A</span> <span class="id" title="var">Σ</span>, <span class="id" title="var">H2</span>: <span class="id" title="definition">binds</span> ?<span class="id" title="var">g</span> ?<span class="id" title="var">B</span> <span class="id" title="var">Σ</span> |- <span class="id" title="var">_</span> ] ⇒<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">let</span> <span class="id" title="var">H</span> := <span class="id" title="tactic">fresh</span> "H" <span class="id" title="tactic">in</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">lets</span> <span class="id" title="var">H</span>: <a class="idref" href="GMu.Prelude.html#binds_ext"><span class="id" title="lemma">binds_ext</span></a> <span class="id" title="var">H1</span> <span class="id" title="var">H2</span>;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">inversions</span> <span class="id" title="var">H</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">end</span>.<br/>

<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rename</span> <span class="id" title="var">H20</span> <span class="id" title="var">into</span> <span class="id" title="var">TypCtorArg</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">match</span> <span class="id" title="keyword">goal</span> <span class="id" title="keyword">with</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;| [ <span class="id" title="var">H1</span>: <a class="idref" href="http://coq.inria.fr/distrib/V8.13.0/stdlib//Coq.Lists.List.html#nth_error"><span class="id" title="definition">List.nth_error</span></a> <span class="id" title="var">Ctors</span> <span class="id" title="var">cid</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> ?<span class="id" title="var">A</span>, <span class="id" title="var">H2</span>: <a class="idref" href="http://coq.inria.fr/distrib/V8.13.0/stdlib//Coq.Lists.List.html#nth_error"><span class="id" title="definition">List.nth_error</span></a> <span class="id" title="var">Ctors</span> <span class="id" title="var">cid</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> ?<span class="id" title="var">B</span> |- <span class="id" title="var">_</span> ] ⇒<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">let</span> <span class="id" title="var">H</span> := <span class="id" title="tactic">fresh</span> "H" <span class="id" title="tactic">in</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">assert</span> (<span class="id" title="var">H</span>: <span class="id" title="var">A</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <span class="id" title="var">B</span>); [ <span class="id" title="tactic">rewrite</span> &lt;- <span class="id" title="var">H2</span>; <span class="id" title="tactic">auto</span> | <span class="id" title="tactic">idtac</span> ];<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">inversions</span> <span class="id" title="var">H</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">end</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> (@<a class="idref" href="GMu.InfrastructureSubst.html#subst_tt_intro_many"><span class="id" title="lemma">subst_tt_intro_many</span></a> <span class="id" title="var">Alphas</span> <span class="id" title="var">_</span> <span class="id" title="var">Ts0</span>) <span class="id" title="tactic">in</span> <span class="id" title="var">TypCtorArg</span>; <span class="id" title="tactic">auto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;2: {<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intros</span> <span class="id" title="var">A</span> <span class="id" title="var">Ain</span>; <span class="id" title="tactic">subst</span>; <span class="id" title="var">cbn</span>; <span class="id" title="var">cbn</span> <span class="id" title="tactic">in</span> <span class="id" title="var">Afresh</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <span class="id" title="var">H13</span>. <span class="id" title="tactic">auto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;}<br/>
&nbsp;&nbsp;&nbsp;&nbsp;2: {<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intros</span> <span class="id" title="var">A</span> <span class="id" title="var">U</span> <span class="id" title="var">Ain</span> <span class="id" title="var">Uin</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">lets</span> <span class="id" title="var">WFT</span>: <span class="id" title="var">H29</span> <span class="id" title="var">Uin</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">lets</span>: <a class="idref" href="GMu.InfrastructureFV.html#wft_gives_fv"><span class="id" title="lemma">wft_gives_fv</span></a> <span class="id" title="var">WFT</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intro</span> <span class="id" title="var">HF</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">assert</span> (<span class="id" title="var">HA</span>: <span class="id" title="var">A</span> <span class="id" title="notation">\</span><span class="id" title="notation">in</span> <a class="idref" href="GMu.Definitions.html#e1e06a37011ebd9f9e861e05c79f4e29"><span class="id" title="definition">domΔ</span></a> <span class="id" title="var">Δ</span>); <span class="id" title="tactic">auto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">lets</span> <span class="id" title="var">HA2</span>: <span class="id" title="var">Afresh</span> <span class="id" title="var">Ain</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <span class="id" title="var">HA2</span>. <span class="id" title="tactic">repeat</span> <span class="id" title="tactic">rewrite</span> <span class="id" title="axiom">in_union</span>. <span class="id" title="tactic">repeat</span> <span class="id" title="tactic">right</span>¬.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;}<br/>
<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">expand_env_empty</span> <span class="id" title="var">E</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">match</span> <span class="id" title="keyword">goal</span> <span class="id" title="keyword">with</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;| <span class="id" title="var">H</span>: <a class="idref" href="GMu.Definitions.html#value"><span class="id" title="inductive">value</span></a> (<a class="idref" href="GMu.Definitions.html#trm_constructor"><span class="id" title="constructor">trm_constructor</span></a> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">e1</span>) |- <span class="id" title="var">_</span> ⇒<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">inversions</span> <span class="id" title="var">H</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">end</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="GMu.Preservation.html#typing_through_subst_ee_lam"><span class="id" title="lemma">typing_through_subst_ee_lam</span></a> <span class="id" title="keyword">with</span> (<a class="idref" href="GMu.Definitions.html#subst_tt_many"><span class="id" title="definition">subst_tt_many</span></a> <span class="id" title="var">Alphas</span> <span class="id" title="var">Ts0</span> (<a class="idref" href="GMu.Definitions.html#open_tt_many_var"><span class="id" title="definition">open_tt_many_var</span></a> <span class="id" title="var">Alphas</span> <span class="id" title="var">CargType</span>)) <a class="idref" href="GMu.Definitions.html#Tgen"><span class="id" title="constructor">Tgen</span></a> <span class="id" title="var">_</span>; <span class="id" title="tactic">auto</span>; [<span class="id" title="tactic">idtac</span> | <span class="id" title="tactic">eauto</span>].<br/>

<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment">(*&nbsp;instantiate&nbsp;the&nbsp;inductive&nbsp;hypothesis&nbsp;*)</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">assert</span> (<span class="id" title="var">AfreshL</span>: <span class="id" title="keyword">∀</span> <a id="A:209" class="idref" href="#A:209"><span class="id" title="binder">A</span></a> : <span class="id" title="axiom">var</span>, <a class="idref" href="http://coq.inria.fr/distrib/V8.13.0/stdlib//Coq.Lists.List.html#In"><span class="id" title="definition">List.In</span></a> <a class="idref" href="GMu.Preservation.html#A:208"><span class="id" title="variable">A</span></a> <span class="id" title="var">Alphas</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <a class="idref" href="GMu.Preservation.html#A:208"><span class="id" title="variable">A</span></a> <span class="id" title="notation">\</span><span class="id" title="notation">notin</span> <span class="id" title="var">L</span>);<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;[ <span class="id" title="var">introv</span> <span class="id" title="var">Ain</span>; <span class="id" title="var">lets</span>*: <span class="id" title="var">Afresh</span> <span class="id" title="var">Ain</span> | <span class="id" title="tactic">idtac</span>].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">assert</span> (<span class="id" title="var">xfreshL</span>: <span class="id" title="var">x</span> <span class="id" title="notation">\</span><span class="id" title="notation">notin</span> <span class="id" title="var">L</span>); <span class="id" title="tactic">auto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">assert</span> (<span class="id" title="var">xfreshA</span>: <span class="id" title="var">x</span> <span class="id" title="notation">\</span><span class="id" title="notation">notin</span> <span class="id" title="definition">from_list</span> <span class="id" title="var">Alphas</span>); <span class="id" title="tactic">auto</span>.<br/>

<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">lets</span>× <span class="id" title="var">IH</span>: <span class="id" title="var">H3</span> <span class="id" title="var">Inzip</span> <span class="id" title="var">Alphas</span> <span class="id" title="var">x</span> <span class="id" title="var">Adist</span> <span class="id" title="var">xfreshA</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">cbn</span> <span class="id" title="tactic">in</span> <span class="id" title="var">IH</span>.<br/>

<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <a class="idref" href="GMu.InfrastructureSubst.html#subst_te_many_commutes_open"><span class="id" title="lemma">subst_te_many_commutes_open</span></a>; <span class="id" title="tactic">auto</span>;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;[ <span class="id" title="tactic">idtac</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| <span class="id" title="var">introv</span> <span class="id" title="var">Ain</span>; <span class="id" title="var">lets</span>: <span class="id" title="var">Afresh</span> <span class="id" title="var">Ain</span>;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">lets</span>: <a class="idref" href="GMu.Prelude.html#from_list_spec2"><span class="id" title="lemma">from_list_spec2</span></a> <span class="id" title="var">Ain</span>;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intro</span>; <span class="id" title="tactic">subst</span>; <span class="id" title="tactic">auto</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;].<br/>

<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">fold</span> (<a class="idref" href="GMu.Definitions.html#subst_tb_many"><span class="id" title="definition">subst_tb_many</span></a> <span class="id" title="var">Alphas</span> <span class="id" title="var">Ts0</span> (<a class="idref" href="GMu.Definitions.html#bind_var"><span class="id" title="constructor">bind_var</span></a> <a class="idref" href="GMu.Definitions.html#lam_var"><span class="id" title="constructor">lam_var</span></a> (<a class="idref" href="GMu.Definitions.html#open_tt_many_var"><span class="id" title="definition">open_tt_many_var</span></a> <span class="id" title="var">Alphas</span> <span class="id" title="var">CargType</span>))).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> &lt;- <span class="id" title="lemma">map_single</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">fold_env_empty</span>.<br/>

<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <a class="idref" href="GMu.InfrastructureSubst.html#subst_tt_many_free"><span class="id" title="lemma">subst_tt_many_free</span></a> <span class="id" title="keyword">with</span> <span class="id" title="var">Alphas</span> <span class="id" title="var">Ts0</span> <span class="id" title="var">Tc</span>;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;[ <span class="id" title="tactic">idtac</span> | <span class="id" title="var">introv</span> <span class="id" title="var">Ain</span>; <span class="id" title="var">lets</span>*: <span class="id" title="var">Afresh</span> <span class="id" title="var">Ain</span> ].<br/>

<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">assert</span> (<a class="idref" href="http://coq.inria.fr/distrib/V8.13.0/stdlib//Coq.Init.Datatypes.html#length"><span class="id" title="definition">length</span></a> <span class="id" title="var">CretTypes</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.0/stdlib//Coq.Init.Datatypes.html#length"><span class="id" title="definition">length</span></a> <span class="id" title="var">Ts</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;1: {<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">lets</span> [<span class="id" title="var">OKT</span> [? <span class="id" title="var">WFT2</span>]]: <a class="idref" href="GMu.Regularity.html#typing_regular"><span class="id" title="lemma">typing_regular</span></a> <span class="id" title="var">Htyp</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">inversions</span> <span class="id" title="var">WFT2</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">lets</span> <span class="id" title="var">OKS</span>: <a class="idref" href="GMu.Regularity.html#okt_implies_okgadt"><span class="id" title="lemma">okt_implies_okgadt</span></a> <span class="id" title="var">OKT</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">inversion</span> <span class="id" title="var">OKS</span> <span class="id" title="keyword">as</span> [? <span class="id" title="var">OKC</span>].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">lets</span> [? <span class="id" title="var">OKD</span>]: <span class="id" title="var">OKC</span> <span class="id" title="var">H0</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">cbn</span> <span class="id" title="tactic">in</span> ×.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">lets</span> <span class="id" title="var">OKE</span>: <span class="id" title="var">OKD</span> <span class="id" title="var">indef</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">inversions</span> <span class="id" title="var">OKE</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">match</span> <span class="id" title="keyword">goal</span> <span class="id" title="keyword">with</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| [ <span class="id" title="var">H1</span>: <span class="id" title="definition">binds</span> ?<span class="id" title="var">g</span> ?<span class="id" title="var">A</span> <span class="id" title="var">Σ</span>, <span class="id" title="var">H2</span>: <span class="id" title="definition">binds</span> ?<span class="id" title="var">g</span> ?<span class="id" title="var">B</span> <span class="id" title="var">Σ</span> |- <span class="id" title="var">_</span> ] ⇒<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">let</span> <span class="id" title="var">H</span> := <span class="id" title="tactic">fresh</span> "H" <span class="id" title="tactic">in</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">lets</span> <span class="id" title="var">H</span>: <a class="idref" href="GMu.Prelude.html#binds_ext"><span class="id" title="lemma">binds_ext</span></a> <span class="id" title="var">H1</span> <span class="id" title="var">H2</span>;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">inversions</span> <span class="id" title="var">H</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">end</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">auto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;}<br/>
<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="GMu.Preservation.html#remove_true_equations"><span class="id" title="lemma">remove_true_equations</span></a> <span class="id" title="keyword">with</span> <span class="id" title="var">Ts</span> (<a class="idref" href="http://coq.inria.fr/distrib/V8.13.0/stdlib//Coq.Lists.List.html#map"><span class="id" title="definition">List.map</span></a> (<span class="id" title="keyword">fun</span> <a id="T:211" class="idref" href="#T:211"><span class="id" title="binder">T</span></a> ⇒ <a class="idref" href="GMu.Definitions.html#subst_tt_many"><span class="id" title="definition">subst_tt_many</span></a> <span class="id" title="var">Alphas</span> <span class="id" title="var">Ts0</span> (<a class="idref" href="GMu.Definitions.html#open_tt_many_var"><span class="id" title="definition">open_tt_many_var</span></a> <span class="id" title="var">Alphas</span> <a class="idref" href="GMu.Preservation.html#T:210"><span class="id" title="variable">T</span></a>)) <span class="id" title="var">CretTypes</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="tactic">assert</span> (<span class="id" title="var">Hrew</span>:<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="GMu.Definitions.html#equations_from_lists"><span class="id" title="definition">equations_from_lists</span></a> <span class="id" title="var">Ts</span> (<a class="idref" href="http://coq.inria.fr/distrib/V8.13.0/stdlib//Coq.Lists.List.html#map"><span class="id" title="definition">List.map</span></a> (<span class="id" title="keyword">fun</span> <a id="T:213" class="idref" href="#T:213"><span class="id" title="binder">T</span></a> : <a class="idref" href="GMu.Definitions.html#typ"><span class="id" title="inductive">typ</span></a> ⇒ <a class="idref" href="GMu.Definitions.html#subst_tt_many"><span class="id" title="definition">subst_tt_many</span></a> <span class="id" title="var">Alphas</span> <span class="id" title="var">Ts0</span> (<a class="idref" href="GMu.Definitions.html#open_tt_many_var"><span class="id" title="definition">open_tt_many_var</span></a> <span class="id" title="var">Alphas</span> <a class="idref" href="GMu.Preservation.html#T:212"><span class="id" title="variable">T</span></a>)) <span class="id" title="var">CretTypes</span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/V8.13.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/V8.13.0/stdlib//Coq.Lists.List.html#map"><span class="id" title="definition">List.map</span></a> (<a class="idref" href="GMu.Definitions.html#subst_td_many"><span class="id" title="definition">subst_td_many</span></a> <span class="id" title="var">Alphas</span> <span class="id" title="var">Ts0</span>) (<a class="idref" href="GMu.Definitions.html#equations_from_lists"><span class="id" title="definition">equations_from_lists</span></a> <span class="id" title="var">Ts</span> (<a class="idref" href="http://coq.inria.fr/distrib/V8.13.0/stdlib//Coq.Lists.List.html#map"><span class="id" title="definition">List.map</span></a> (<a class="idref" href="GMu.Definitions.html#open_tt_many_var"><span class="id" title="definition">open_tt_many_var</span></a> <span class="id" title="var">Alphas</span>) <span class="id" title="var">CretTypes</span>))<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;× <span class="id" title="tactic">apply</span>¬ <a class="idref" href="GMu.Preservation.html#helper_equations_commute"><span class="id" title="lemma">helper_equations_commute</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">introv</span> <span class="id" title="var">Ain</span>. <span class="id" title="var">lets</span>¬ : <span class="id" title="var">Afresh</span> <span class="id" title="var">Ain</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;× <span class="id" title="tactic">rewrite</span> <span class="id" title="var">Hrew</span>; <span class="id" title="tactic">clear</span> <span class="id" title="var">Hrew</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="GMu.Preservation.html#typing_through_subst_te_many"><span class="id" title="lemma">typing_through_subst_te_many</span></a> <span class="id" title="keyword">with</span> <a class="idref" href="GMu.Definitions.html#Tgen"><span class="id" title="constructor">Tgen</span></a>; <span class="id" title="tactic">trivial</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;-- <span class="id" title="tactic">intros</span> <span class="id" title="var">A</span> <span class="id" title="var">Ain</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">lets</span>: <span class="id" title="var">Afresh</span> <span class="id" title="var">Ain</span>. <span class="id" title="tactic">auto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;-- <span class="id" title="tactic">autorewrite</span> <span class="id" title="keyword">with</span> <span class="id" title="var">rew_env_dom</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intros</span> <span class="id" title="var">A</span> <span class="id" title="var">Ain</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="GMu.Prelude.html#notin_inverse"><span class="id" title="lemma">notin_inverse</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intro</span> <span class="id" title="var">HF</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <span class="id" title="var">xfreshA</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <span class="id" title="axiom">in_singleton</span> <span class="id" title="tactic">in</span> <span class="id" title="var">HF</span>. <span class="id" title="tactic">subst</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="GMu.Prelude.html#from_list_spec2"><span class="id" title="lemma">from_list_spec2</span></a>. <span class="id" title="tactic">auto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;-- <span class="id" title="var">introv</span> <span class="id" title="var">Ain</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">lets</span>¬ : <span class="id" title="var">Afresh</span> <span class="id" title="var">Ain</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;-- <span class="id" title="var">introv</span> <span class="id" title="var">Ain</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span>¬ <a class="idref" href="GMu.InfrastructureFV.html#equations_have_no_dom"><span class="id" title="lemma">equations_have_no_dom</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span>× <a class="idref" href="GMu.Prelude.html#equations_from_lists_are_equations"><span class="id" title="lemma">equations_from_lists_are_equations</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;-- <span class="id" title="var">introv</span> <span class="id" title="var">Ain</span> <span class="id" title="var">Tin</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="GMu.InfrastructureFV.html#fv_typs_notin"><span class="id" title="lemma">fv_typs_notin</span></a> <span class="id" title="keyword">with</span> <span class="id" title="var">Ts0</span>; <span class="id" title="tactic">auto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">lets</span>: <span class="id" title="var">Afresh</span> <span class="id" title="var">Ain</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">auto</span> <span class="id" title="keyword">with</span> <span class="id" title="var">listin</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;-- <span class="id" title="var">introv</span> <span class="id" title="var">Ain</span>; <span class="id" title="var">lets</span>*: <span class="id" title="var">Afresh</span> <span class="id" title="var">Ain</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="tactic">assert</span> (<span class="id" title="var">Hrew</span>:<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="GMu.Definitions.html#open_tt_many"><span class="id" title="definition">open_tt_many</span></a> <span class="id" title="var">Ts0</span> (<a class="idref" href="GMu.Definitions.html#typ_gadt"><span class="id" title="constructor">typ_gadt</span></a> <span class="id" title="var">CretTypes</span> <span class="id" title="var">Name</span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/V8.13.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="GMu.Definitions.html#typ_gadt"><span class="id" title="constructor">typ_gadt</span></a> (<a class="idref" href="http://coq.inria.fr/distrib/V8.13.0/stdlib//Coq.Lists.List.html#map"><span class="id" title="definition">List.map</span></a> (<a class="idref" href="GMu.Definitions.html#open_tt_many"><span class="id" title="definition">open_tt_many</span></a> <span class="id" title="var">Ts0</span>) <span class="id" title="var">CretTypes</span>) <span class="id" title="var">Name</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;× <span class="id" title="tactic">clear</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rename</span> <span class="id" title="var">Ts0</span> <span class="id" title="var">into</span> <span class="id" title="var">Ts</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rename</span> <span class="id" title="var">CretTypes</span> <span class="id" title="var">into</span> <span class="id" title="var">Us</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">gen</span> <span class="id" title="var">Us</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">induction</span> <span class="id" title="var">Ts</span>; <span class="id" title="var">introv</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;-- <span class="id" title="var">cbn</span>. <span class="id" title="tactic">rewrite</span>¬ <a class="idref" href="http://coq.inria.fr/distrib/V8.13.0/stdlib//Coq.Lists.List.html#map_id"><span class="id" title="lemma">List.map_id</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;-- <span class="id" title="var">cbn</span>. <span class="id" title="tactic">rewrite</span> <span class="id" title="var">IHTs</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">f_equal</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.0/stdlib//Coq.Lists.List.html#map_map"><span class="id" title="lemma">List.map_map</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.0/stdlib//Coq.Lists.List.html#map_ext"><span class="id" title="lemma">List.map_ext</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intro</span> <span class="id" title="var">T</span>. <span class="id" title="tactic">auto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;× <span class="id" title="tactic">rewrite</span> <span class="id" title="var">Hrew</span> <span class="id" title="tactic">in</span> <span class="id" title="var">EQ</span>; <span class="id" title="tactic">clear</span> <span class="id" title="var">Hrew</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">assert</span> (<span class="id" title="var">Hrew</span>: <a class="idref" href="http://coq.inria.fr/distrib/V8.13.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">(</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.13.0/stdlib//Coq.Lists.List.html#map"><span class="id" title="definition">List.map</span></a> (<span class="id" title="keyword">fun</span> <a id="T:215" class="idref" href="#T:215"><span class="id" title="binder">T</span></a> : <a class="idref" href="GMu.Definitions.html#typ"><span class="id" title="inductive">typ</span></a> ⇒ <a class="idref" href="GMu.Definitions.html#subst_tt_many"><span class="id" title="definition">subst_tt_many</span></a> <span class="id" title="var">Alphas</span> <span class="id" title="var">Ts0</span> (<a class="idref" href="GMu.Definitions.html#open_tt_many_var"><span class="id" title="definition">open_tt_many_var</span></a> <span class="id" title="var">Alphas</span> <a class="idref" href="GMu.Preservation.html#T:214"><span class="id" title="variable">T</span></a>)) <span class="id" title="var">CretTypes</span><a class="idref" href="http://coq.inria.fr/distrib/V8.13.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">)</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.0/stdlib//Coq.Lists.List.html#map"><span class="id" title="definition">List.map</span></a> (<a class="idref" href="GMu.Definitions.html#open_tt_many"><span class="id" title="definition">open_tt_many</span></a> <span class="id" title="var">Ts0</span>) <span class="id" title="var">CretTypes</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;1: {<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.0/stdlib//Coq.Lists.List.html#map_ext_in"><span class="id" title="lemma">List.map_ext_in</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intros</span> <span class="id" title="var">T</span> <span class="id" title="var">Tin</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span>¬ &lt;- <a class="idref" href="GMu.InfrastructureSubst.html#subst_tt_intro_many"><span class="id" title="lemma">subst_tt_intro_many</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id" title="tactic">intros</span> <span class="id" title="var">A</span> <span class="id" title="var">Ain</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span>¬ <span class="id" title="var">H14</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id" title="tactic">intros</span> <span class="id" title="var">A</span> <span class="id" title="var">U</span> <span class="id" title="var">Ain</span> <span class="id" title="var">Uin</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">lets</span>: <span class="id" title="var">Afresh</span> <span class="id" title="var">Ain</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="GMu.InfrastructureFV.html#fv_typs_notin"><span class="id" title="lemma">fv_typs_notin</span></a> <span class="id" title="keyword">with</span> <span class="id" title="var">Ts0</span>; <span class="id" title="tactic">auto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <span class="id" title="var">Hrew</span>; <span class="id" title="tactic">clear</span> <span class="id" title="var">Hrew</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">lets</span> <span class="id" title="var">EQ2</span>: <a class="idref" href="GMu.Equations.html#inversion_eq_typ_gadt"><span class="id" title="lemma">inversion_eq_typ_gadt</span></a> <span class="id" title="var">EQ</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> &lt;- (<a class="idref" href="http://coq.inria.fr/distrib/V8.13.0/stdlib//Coq.Lists.List.html#map_ext_in"><span class="id" title="lemma">List.map_ext_in</span></a> (<span class="id" title="keyword">fun</span> <a id="T:219" class="idref" href="#T:219"><span class="id" title="binder">T</span></a> : <a class="idref" href="GMu.Definitions.html#typ"><span class="id" title="inductive">typ</span></a> ⇒ <a class="idref" href="GMu.Definitions.html#open_tt_many"><span class="id" title="definition">open_tt_many</span></a> <span class="id" title="var">Ts0</span> <a class="idref" href="GMu.Preservation.html#T:216"><span class="id" title="variable">T</span></a>)).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;2: {<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intros</span> <span class="id" title="var">T</span> <span class="id" title="var">Tin</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span>¬ (@<a class="idref" href="GMu.InfrastructureSubst.html#subst_tt_intro_many"><span class="id" title="lemma">subst_tt_intro_many</span></a> <span class="id" title="var">Alphas</span> <span class="id" title="var">T</span> <span class="id" title="var">Ts0</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;-- <span class="id" title="tactic">rewrite</span>¬ <span class="id" title="var">H14</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;-- <span class="id" title="var">introv</span> <span class="id" title="var">Ain</span> <span class="id" title="var">Uin</span>. <span class="id" title="var">lets</span> <span class="id" title="var">HF2</span>: <span class="id" title="var">Afresh</span> <span class="id" title="var">Ain</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span>× <a class="idref" href="GMu.InfrastructureFV.html#fv_typs_notin"><span class="id" title="lemma">fv_typs_notin</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;-- <span class="id" title="tactic">rewrite</span>¬ <a class="idref" href="http://coq.inria.fr/distrib/V8.13.0/stdlib//Coq.Lists.List.html#map_length"><span class="id" title="lemma">List.map_length</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;-- <span class="id" title="tactic">apply</span> <span class="id" title="var">EQ2</span>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Check</span> <a class="idref" href="GMu.Preservation.html#preservation_thm"><span class="id" title="lemma">preservation_thm</span></a>.<br/>
</div>
</div>
<div id="footer">
  Generated by <a href="http://coq.inria.fr/">coqdoc</a> and improved with <a href="https://github.com/tebbi/coqdocjs">CoqdocJS</a>
</div>
</div>
</body>

</html>
