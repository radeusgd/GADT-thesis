<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">

<head>
<meta http-equiv="Content-Type" content="text/html;charset=utf-8" />
<link href="coqdoc.css" rel="stylesheet" type="text/css" />
<link href="coqdocjs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="config.js"></script>
<script type="text/javascript" src="coqdocjs.js"></script>
</head>

<body onload="document.getElementById('content').focus()">
  <div id="header">
    <span class="left">
      <span class="modulename"> <script> document.write(document.title) </script> </span>
    </span>

    <span class="button" id="toggle-proofs"></span>

    <span class="right">
      <a href="../">Project Page</a>
      <a href="./indexpage.html"> Index </a>
      <a href="./toc.html"> Table of Contents </a>
    </span>
</div>
    <div id="content" tabindex="-1" onblur="document.getElementById('content').focus()">
    <div id="main">
<h1 class="libtitle">GMu.Regularity2</h1>

<div class="code">
<span class="id" title="keyword">Set Implicit Arguments</span>.<br/>
<span class="id" title="keyword">Require</span> <span class="id" title="keyword">Import</span> <a class="idref" href="GMu.Prelude.html#"><span class="id" title="library">Prelude</span></a>.<br/>
<span class="id" title="keyword">Require</span> <span class="id" title="keyword">Import</span> <a class="idref" href="GMu.Infrastructure.html#"><span class="id" title="library">Infrastructure</span></a>.<br/>
<span class="id" title="keyword">Require</span> <span class="id" title="keyword">Import</span> <a class="idref" href="GMu.Equations.html#"><span class="id" title="library">Equations</span></a>.<br/>
<span class="id" title="keyword">Require</span> <span class="id" title="keyword">Import</span> <span class="id" title="library">TLC.LibLN</span>.<br/>
<span class="id" title="keyword">Require</span> <span class="id" title="keyword">Import</span> <span class="id" title="library">TLC.LibEnv</span>.<br/>
<span class="id" title="keyword">Require</span> <span class="id" title="keyword">Import</span> <a class="idref" href="GMu.Regularity.html#"><span class="id" title="library">Regularity</span></a>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="okt_strengthen_simple" class="idref" href="#okt_strengthen_simple"><span class="id" title="lemma">okt_strengthen_simple</span></a> : <span class="id" title="keyword">∀</span> <a id="0101b9beac487b383a5ba2a8f6922788" class="idref" href="#0101b9beac487b383a5ba2a8f6922788"><span class="id" title="binder">Σ</span></a> <a id="D:2" class="idref" href="#D:2"><span class="id" title="binder">D</span></a> <a id="E:3" class="idref" href="#E:3"><span class="id" title="binder">E</span></a> <a id="F:4" class="idref" href="#F:4"><span class="id" title="binder">F</span></a>,<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="GMu.Definitions.html#okt"><span class="id" title="inductive">okt</span></a> <a class="idref" href="GMu.Regularity2.html#0101b9beac487b383a5ba2a8f6922788"><span class="id" title="variable">Σ</span></a> <a class="idref" href="GMu.Regularity2.html#D:2"><span class="id" title="variable">D</span></a> (<a class="idref" href="GMu.Regularity2.html#E:3"><span class="id" title="variable">E</span></a> <span class="id" title="notation">&amp;</span> <a class="idref" href="GMu.Regularity2.html#F:4"><span class="id" title="variable">F</span></a>) <a class="idref" href="http://coq.inria.fr/distrib/V8.13.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <a class="idref" href="GMu.Definitions.html#okt"><span class="id" title="inductive">okt</span></a> <a class="idref" href="GMu.Regularity2.html#0101b9beac487b383a5ba2a8f6922788"><span class="id" title="variable">Σ</span></a> <a class="idref" href="GMu.Regularity2.html#D:2"><span class="id" title="variable">D</span></a> <a class="idref" href="GMu.Regularity2.html#E:3"><span class="id" title="variable">E</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="var">introv</span> <span class="id" title="var">O</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">induction</span> <span class="id" title="var">F</span> <span class="id" title="keyword">using</span> <span class="id" title="lemma">env_ind</span>.<br/>
&nbsp;&nbsp;- <span class="id" title="var">fold_env_empty_H</span>.<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">rewrite</span> <span class="id" title="lemma">concat_assoc</span> <span class="id" title="tactic">in</span> <span class="id" title="var">O</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <span class="id" title="var">IHF</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">inversion</span> <span class="id" title="var">O</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="var">false</span>× <span class="id" title="lemma">empty_push_inv</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="var">lets</span> [? [? ?]]: <span class="id" title="lemma">eq_push_inv</span> <span class="id" title="var">H</span>; <span class="id" title="tactic">subst</span>. <span class="id" title="tactic">auto</span>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
#[<span class="id" title="var">export</span>] <span class="id" title="keyword">Hint</span> <span class="id" title="keyword">Resolve</span> <span class="id" title="var">okt_strengthen_simple</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="wft_weaken_simple" class="idref" href="#wft_weaken_simple"><span class="id" title="lemma">wft_weaken_simple</span></a> : <span class="id" title="keyword">∀</span> <a id="48bbc240c70629f9166b6605559525f0" class="idref" href="#48bbc240c70629f9166b6605559525f0"><span class="id" title="binder">Σ</span></a> <a id="D1:6" class="idref" href="#D1:6"><span class="id" title="binder">D1</span></a> <a id="D2:7" class="idref" href="#D2:7"><span class="id" title="binder">D2</span></a> <a id="E:8" class="idref" href="#E:8"><span class="id" title="binder">E</span></a>,<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="GMu.Definitions.html#wft"><span class="id" title="inductive">wft</span></a> <a class="idref" href="GMu.Regularity2.html#48bbc240c70629f9166b6605559525f0"><span class="id" title="variable">Σ</span></a> <a class="idref" href="GMu.Regularity2.html#D1:6"><span class="id" title="variable">D1</span></a> <a class="idref" href="GMu.Regularity2.html#E:8"><span class="id" title="variable">E</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="GMu.Definitions.html#wft"><span class="id" title="inductive">wft</span></a> <a class="idref" href="GMu.Regularity2.html#48bbc240c70629f9166b6605559525f0"><span class="id" title="variable">Σ</span></a> (<a class="idref" href="GMu.Regularity2.html#D1:6"><span class="id" title="variable">D1</span></a> <a class="idref" href="GMu.Definitions.html#3ca84bd817dd2b1e2f0f693cd9400702"><span class="id" title="notation">|,|</span></a> <a class="idref" href="GMu.Regularity2.html#D2:7"><span class="id" title="variable">D2</span></a>) <a class="idref" href="GMu.Regularity2.html#E:8"><span class="id" title="variable">E</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">intros</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> &lt;- (<a class="idref" href="http://coq.inria.fr/distrib/V8.13.0/stdlib//Coq.Lists.List.html#app_nil_l"><span class="id" title="lemma">List.app_nil_l</span></a> (<span class="id" title="var">D1</span> <a class="idref" href="GMu.Definitions.html#3ca84bd817dd2b1e2f0f693cd9400702"><span class="id" title="notation">|,|</span></a> <span class="id" title="var">D2</span>)).<br/>
&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="GMu.Regularity.html#wft_weaken"><span class="id" title="lemma">wft_weaken</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="var">clean_empty_Δ</span>. <span class="id" title="tactic">auto</span>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="okt_weakening_delta" class="idref" href="#okt_weakening_delta"><span class="id" title="lemma">okt_weakening_delta</span></a> : <span class="id" title="keyword">∀</span> <a id="2ff76d4cddec082cd899c55bae9fabf3" class="idref" href="#2ff76d4cddec082cd899c55bae9fabf3"><span class="id" title="binder">Σ</span></a> <a id="D1:10" class="idref" href="#D1:10"><span class="id" title="binder">D1</span></a> <a id="D2:11" class="idref" href="#D2:11"><span class="id" title="binder">D2</span></a> <a id="E:12" class="idref" href="#E:12"><span class="id" title="binder">E</span></a> <a id="X:13" class="idref" href="#X:13"><span class="id" title="binder">X</span></a>,<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="GMu.Definitions.html#okt"><span class="id" title="inductive">okt</span></a> <a class="idref" href="GMu.Regularity2.html#2ff76d4cddec082cd899c55bae9fabf3"><span class="id" title="variable">Σ</span></a> (<a class="idref" href="GMu.Regularity2.html#D1:10"><span class="id" title="variable">D1</span></a> <a class="idref" href="GMu.Definitions.html#3ca84bd817dd2b1e2f0f693cd9400702"><span class="id" title="notation">|,|</span></a> <a class="idref" href="GMu.Regularity2.html#D2:11"><span class="id" title="variable">D2</span></a>) <a class="idref" href="GMu.Regularity2.html#E:12"><span class="id" title="variable">E</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="GMu.Regularity2.html#X:13"><span class="id" title="variable">X</span></a> <span class="id" title="notation">#</span> <a class="idref" href="GMu.Regularity2.html#E:12"><span class="id" title="variable">E</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="GMu.Regularity2.html#X:13"><span class="id" title="variable">X</span></a> <span class="id" title="notation">\</span><span class="id" title="notation">notin</span> <a class="idref" href="GMu.Definitions.html#e1e06a37011ebd9f9e861e05c79f4e29"><span class="id" title="definition">domΔ</span></a> <a class="idref" href="GMu.Regularity2.html#D1:10"><span class="id" title="variable">D1</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="GMu.Regularity2.html#X:13"><span class="id" title="variable">X</span></a> <span class="id" title="notation">\</span><span class="id" title="notation">notin</span> <a class="idref" href="GMu.Definitions.html#e1e06a37011ebd9f9e861e05c79f4e29"><span class="id" title="definition">domΔ</span></a> <a class="idref" href="GMu.Regularity2.html#D2:11"><span class="id" title="variable">D2</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="GMu.Definitions.html#okt"><span class="id" title="inductive">okt</span></a> <a class="idref" href="GMu.Regularity2.html#2ff76d4cddec082cd899c55bae9fabf3"><span class="id" title="variable">Σ</span></a> (<a class="idref" href="GMu.Regularity2.html#D1:10"><span class="id" title="variable">D1</span></a> <a class="idref" href="GMu.Definitions.html#3ca84bd817dd2b1e2f0f693cd9400702"><span class="id" title="notation">|,|</span></a> <a class="idref" href="GMu.Definitions.html#b5ab1b23d5b56035820660ded1af9bea"><span class="id" title="notation">[</span></a><a class="idref" href="GMu.Definitions.html#tc_var"><span class="id" title="constructor">tc_var</span></a> <a class="idref" href="GMu.Regularity2.html#X:13"><span class="id" title="variable">X</span></a><a class="idref" href="GMu.Definitions.html#b5ab1b23d5b56035820660ded1af9bea"><span class="id" title="notation">]*</span></a> <a class="idref" href="GMu.Definitions.html#3ca84bd817dd2b1e2f0f693cd9400702"><span class="id" title="notation">|,|</span></a> <a class="idref" href="GMu.Regularity2.html#D2:11"><span class="id" title="variable">D2</span></a>) <a class="idref" href="GMu.Regularity2.html#E:12"><span class="id" title="variable">E</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="var">introv</span> <span class="id" title="var">Hokt</span> <span class="id" title="var">FE</span> <span class="id" title="var">FD1</span> <span class="id" title="var">FD2</span>; <span class="id" title="var">gen_eq</span> <span class="id" title="var">D'</span>: (<span class="id" title="var">D1</span> <a class="idref" href="GMu.Definitions.html#3ca84bd817dd2b1e2f0f693cd9400702"><span class="id" title="notation">|,|</span></a> <span class="id" title="var">D2</span>). <span class="id" title="var">gen</span> <span class="id" title="var">D2</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">induction</span> <span class="id" title="var">Hokt</span>; <span class="id" title="tactic">econstructor</span>; <span class="id" title="tactic">subst</span>; <span class="id" title="tactic">auto</span> <span class="id" title="keyword">using</span> <a class="idref" href="GMu.Regularity.html#wft_weaken"><span class="id" title="lemma">wft_weaken</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="GMu.InfrastructureFV.html#e986378a2a44bd3bcdda6d5b28752f62"><span class="id" title="lemma">notin_domΔ_eq</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <a class="idref" href="GMu.InfrastructureFV.html#e986378a2a44bd3bcdda6d5b28752f62"><span class="id" title="lemma">notin_domΔ_eq</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">H1</span>. <span class="id" title="tactic">destruct</span> <span class="id" title="var">H1</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">split</span>; <span class="id" title="tactic">auto</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="GMu.InfrastructureFV.html#e986378a2a44bd3bcdda6d5b28752f62"><span class="id" title="lemma">notin_domΔ_eq</span></a>; <span class="id" title="tactic">split</span>; <span class="id" title="tactic">auto</span>.<br/>
&nbsp;&nbsp;<span class="id" title="var">cbn</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <span class="id" title="lemma">notin_union</span>; <span class="id" title="tactic">split</span>; <span class="id" title="tactic">auto</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="GMu.Prelude.html#notin_inverse"><span class="id" title="lemma">notin_inverse</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <span class="id" title="lemma">dom_concat</span> <span class="id" title="tactic">in</span> <span class="id" title="var">FE</span>. <span class="id" title="tactic">rewrite</span> <span class="id" title="lemma">dom_single</span> <span class="id" title="tactic">in</span> <span class="id" title="var">FE</span>. <span class="id" title="tactic">auto</span>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="okt_weakening_delta_eq" class="idref" href="#okt_weakening_delta_eq"><span class="id" title="lemma">okt_weakening_delta_eq</span></a> : <span class="id" title="keyword">∀</span> <a id="08441172cd4c14450ee9e66c55932a87" class="idref" href="#08441172cd4c14450ee9e66c55932a87"><span class="id" title="binder">Σ</span></a> <a id="D1:15" class="idref" href="#D1:15"><span class="id" title="binder">D1</span></a> <a id="D2:16" class="idref" href="#D2:16"><span class="id" title="binder">D2</span></a> <a id="E:17" class="idref" href="#E:17"><span class="id" title="binder">E</span></a> <a id="eq:18" class="idref" href="#eq:18"><span class="id" title="binder">eq</span></a>,<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="GMu.Definitions.html#okt"><span class="id" title="inductive">okt</span></a> <a class="idref" href="GMu.Regularity2.html#08441172cd4c14450ee9e66c55932a87"><span class="id" title="variable">Σ</span></a> (<a class="idref" href="GMu.Regularity2.html#D1:15"><span class="id" title="variable">D1</span></a> <a class="idref" href="GMu.Definitions.html#3ca84bd817dd2b1e2f0f693cd9400702"><span class="id" title="notation">|,|</span></a> <a class="idref" href="GMu.Regularity2.html#D2:16"><span class="id" title="variable">D2</span></a>) <a class="idref" href="GMu.Regularity2.html#E:17"><span class="id" title="variable">E</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="GMu.Definitions.html#okt"><span class="id" title="inductive">okt</span></a> <a class="idref" href="GMu.Regularity2.html#08441172cd4c14450ee9e66c55932a87"><span class="id" title="variable">Σ</span></a> (<a class="idref" href="GMu.Regularity2.html#D1:15"><span class="id" title="variable">D1</span></a> <a class="idref" href="GMu.Definitions.html#3ca84bd817dd2b1e2f0f693cd9400702"><span class="id" title="notation">|,|</span></a> <a class="idref" href="GMu.Definitions.html#b5ab1b23d5b56035820660ded1af9bea"><span class="id" title="notation">[</span></a><a class="idref" href="GMu.Definitions.html#tc_eq"><span class="id" title="constructor">tc_eq</span></a> <a class="idref" href="GMu.Regularity2.html#eq:18"><span class="id" title="variable">eq</span></a><a class="idref" href="GMu.Definitions.html#b5ab1b23d5b56035820660ded1af9bea"><span class="id" title="notation">]*</span></a> <a class="idref" href="GMu.Definitions.html#3ca84bd817dd2b1e2f0f693cd9400702"><span class="id" title="notation">|,|</span></a> <a class="idref" href="GMu.Regularity2.html#D2:16"><span class="id" title="variable">D2</span></a>) <a class="idref" href="GMu.Regularity2.html#E:17"><span class="id" title="variable">E</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="var">introv</span> <span class="id" title="var">Hokt</span>; <span class="id" title="var">gen_eq</span> <span class="id" title="var">D'</span>: (<span class="id" title="var">D1</span> <a class="idref" href="GMu.Definitions.html#3ca84bd817dd2b1e2f0f693cd9400702"><span class="id" title="notation">|,|</span></a> <span class="id" title="var">D2</span>). <span class="id" title="var">gen</span> <span class="id" title="var">D2</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">induction</span> <span class="id" title="var">Hokt</span>; <span class="id" title="tactic">econstructor</span>; <span class="id" title="tactic">subst</span>; <span class="id" title="tactic">auto</span> <span class="id" title="keyword">using</span> <a class="idref" href="GMu.Regularity.html#wft_weaken"><span class="id" title="lemma">wft_weaken</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">repeat</span> <span class="id" title="tactic">rewrite</span> <a class="idref" href="GMu.InfrastructureFV.html#e986378a2a44bd3bcdda6d5b28752f62"><span class="id" title="lemma">notin_domΔ_eq</span></a> <span class="id" title="tactic">in</span> ×. <span class="id" title="tactic">destruct</span> <span class="id" title="var">H1</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">eq</span>; <span class="id" title="var">cbn</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">split</span>¬.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="okt_weakening_delta_many_eq" class="idref" href="#okt_weakening_delta_many_eq"><span class="id" title="lemma">okt_weakening_delta_many_eq</span></a> : <span class="id" title="keyword">∀</span> <a id="957e39afe9f7f3b3133a35f49f47db88" class="idref" href="#957e39afe9f7f3b3133a35f49f47db88"><span class="id" title="binder">Σ</span></a> <a id="D1:20" class="idref" href="#D1:20"><span class="id" title="binder">D1</span></a> <a id="D2:21" class="idref" href="#D2:21"><span class="id" title="binder">D2</span></a> <a id="Deqs:22" class="idref" href="#Deqs:22"><span class="id" title="binder">Deqs</span></a> <a id="E:23" class="idref" href="#E:23"><span class="id" title="binder">E</span></a>,<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="GMu.Definitions.html#okt"><span class="id" title="inductive">okt</span></a> <a class="idref" href="GMu.Regularity2.html#957e39afe9f7f3b3133a35f49f47db88"><span class="id" title="variable">Σ</span></a> (<a class="idref" href="GMu.Regularity2.html#D1:20"><span class="id" title="variable">D1</span></a> <a class="idref" href="GMu.Definitions.html#3ca84bd817dd2b1e2f0f693cd9400702"><span class="id" title="notation">|,|</span></a> <a class="idref" href="GMu.Regularity2.html#D2:21"><span class="id" title="variable">D2</span></a>) <a class="idref" href="GMu.Regularity2.html#E:23"><span class="id" title="variable">E</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/V8.13.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">(</span></a><span class="id" title="keyword">∀</span> <a id="eq:24" class="idref" href="#eq:24"><span class="id" title="binder">eq</span></a>, <a class="idref" href="http://coq.inria.fr/distrib/V8.13.0/stdlib//Coq.Lists.List.html#In"><span class="id" title="definition">List.In</span></a> <a class="idref" href="GMu.Regularity2.html#eq:24"><span class="id" title="variable">eq</span></a> <a class="idref" href="GMu.Regularity2.html#Deqs:22"><span class="id" title="variable">Deqs</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.0/stdlib//Coq.Init.Logic.html#a883bdd010993579f99d60b3775bcf54"><span class="id" title="notation">∃</span></a> <a id="43c0ba8a83c2111b07e3b37ab47e1030" class="idref" href="#43c0ba8a83c2111b07e3b37ab47e1030"><span class="id" title="binder">ϵ</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.13.0/stdlib//Coq.Init.Logic.html#a883bdd010993579f99d60b3775bcf54"><span class="id" title="notation">,</span></a> <a class="idref" href="GMu.Regularity2.html#eq:24"><span class="id" title="variable">eq</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="GMu.Definitions.html#tc_eq"><span class="id" title="constructor">tc_eq</span></a> <a class="idref" href="GMu.Regularity2.html#43c0ba8a83c2111b07e3b37ab47e1030"><span class="id" title="variable">ϵ</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.13.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">)</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="GMu.Definitions.html#okt"><span class="id" title="inductive">okt</span></a> <a class="idref" href="GMu.Regularity2.html#957e39afe9f7f3b3133a35f49f47db88"><span class="id" title="variable">Σ</span></a> (<a class="idref" href="GMu.Regularity2.html#D1:20"><span class="id" title="variable">D1</span></a> <a class="idref" href="GMu.Definitions.html#3ca84bd817dd2b1e2f0f693cd9400702"><span class="id" title="notation">|,|</span></a> <a class="idref" href="GMu.Regularity2.html#Deqs:22"><span class="id" title="variable">Deqs</span></a> <a class="idref" href="GMu.Definitions.html#3ca84bd817dd2b1e2f0f693cd9400702"><span class="id" title="notation">|,|</span></a> <a class="idref" href="GMu.Regularity2.html#D2:21"><span class="id" title="variable">D2</span></a>) <a class="idref" href="GMu.Regularity2.html#E:23"><span class="id" title="variable">E</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">induction</span> <span class="id" title="var">Deqs</span>; <span class="id" title="var">introv</span> <span class="id" title="var">Hok</span> <span class="id" title="var">Heq</span>.<br/>
&nbsp;&nbsp;- <span class="id" title="var">clean_empty_Δ</span>. <span class="id" title="tactic">auto</span>.<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">destruct</span> <span class="id" title="var">a</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="var">lets</span>: <span class="id" title="var">Heq</span> (<a class="idref" href="GMu.Definitions.html#tc_var"><span class="id" title="constructor">tc_var</span></a> <span class="id" title="var">A</span>); <span class="id" title="var">cbn</span> <span class="id" title="tactic">in</span> *; <span class="id" title="var">false</span>× <span class="id" title="var">Heq</span>; <span class="id" title="tactic">congruence</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="var">fold_delta</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> &lt;- <a class="idref" href="http://coq.inria.fr/distrib/V8.13.0/stdlib//Coq.Lists.List.html#app_assoc"><span class="id" title="lemma">List.app_assoc</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="GMu.Regularity2.html#okt_weakening_delta_eq"><span class="id" title="lemma">okt_weakening_delta_eq</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <span class="id" title="var">IHDeqs</span>; <span class="id" title="tactic">auto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intros</span> <span class="id" title="var">eq1</span> ?. <span class="id" title="var">lets</span> <span class="id" title="var">Hin</span>: <span class="id" title="var">Heq</span> <span class="id" title="var">eq1</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <span class="id" title="var">Hin</span>. <span class="id" title="var">cbn</span>. <span class="id" title="tactic">auto</span>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="okt_weakening_delta_many" class="idref" href="#okt_weakening_delta_many"><span class="id" title="lemma">okt_weakening_delta_many</span></a> : <span class="id" title="keyword">∀</span> <a id="e023703f3460855264e8fbe327a7ed6a" class="idref" href="#e023703f3460855264e8fbe327a7ed6a"><span class="id" title="binder">Σ</span></a> <a id="D1:27" class="idref" href="#D1:27"><span class="id" title="binder">D1</span></a> <a id="D2:28" class="idref" href="#D2:28"><span class="id" title="binder">D2</span></a> <a id="As:29" class="idref" href="#As:29"><span class="id" title="binder">As</span></a> <a id="E:30" class="idref" href="#E:30"><span class="id" title="binder">E</span></a>,<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/V8.13.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">(</span></a><span class="id" title="keyword">∀</span> <a id="A:31" class="idref" href="#A:31"><span class="id" title="binder">A</span></a>, <a class="idref" href="http://coq.inria.fr/distrib/V8.13.0/stdlib//Coq.Lists.List.html#In"><span class="id" title="definition">List.In</span></a> <a class="idref" href="GMu.Regularity2.html#A:31"><span class="id" title="variable">A</span></a> <a class="idref" href="GMu.Regularity2.html#As:29"><span class="id" title="variable">As</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <a class="idref" href="GMu.Regularity2.html#A:31"><span class="id" title="variable">A</span></a> <span class="id" title="notation">#</span> <a class="idref" href="GMu.Regularity2.html#E:30"><span class="id" title="variable">E</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.13.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">)</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/V8.13.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">(</span></a><span class="id" title="keyword">∀</span> <a id="A:32" class="idref" href="#A:32"><span class="id" title="binder">A</span></a>, <a class="idref" href="http://coq.inria.fr/distrib/V8.13.0/stdlib//Coq.Lists.List.html#In"><span class="id" title="definition">List.In</span></a> <a class="idref" href="GMu.Regularity2.html#A:32"><span class="id" title="variable">A</span></a> <a class="idref" href="GMu.Regularity2.html#As:29"><span class="id" title="variable">As</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <a class="idref" href="GMu.Regularity2.html#A:32"><span class="id" title="variable">A</span></a> <span class="id" title="notation">\</span><span class="id" title="notation">notin</span> <a class="idref" href="GMu.Definitions.html#e1e06a37011ebd9f9e861e05c79f4e29"><span class="id" title="definition">domΔ</span></a> <a class="idref" href="GMu.Regularity2.html#D1:27"><span class="id" title="variable">D1</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.13.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">)</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/V8.13.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">(</span></a><span class="id" title="keyword">∀</span> <a id="A:33" class="idref" href="#A:33"><span class="id" title="binder">A</span></a>, <a class="idref" href="http://coq.inria.fr/distrib/V8.13.0/stdlib//Coq.Lists.List.html#In"><span class="id" title="definition">List.In</span></a> <a class="idref" href="GMu.Regularity2.html#A:33"><span class="id" title="variable">A</span></a> <a class="idref" href="GMu.Regularity2.html#As:29"><span class="id" title="variable">As</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <a class="idref" href="GMu.Regularity2.html#A:33"><span class="id" title="variable">A</span></a> <span class="id" title="notation">\</span><span class="id" title="notation">notin</span> <a class="idref" href="GMu.Definitions.html#e1e06a37011ebd9f9e861e05c79f4e29"><span class="id" title="definition">domΔ</span></a> <a class="idref" href="GMu.Regularity2.html#D2:28"><span class="id" title="variable">D2</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.13.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">)</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="GMu.Definitions.html#DistinctList"><span class="id" title="inductive">DistinctList</span></a> <a class="idref" href="GMu.Regularity2.html#As:29"><span class="id" title="variable">As</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="GMu.Definitions.html#okt"><span class="id" title="inductive">okt</span></a> <a class="idref" href="GMu.Regularity2.html#e023703f3460855264e8fbe327a7ed6a"><span class="id" title="variable">Σ</span></a> (<a class="idref" href="GMu.Regularity2.html#D1:27"><span class="id" title="variable">D1</span></a> <a class="idref" href="GMu.Definitions.html#3ca84bd817dd2b1e2f0f693cd9400702"><span class="id" title="notation">|,|</span></a> <a class="idref" href="GMu.Regularity2.html#D2:28"><span class="id" title="variable">D2</span></a>) <a class="idref" href="GMu.Regularity2.html#E:30"><span class="id" title="variable">E</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="GMu.Definitions.html#okt"><span class="id" title="inductive">okt</span></a> <a class="idref" href="GMu.Regularity2.html#e023703f3460855264e8fbe327a7ed6a"><span class="id" title="variable">Σ</span></a> (<a class="idref" href="GMu.Regularity2.html#D1:27"><span class="id" title="variable">D1</span></a> <a class="idref" href="GMu.Definitions.html#3ca84bd817dd2b1e2f0f693cd9400702"><span class="id" title="notation">|,|</span></a> <a class="idref" href="GMu.Definitions.html#tc_vars"><span class="id" title="definition">tc_vars</span></a> <a class="idref" href="GMu.Regularity2.html#As:29"><span class="id" title="variable">As</span></a> <a class="idref" href="GMu.Definitions.html#3ca84bd817dd2b1e2f0f693cd9400702"><span class="id" title="notation">|,|</span></a> <a class="idref" href="GMu.Regularity2.html#D2:28"><span class="id" title="variable">D2</span></a>) <a class="idref" href="GMu.Regularity2.html#E:30"><span class="id" title="variable">E</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">induction</span> <span class="id" title="var">As</span> <span class="id" title="keyword">as</span> [| <span class="id" title="var">Ah</span> <span class="id" title="var">Ats</span>]; <span class="id" title="var">introv</span> <span class="id" title="var">AE</span> <span class="id" title="var">AD1</span> <span class="id" title="var">AD2</span> <span class="id" title="var">Adist</span> <span class="id" title="var">Hok</span>.<br/>
&nbsp;&nbsp;- <span class="id" title="var">cbn</span>. <span class="id" title="var">clean_empty_Δ</span>. <span class="id" title="tactic">auto</span>.<br/>
&nbsp;&nbsp;- <span class="id" title="var">cbn</span>. <span class="id" title="var">fold_delta</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">inversions</span> <span class="id" title="var">Adist</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="GMu.Regularity2.html#okt_weakening_delta"><span class="id" title="lemma">okt_weakening_delta</span></a>; <span class="id" title="tactic">auto</span> <span class="id" title="keyword">with</span> <span class="id" title="var">listin</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="GMu.InfrastructureFV.html#e986378a2a44bd3bcdda6d5b28752f62"><span class="id" title="lemma">notin_domΔ_eq</span></a>. <span class="id" title="tactic">split</span>; <span class="id" title="tactic">auto</span> <span class="id" title="keyword">with</span> <span class="id" title="var">listin</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="GMu.InfrastructureFV.html#notin_dom_tc_vars"><span class="id" title="lemma">notin_dom_tc_vars</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intro</span> <span class="id" title="var">HF</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="GMu.Prelude.html#from_list_spec"><span class="id" title="lemma">from_list_spec</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">HF</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="GMu.Prelude.html#LibList_mem"><span class="id" title="lemma">LibList_mem</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">HF</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">auto</span>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="comment">(*&nbsp;TODO&nbsp;try&nbsp;merging&nbsp;with&nbsp;others&nbsp;*)</span><br/>
<span class="id" title="keyword">Lemma</span> <a id="wft_subst_tb_2" class="idref" href="#wft_subst_tb_2"><span class="id" title="lemma">wft_subst_tb_2</span></a> : <span class="id" title="keyword">∀</span> <a id="c9c14b58eeeaee559bef0d4f884fa28f" class="idref" href="#c9c14b58eeeaee559bef0d4f884fa28f"><span class="id" title="binder">Σ</span></a> <a id="D1:35" class="idref" href="#D1:35"><span class="id" title="binder">D1</span></a> <a id="D2:36" class="idref" href="#D2:36"><span class="id" title="binder">D2</span></a> <a id="Z:37" class="idref" href="#Z:37"><span class="id" title="binder">Z</span></a> <a id="P:38" class="idref" href="#P:38"><span class="id" title="binder">P</span></a> <a id="T:39" class="idref" href="#T:39"><span class="id" title="binder">T</span></a>,<br/>
&nbsp;&nbsp;<a class="idref" href="GMu.Definitions.html#wft"><span class="id" title="inductive">wft</span></a> <a class="idref" href="GMu.Regularity2.html#c9c14b58eeeaee559bef0d4f884fa28f"><span class="id" title="variable">Σ</span></a> (<a class="idref" href="GMu.Regularity2.html#D1:35"><span class="id" title="variable">D1</span></a> <a class="idref" href="GMu.Definitions.html#3ca84bd817dd2b1e2f0f693cd9400702"><span class="id" title="notation">|,|</span></a> <a class="idref" href="GMu.Definitions.html#b5ab1b23d5b56035820660ded1af9bea"><span class="id" title="notation">[</span></a><a class="idref" href="GMu.Definitions.html#tc_var"><span class="id" title="constructor">tc_var</span></a> <a class="idref" href="GMu.Regularity2.html#Z:37"><span class="id" title="variable">Z</span></a><a class="idref" href="GMu.Definitions.html#b5ab1b23d5b56035820660ded1af9bea"><span class="id" title="notation">]*</span></a> <a class="idref" href="GMu.Definitions.html#3ca84bd817dd2b1e2f0f693cd9400702"><span class="id" title="notation">|,|</span></a> <a class="idref" href="GMu.Regularity2.html#D2:36"><span class="id" title="variable">D2</span></a>) <a class="idref" href="GMu.Regularity2.html#T:39"><span class="id" title="variable">T</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="GMu.Definitions.html#wft"><span class="id" title="inductive">wft</span></a> <a class="idref" href="GMu.Regularity2.html#c9c14b58eeeaee559bef0d4f884fa28f"><span class="id" title="variable">Σ</span></a> (<a class="idref" href="GMu.Regularity2.html#D1:35"><span class="id" title="variable">D1</span></a> <a class="idref" href="GMu.Definitions.html#3ca84bd817dd2b1e2f0f693cd9400702"><span class="id" title="notation">|,|</span></a> <a class="idref" href="GMu.Regularity2.html#D2:36"><span class="id" title="variable">D2</span></a>) <a class="idref" href="GMu.Regularity2.html#P:38"><span class="id" title="variable">P</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="GMu.Definitions.html#wft"><span class="id" title="inductive">wft</span></a> <a class="idref" href="GMu.Regularity2.html#c9c14b58eeeaee559bef0d4f884fa28f"><span class="id" title="variable">Σ</span></a> (<a class="idref" href="GMu.Regularity2.html#D1:35"><span class="id" title="variable">D1</span></a> <a class="idref" href="GMu.Definitions.html#3ca84bd817dd2b1e2f0f693cd9400702"><span class="id" title="notation">|,|</span></a> <a class="idref" href="GMu.Regularity2.html#D2:36"><span class="id" title="variable">D2</span></a>) (<a class="idref" href="GMu.Definitions.html#subst_tt"><span class="id" title="definition">subst_tt</span></a> <a class="idref" href="GMu.Regularity2.html#Z:37"><span class="id" title="variable">Z</span></a> <a class="idref" href="GMu.Regularity2.html#P:38"><span class="id" title="variable">P</span></a> <a class="idref" href="GMu.Regularity2.html#T:39"><span class="id" title="variable">T</span></a>).<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="var">introv</span> <span class="id" title="var">WT</span> <span class="id" title="var">WP</span>; <span class="id" title="var">gen_eq</span> <span class="id" title="var">G</span>: (<span class="id" title="var">D1</span> <a class="idref" href="GMu.Definitions.html#3ca84bd817dd2b1e2f0f693cd9400702"><span class="id" title="notation">|,|</span></a> <a class="idref" href="GMu.Definitions.html#b5ab1b23d5b56035820660ded1af9bea"><span class="id" title="notation">[</span></a><a class="idref" href="GMu.Definitions.html#tc_var"><span class="id" title="constructor">tc_var</span></a> <span class="id" title="var">Z</span><a class="idref" href="GMu.Definitions.html#b5ab1b23d5b56035820660ded1af9bea"><span class="id" title="notation">]*</span></a> <a class="idref" href="GMu.Definitions.html#3ca84bd817dd2b1e2f0f693cd9400702"><span class="id" title="notation">|,|</span></a> <span class="id" title="var">D2</span>). <span class="id" title="var">gen</span> <span class="id" title="var">D2</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">induction</span> <span class="id" title="var">WT</span>; <span class="id" title="tactic">intros</span>; <span class="id" title="tactic">subst</span>; <span class="id" title="tactic">simpl</span> <span class="id" title="var">subst_tt</span>; <span class="id" title="tactic">auto</span>.<br/>
&nbsp;&nbsp;- <span class="id" title="var">case_var</span>×.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">constructor</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">unfold</span> <a class="idref" href="GMu.Definitions.html#is_var_defined"><span class="id" title="definition">is_var_defined</span></a> <span class="id" title="tactic">in</span> ×.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">repeat</span> <span class="id" title="var">destruct_app_list</span>; <span class="id" title="tactic">auto</span> <span class="id" title="keyword">using</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.0/stdlib//Coq.Lists.List.html#in_or_app"><span class="id" title="lemma">List.in_or_app</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">cbn</span> <span class="id" title="tactic">in</span> <span class="id" title="var">H</span>. <span class="id" title="tactic">destruct</span> <span class="id" title="var">H</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;× <span class="id" title="tactic">congruence</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;× <span class="id" title="var">contradiction</span>.<br/>
&nbsp;&nbsp;- <span class="id" title="var">apply_fresh</span>× <a class="idref" href="GMu.Definitions.html#wft_all"><span class="id" title="constructor">wft_all</span></a> <span class="id" title="keyword">as</span> <span class="id" title="var">Y</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">lets</span>: <a class="idref" href="GMu.Regularity.html#wft_type"><span class="id" title="lemma">wft_type</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span>× <a class="idref" href="GMu.InfrastructureSubst.html#subst_tt_open_tt_var"><span class="id" title="lemma">subst_tt_open_tt_var</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">lets</span>× <span class="id" title="var">IH</span>: <span class="id" title="var">H0</span> <span class="id" title="var">Y</span> (<span class="id" title="var">D2</span> <a class="idref" href="GMu.Definitions.html#3ca84bd817dd2b1e2f0f693cd9400702"><span class="id" title="notation">|,|</span></a> <a class="idref" href="GMu.Definitions.html#b5ab1b23d5b56035820660ded1af9bea"><span class="id" title="notation">[</span></a><a class="idref" href="GMu.Definitions.html#tc_var"><span class="id" title="constructor">tc_var</span></a> <span class="id" title="var">Y</span><a class="idref" href="GMu.Definitions.html#b5ab1b23d5b56035820660ded1af9bea"><span class="id" title="notation">]*</span></a>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.0/stdlib//Coq.Lists.List.html#app_assoc"><span class="id" title="lemma">List.app_assoc</span></a> <span class="id" title="tactic">in</span> ×.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span>¬ <span class="id" title="var">IH</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> &lt;- <a class="idref" href="http://coq.inria.fr/distrib/V8.13.0/stdlib//Coq.Lists.List.html#app_assoc"><span class="id" title="lemma">List.app_assoc</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span>× <a class="idref" href="GMu.Regularity2.html#wft_weaken_simple"><span class="id" title="lemma">wft_weaken_simple</span></a>.<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">apply</span>× <a class="idref" href="GMu.Definitions.html#wft_gadt"><span class="id" title="constructor">wft_gadt</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="var">introv</span> <span class="id" title="var">Tin</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.0/stdlib//Coq.Lists.List.html#in_map_iff"><span class="id" title="lemma">List.in_map_iff</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">Tin</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">Tin</span> <span class="id" title="keyword">as</span> [<span class="id" title="var">U</span> [? <span class="id" title="var">Tin</span>]]; <span class="id" title="tactic">subst</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span>× <span class="id" title="var">H0</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="tactic">apply</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.0/stdlib//Coq.Lists.List.html#map_length"><span class="id" title="lemma">List.map_length</span></a>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="wft_subst_tb_3" class="idref" href="#wft_subst_tb_3"><span class="id" title="lemma">wft_subst_tb_3</span></a> : <span class="id" title="keyword">∀</span> <a id="a5fa9249bdc19684169f7ebb302b006b" class="idref" href="#a5fa9249bdc19684169f7ebb302b006b"><span class="id" title="binder">Σ</span></a> <a id="D1:41" class="idref" href="#D1:41"><span class="id" title="binder">D1</span></a> <a id="D2:42" class="idref" href="#D2:42"><span class="id" title="binder">D2</span></a> <a id="Z:43" class="idref" href="#Z:43"><span class="id" title="binder">Z</span></a> <a id="P:44" class="idref" href="#P:44"><span class="id" title="binder">P</span></a> <a id="T:45" class="idref" href="#T:45"><span class="id" title="binder">T</span></a>,<br/>
&nbsp;&nbsp;<a class="idref" href="GMu.Definitions.html#wft"><span class="id" title="inductive">wft</span></a> <a class="idref" href="GMu.Regularity2.html#a5fa9249bdc19684169f7ebb302b006b"><span class="id" title="variable">Σ</span></a> (<a class="idref" href="GMu.Regularity2.html#D1:41"><span class="id" title="variable">D1</span></a> <a class="idref" href="GMu.Definitions.html#3ca84bd817dd2b1e2f0f693cd9400702"><span class="id" title="notation">|,|</span></a> <a class="idref" href="GMu.Definitions.html#b5ab1b23d5b56035820660ded1af9bea"><span class="id" title="notation">[</span></a><a class="idref" href="GMu.Definitions.html#tc_var"><span class="id" title="constructor">tc_var</span></a> <a class="idref" href="GMu.Regularity2.html#Z:43"><span class="id" title="variable">Z</span></a><a class="idref" href="GMu.Definitions.html#b5ab1b23d5b56035820660ded1af9bea"><span class="id" title="notation">]*</span></a> <a class="idref" href="GMu.Definitions.html#3ca84bd817dd2b1e2f0f693cd9400702"><span class="id" title="notation">|,|</span></a> <a class="idref" href="GMu.Regularity2.html#D2:42"><span class="id" title="variable">D2</span></a>) <a class="idref" href="GMu.Regularity2.html#T:45"><span class="id" title="variable">T</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="GMu.Definitions.html#wft"><span class="id" title="inductive">wft</span></a> <a class="idref" href="GMu.Regularity2.html#a5fa9249bdc19684169f7ebb302b006b"><span class="id" title="variable">Σ</span></a> <a class="idref" href="GMu.Regularity2.html#D1:41"><span class="id" title="variable">D1</span></a> <a class="idref" href="GMu.Regularity2.html#P:44"><span class="id" title="variable">P</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="GMu.Definitions.html#wft"><span class="id" title="inductive">wft</span></a> <a class="idref" href="GMu.Regularity2.html#a5fa9249bdc19684169f7ebb302b006b"><span class="id" title="variable">Σ</span></a> (<a class="idref" href="GMu.Regularity2.html#D1:41"><span class="id" title="variable">D1</span></a> <a class="idref" href="GMu.Definitions.html#3ca84bd817dd2b1e2f0f693cd9400702"><span class="id" title="notation">|,|</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.0/stdlib//Coq.Lists.List.html#map"><span class="id" title="definition">List.map</span></a> (<a class="idref" href="GMu.Definitions.html#subst_td"><span class="id" title="definition">subst_td</span></a> <a class="idref" href="GMu.Regularity2.html#Z:43"><span class="id" title="variable">Z</span></a> <a class="idref" href="GMu.Regularity2.html#P:44"><span class="id" title="variable">P</span></a>) <a class="idref" href="GMu.Regularity2.html#D2:42"><span class="id" title="variable">D2</span></a>) (<a class="idref" href="GMu.Definitions.html#subst_tt"><span class="id" title="definition">subst_tt</span></a> <a class="idref" href="GMu.Regularity2.html#Z:43"><span class="id" title="variable">Z</span></a> <a class="idref" href="GMu.Regularity2.html#P:44"><span class="id" title="variable">P</span></a> <a class="idref" href="GMu.Regularity2.html#T:45"><span class="id" title="variable">T</span></a>).<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="var">introv</span> <span class="id" title="var">WT</span> <span class="id" title="var">WP</span>; <span class="id" title="var">gen_eq</span> <span class="id" title="var">G</span>: (<span class="id" title="var">D1</span> <a class="idref" href="GMu.Definitions.html#3ca84bd817dd2b1e2f0f693cd9400702"><span class="id" title="notation">|,|</span></a> <a class="idref" href="GMu.Definitions.html#b5ab1b23d5b56035820660ded1af9bea"><span class="id" title="notation">[</span></a><a class="idref" href="GMu.Definitions.html#tc_var"><span class="id" title="constructor">tc_var</span></a> <span class="id" title="var">Z</span><a class="idref" href="GMu.Definitions.html#b5ab1b23d5b56035820660ded1af9bea"><span class="id" title="notation">]*</span></a> <a class="idref" href="GMu.Definitions.html#3ca84bd817dd2b1e2f0f693cd9400702"><span class="id" title="notation">|,|</span></a> <span class="id" title="var">D2</span>). <span class="id" title="var">gen</span> <span class="id" title="var">D2</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">induction</span> <span class="id" title="var">WT</span>; <span class="id" title="tactic">intros</span>; <span class="id" title="tactic">subst</span>; <span class="id" title="tactic">simpl</span> <span class="id" title="var">subst_tt</span>; <span class="id" title="tactic">auto</span>.<br/>
&nbsp;&nbsp;- <span class="id" title="var">case_var</span>×.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="tactic">apply</span>¬ <a class="idref" href="GMu.Regularity2.html#wft_weaken_simple"><span class="id" title="lemma">wft_weaken_simple</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="tactic">econstructor</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">unfold</span> <a class="idref" href="GMu.Definitions.html#is_var_defined"><span class="id" title="definition">is_var_defined</span></a> <span class="id" title="tactic">in</span> ×.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.0/stdlib//Coq.Lists.List.html#in_app_iff"><span class="id" title="lemma">List.in_app_iff</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.0/stdlib//Coq.Lists.List.html#in_app_iff"><span class="id" title="lemma">List.in_app_iff</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">H</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">H</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;× <span class="id" title="tactic">left</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">clear</span> <span class="id" title="var">WP</span>. <span class="id" title="tactic">clear</span> <span class="id" title="var">C</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">induction</span> <span class="id" title="var">D2</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;-- <span class="id" title="tactic">inversion</span> <span class="id" title="var">H</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;-- <span class="id" title="var">inversions</span> <span class="id" title="var">H</span>; <span class="id" title="var">cbn</span>; <span class="id" title="tactic">auto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;× <span class="id" title="tactic">apply</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.0/stdlib//Coq.Lists.List.html#in_app_iff"><span class="id" title="lemma">List.in_app_iff</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">H</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">H</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;-- <span class="id" title="var">cbn</span> <span class="id" title="tactic">in</span> <span class="id" title="var">H</span>. <span class="id" title="tactic">destruct</span> <span class="id" title="var">H</span> <span class="id" title="keyword">as</span> [<span class="id" title="var">EQ</span>|<span class="id" title="var">EQ</span>]; <span class="id" title="var">inversions</span> <span class="id" title="var">EQ</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">false</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;-- <span class="id" title="tactic">right</span>¬.<br/>
&nbsp;&nbsp;- <span class="id" title="var">apply_fresh</span>× <a class="idref" href="GMu.Definitions.html#wft_all"><span class="id" title="constructor">wft_all</span></a> <span class="id" title="keyword">as</span> <span class="id" title="var">Y</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">lets</span>: <a class="idref" href="GMu.Regularity.html#wft_type"><span class="id" title="lemma">wft_type</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span>× <a class="idref" href="GMu.InfrastructureSubst.html#subst_tt_open_tt_var"><span class="id" title="lemma">subst_tt_open_tt_var</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">lets</span>× <span class="id" title="var">IH</span>: <span class="id" title="var">H0</span> <span class="id" title="var">Y</span> (<span class="id" title="var">D2</span> <a class="idref" href="GMu.Definitions.html#3ca84bd817dd2b1e2f0f693cd9400702"><span class="id" title="notation">|,|</span></a> <a class="idref" href="GMu.Definitions.html#b5ab1b23d5b56035820660ded1af9bea"><span class="id" title="notation">[</span></a><a class="idref" href="GMu.Definitions.html#tc_var"><span class="id" title="constructor">tc_var</span></a> <span class="id" title="var">Y</span><a class="idref" href="GMu.Definitions.html#b5ab1b23d5b56035820660ded1af9bea"><span class="id" title="notation">]*</span></a>).<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">apply</span>× <a class="idref" href="GMu.Definitions.html#wft_gadt"><span class="id" title="constructor">wft_gadt</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="var">introv</span> <span class="id" title="var">Tin</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.0/stdlib//Coq.Lists.List.html#in_map_iff"><span class="id" title="lemma">List.in_map_iff</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">Tin</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">Tin</span> <span class="id" title="keyword">as</span> [<span class="id" title="var">U</span> [? <span class="id" title="var">Tin</span>]]; <span class="id" title="tactic">subst</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span>× <span class="id" title="var">H0</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="tactic">apply</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.0/stdlib//Coq.Lists.List.html#map_length"><span class="id" title="lemma">List.map_length</span></a>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="okt_push_fresh" class="idref" href="#okt_push_fresh"><span class="id" title="lemma">okt_push_fresh</span></a> : <span class="id" title="keyword">∀</span> <a id="f850f5b668e843742fbd7a0a15104996" class="idref" href="#f850f5b668e843742fbd7a0a15104996"><span class="id" title="binder">Σ</span></a> <a id="26b7b0f98e10444cd403560abfab14e2" class="idref" href="#26b7b0f98e10444cd403560abfab14e2"><span class="id" title="binder">Δ</span></a> <a id="E:48" class="idref" href="#E:48"><span class="id" title="binder">E</span></a> <a id="x:49" class="idref" href="#x:49"><span class="id" title="binder">x</span></a> <a id="vk:50" class="idref" href="#vk:50"><span class="id" title="binder">vk</span></a> <a id="T:51" class="idref" href="#T:51"><span class="id" title="binder">T</span></a>,<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="GMu.Definitions.html#okt"><span class="id" title="inductive">okt</span></a> <a class="idref" href="GMu.Regularity2.html#f850f5b668e843742fbd7a0a15104996"><span class="id" title="variable">Σ</span></a> <a class="idref" href="GMu.Regularity2.html#26b7b0f98e10444cd403560abfab14e2"><span class="id" title="variable">Δ</span></a> (<a class="idref" href="GMu.Regularity2.html#E:48"><span class="id" title="variable">E</span></a> <span class="id" title="notation">&amp;</span> <a class="idref" href="GMu.Regularity2.html#x:49"><span class="id" title="variable">x</span></a> <span class="id" title="notation">¬</span> <a class="idref" href="GMu.Definitions.html#bind_var"><span class="id" title="constructor">bind_var</span></a> <a class="idref" href="GMu.Regularity2.html#vk:50"><span class="id" title="variable">vk</span></a> <a class="idref" href="GMu.Regularity2.html#T:51"><span class="id" title="variable">T</span></a>) <a class="idref" href="http://coq.inria.fr/distrib/V8.13.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="GMu.Regularity2.html#x:49"><span class="id" title="variable">x</span></a> <span class="id" title="notation">#</span> <a class="idref" href="GMu.Regularity2.html#E:48"><span class="id" title="variable">E</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.0/stdlib//Coq.Init.Logic.html#ba2b0e492d2b4675a0acf3ea92aabadd"><span class="id" title="notation">∧</span></a> <a class="idref" href="GMu.Regularity2.html#x:49"><span class="id" title="variable">x</span></a> <span class="id" title="notation">\</span><span class="id" title="notation">notin</span> <a class="idref" href="GMu.Definitions.html#e1e06a37011ebd9f9e861e05c79f4e29"><span class="id" title="definition">domΔ</span></a> <a class="idref" href="GMu.Regularity2.html#26b7b0f98e10444cd403560abfab14e2"><span class="id" title="variable">Δ</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">induction</span> <span class="id" title="var">E</span> <span class="id" title="keyword">using</span> <span class="id" title="lemma">env_ind</span>; <span class="id" title="var">introv</span> <span class="id" title="var">OK</span>.<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">split</span>¬.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">inversions</span> <span class="id" title="var">OK</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="var">false</span>× <span class="id" title="lemma">empty_push_inv</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="var">lets</span> [? [<span class="id" title="var">EQ</span> ?]]: <span class="id" title="lemma">eq_push_inv</span> <span class="id" title="var">H</span>; <span class="id" title="var">inversions</span> <span class="id" title="var">EQ</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">auto</span>.<br/>
&nbsp;&nbsp;- <span class="id" title="var">inversions</span> <span class="id" title="var">OK</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="var">false</span>× <span class="id" title="lemma">empty_push_inv</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="var">lets</span> [? [<span class="id" title="var">EQ</span> ?]]: <span class="id" title="lemma">eq_push_inv</span> <span class="id" title="var">H</span>; <span class="id" title="var">inversions</span> <span class="id" title="var">EQ</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">split</span>¬.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="comment">(*&nbsp;TODO&nbsp;maybe&nbsp;merge&nbsp;with&nbsp;the&nbsp;origl&nbsp;one&nbsp;*)</span><br/>
<span class="id" title="keyword">Lemma</span> <a id="okt_is_wft_2" class="idref" href="#okt_is_wft_2"><span class="id" title="lemma">okt_is_wft_2</span></a> : <span class="id" title="keyword">∀</span> <a id="2419f67097a80bf54d8cab0e41eb773a" class="idref" href="#2419f67097a80bf54d8cab0e41eb773a"><span class="id" title="binder">Σ</span></a> <a id="da31ff7e417ac00e154030fa0e1f19ce" class="idref" href="#da31ff7e417ac00e154030fa0e1f19ce"><span class="id" title="binder">Δ</span></a> <a id="E:54" class="idref" href="#E:54"><span class="id" title="binder">E</span></a> <a id="F:55" class="idref" href="#F:55"><span class="id" title="binder">F</span></a> <a id="x:56" class="idref" href="#x:56"><span class="id" title="binder">x</span></a> <a id="vk:57" class="idref" href="#vk:57"><span class="id" title="binder">vk</span></a> <a id="T:58" class="idref" href="#T:58"><span class="id" title="binder">T</span></a>,<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="GMu.Definitions.html#okt"><span class="id" title="inductive">okt</span></a> <a class="idref" href="GMu.Regularity2.html#2419f67097a80bf54d8cab0e41eb773a"><span class="id" title="variable">Σ</span></a> <a class="idref" href="GMu.Regularity2.html#da31ff7e417ac00e154030fa0e1f19ce"><span class="id" title="variable">Δ</span></a> (<a class="idref" href="GMu.Regularity2.html#E:54"><span class="id" title="variable">E</span></a> <span class="id" title="notation">&amp;</span> <a class="idref" href="GMu.Regularity2.html#x:56"><span class="id" title="variable">x</span></a> <span class="id" title="notation">¬</span> <a class="idref" href="GMu.Definitions.html#bind_var"><span class="id" title="constructor">bind_var</span></a> <a class="idref" href="GMu.Regularity2.html#vk:57"><span class="id" title="variable">vk</span></a> <a class="idref" href="GMu.Regularity2.html#T:58"><span class="id" title="variable">T</span></a> <span class="id" title="notation">&amp;</span> <a class="idref" href="GMu.Regularity2.html#F:55"><span class="id" title="variable">F</span></a>) <a class="idref" href="http://coq.inria.fr/distrib/V8.13.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <a class="idref" href="GMu.Definitions.html#wft"><span class="id" title="inductive">wft</span></a> <a class="idref" href="GMu.Regularity2.html#2419f67097a80bf54d8cab0e41eb773a"><span class="id" title="variable">Σ</span></a> <a class="idref" href="GMu.Regularity2.html#da31ff7e417ac00e154030fa0e1f19ce"><span class="id" title="variable">Δ</span></a> <a class="idref" href="GMu.Regularity2.html#T:58"><span class="id" title="variable">T</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">induction</span> <span class="id" title="var">F</span> <span class="id" title="keyword">using</span> <span class="id" title="lemma">env_ind</span>; <span class="id" title="var">introv</span> <span class="id" title="var">OK</span>.<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">rewrite</span> <span class="id" title="lemma">concat_empty_r</span> <span class="id" title="tactic">in</span> <span class="id" title="var">OK</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span>× <a class="idref" href="GMu.Regularity.html#okt_is_wft"><span class="id" title="lemma">okt_is_wft</span></a>.<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">rewrite</span> <span class="id" title="lemma">concat_assoc</span> <span class="id" title="tactic">in</span> <span class="id" title="var">OK</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">inversions</span> <span class="id" title="var">OK</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="var">false</span>× <span class="id" title="lemma">empty_push_inv</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="var">lets</span> (?&amp;?&amp;?): <span class="id" title="lemma">eq_push_inv</span> <span class="id" title="var">H</span>. <span class="id" title="tactic">subst</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span>× <span class="id" title="var">IHF</span>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="subst_td_eqs" class="idref" href="#subst_td_eqs"><span class="id" title="lemma">subst_td_eqs</span></a> : <span class="id" title="keyword">∀</span> <a id="Z:59" class="idref" href="#Z:59"><span class="id" title="binder">Z</span></a> <a id="P:60" class="idref" href="#P:60"><span class="id" title="binder">P</span></a> <a id="Ts:61" class="idref" href="#Ts:61"><span class="id" title="binder">Ts</span></a> <a id="Us:62" class="idref" href="#Us:62"><span class="id" title="binder">Us</span></a>,<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/V8.13.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">(</span></a><span class="id" title="keyword">∀</span> <a id="U:63" class="idref" href="#U:63"><span class="id" title="binder">U</span></a>, <a class="idref" href="http://coq.inria.fr/distrib/V8.13.0/stdlib//Coq.Lists.List.html#In"><span class="id" title="definition">List.In</span></a> <a class="idref" href="GMu.Regularity2.html#U:63"><span class="id" title="variable">U</span></a> <a class="idref" href="GMu.Regularity2.html#Us:62"><span class="id" title="variable">Us</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <a class="idref" href="GMu.Regularity2.html#Z:59"><span class="id" title="variable">Z</span></a> <span class="id" title="notation">\</span><span class="id" title="notation">notin</span> <a class="idref" href="GMu.Definitions.html#fv_typ"><span class="id" title="definition">fv_typ</span></a> <a class="idref" href="GMu.Regularity2.html#U:63"><span class="id" title="variable">U</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.13.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">)</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/V8.13.0/stdlib//Coq.Lists.List.html#map"><span class="id" title="definition">List.map</span></a> (<a class="idref" href="GMu.Definitions.html#subst_td"><span class="id" title="definition">subst_td</span></a> <a class="idref" href="GMu.Regularity2.html#Z:59"><span class="id" title="variable">Z</span></a> <a class="idref" href="GMu.Regularity2.html#P:60"><span class="id" title="variable">P</span></a>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<a class="idref" href="GMu.Definitions.html#equations_from_lists"><span class="id" title="definition">equations_from_lists</span></a> <a class="idref" href="GMu.Regularity2.html#Ts:61"><span class="id" title="variable">Ts</span></a> <a class="idref" href="GMu.Regularity2.html#Us:62"><span class="id" title="variable">Us</span></a>) <a class="idref" href="http://coq.inria.fr/distrib/V8.13.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="GMu.Definitions.html#equations_from_lists"><span class="id" title="definition">equations_from_lists</span></a> (<a class="idref" href="http://coq.inria.fr/distrib/V8.13.0/stdlib//Coq.Lists.List.html#map"><span class="id" title="definition">List.map</span></a> (<a class="idref" href="GMu.Definitions.html#subst_tt"><span class="id" title="definition">subst_tt</span></a> <a class="idref" href="GMu.Regularity2.html#Z:59"><span class="id" title="variable">Z</span></a> <a class="idref" href="GMu.Regularity2.html#P:60"><span class="id" title="variable">P</span></a>) <a class="idref" href="GMu.Regularity2.html#Ts:61"><span class="id" title="variable">Ts</span></a>) <a class="idref" href="GMu.Regularity2.html#Us:62"><span class="id" title="variable">Us</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">induction</span> <span class="id" title="var">Ts</span> <span class="id" title="keyword">as</span> [| <span class="id" title="var">T</span> <span class="id" title="var">Ts</span>]; <span class="id" title="tactic">destruct</span> <span class="id" title="var">Us</span> <span class="id" title="keyword">as</span> [| <span class="id" title="var">U</span> <span class="id" title="var">Us</span>];<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">introv</span> <span class="id" title="var">ZU</span>; <span class="id" title="var">cbn</span>; <span class="id" title="tactic">auto</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">repeat</span> <span class="id" title="tactic">f_equal</span>.<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">rewrite</span>¬ <a class="idref" href="GMu.InfrastructureSubst.html#subst_tt_fresh"><span class="id" title="lemma">subst_tt_fresh</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">auto</span> <span class="id" title="keyword">with</span> <span class="id" title="var">listin</span>.<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">apply</span> <span class="id" title="var">IHTs</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">auto</span> <span class="id" title="keyword">with</span> <span class="id" title="var">listin</span>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="okt_through_subst_tdtb" class="idref" href="#okt_through_subst_tdtb"><span class="id" title="lemma">okt_through_subst_tdtb</span></a> : <span class="id" title="keyword">∀</span> <a id="cc2b65564304e5a54a9642e62d8a48fa" class="idref" href="#cc2b65564304e5a54a9642e62d8a48fa"><span class="id" title="binder">Σ</span></a> <a id="D1:65" class="idref" href="#D1:65"><span class="id" title="binder">D1</span></a> <a id="D2:66" class="idref" href="#D2:66"><span class="id" title="binder">D2</span></a> <a id="E:67" class="idref" href="#E:67"><span class="id" title="binder">E</span></a> <a id="Z:68" class="idref" href="#Z:68"><span class="id" title="binder">Z</span></a> <a id="P:69" class="idref" href="#P:69"><span class="id" title="binder">P</span></a>,<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="GMu.Definitions.html#okt"><span class="id" title="inductive">okt</span></a> <a class="idref" href="GMu.Regularity2.html#cc2b65564304e5a54a9642e62d8a48fa"><span class="id" title="variable">Σ</span></a> (<a class="idref" href="GMu.Regularity2.html#D1:65"><span class="id" title="variable">D1</span></a> <a class="idref" href="GMu.Definitions.html#3ca84bd817dd2b1e2f0f693cd9400702"><span class="id" title="notation">|,|</span></a> <a class="idref" href="GMu.Definitions.html#b5ab1b23d5b56035820660ded1af9bea"><span class="id" title="notation">[</span></a><a class="idref" href="GMu.Definitions.html#tc_var"><span class="id" title="constructor">tc_var</span></a> <a class="idref" href="GMu.Regularity2.html#Z:68"><span class="id" title="variable">Z</span></a><a class="idref" href="GMu.Definitions.html#b5ab1b23d5b56035820660ded1af9bea"><span class="id" title="notation">]*</span></a> <a class="idref" href="GMu.Definitions.html#3ca84bd817dd2b1e2f0f693cd9400702"><span class="id" title="notation">|,|</span></a> <a class="idref" href="GMu.Regularity2.html#D2:66"><span class="id" title="variable">D2</span></a>) <a class="idref" href="GMu.Regularity2.html#E:67"><span class="id" title="variable">E</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="GMu.Definitions.html#wft"><span class="id" title="inductive">wft</span></a> <a class="idref" href="GMu.Regularity2.html#cc2b65564304e5a54a9642e62d8a48fa"><span class="id" title="variable">Σ</span></a> <a class="idref" href="GMu.Regularity2.html#D1:65"><span class="id" title="variable">D1</span></a> <a class="idref" href="GMu.Regularity2.html#P:69"><span class="id" title="variable">P</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="GMu.Definitions.html#okt"><span class="id" title="inductive">okt</span></a> <a class="idref" href="GMu.Regularity2.html#cc2b65564304e5a54a9642e62d8a48fa"><span class="id" title="variable">Σ</span></a> (<a class="idref" href="GMu.Regularity2.html#D1:65"><span class="id" title="variable">D1</span></a> <a class="idref" href="GMu.Definitions.html#3ca84bd817dd2b1e2f0f693cd9400702"><span class="id" title="notation">|,|</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.0/stdlib//Coq.Lists.List.html#map"><span class="id" title="definition">List.map</span></a> (<a class="idref" href="GMu.Definitions.html#subst_td"><span class="id" title="definition">subst_td</span></a> <a class="idref" href="GMu.Regularity2.html#Z:68"><span class="id" title="variable">Z</span></a> <a class="idref" href="GMu.Regularity2.html#P:69"><span class="id" title="variable">P</span></a>) <a class="idref" href="GMu.Regularity2.html#D2:66"><span class="id" title="variable">D2</span></a>) (<span class="id" title="axiom">map</span> (<a class="idref" href="GMu.Definitions.html#subst_tb"><span class="id" title="definition">subst_tb</span></a> <a class="idref" href="GMu.Regularity2.html#Z:68"><span class="id" title="variable">Z</span></a> <a class="idref" href="GMu.Regularity2.html#P:69"><span class="id" title="variable">P</span></a>) <a class="idref" href="GMu.Regularity2.html#E:67"><span class="id" title="variable">E</span></a>).<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">induction</span> <span class="id" title="var">E</span> <span class="id" title="keyword">using</span> <span class="id" title="lemma">env_ind</span>; <span class="id" title="var">introv</span> <span class="id" title="var">OKT</span> <span class="id" title="var">WFT</span>.<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">rewrite</span> <span class="id" title="lemma">map_empty</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">constructor</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span>× <a class="idref" href="GMu.Regularity.html#okt_implies_okgadt"><span class="id" title="lemma">okt_implies_okgadt</span></a>.<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">rewrite</span> <span class="id" title="lemma">map_push</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">v</span> <span class="id" title="keyword">as</span> [<span class="id" title="var">T</span>]; <span class="id" title="var">cbn</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">lets</span> [? ?]: <a class="idref" href="GMu.Regularity2.html#okt_push_fresh"><span class="id" title="lemma">okt_push_fresh</span></a> <span class="id" title="var">OKT</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">constructor</span>; <span class="id" title="tactic">auto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="tactic">apply</span>× <span class="id" title="var">IHE</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="tactic">apply</span>× <a class="idref" href="GMu.Regularity2.html#wft_subst_tb_3"><span class="id" title="lemma">wft_subst_tb_3</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span>× <a class="idref" href="GMu.Regularity.html#okt_is_wft"><span class="id" title="lemma">okt_is_wft</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="tactic">repeat</span> <span class="id" title="tactic">rewrite</span> <a class="idref" href="GMu.InfrastructureFV.html#e986378a2a44bd3bcdda6d5b28752f62"><span class="id" title="lemma">notin_domΔ_eq</span></a> <span class="id" title="tactic">in</span> ×.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">H0</span> <span class="id" title="keyword">as</span> [[? ?] ?].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">split</span>¬.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span>¬ <a class="idref" href="GMu.InfrastructureFV.html#notin_domDelta_subst_td"><span class="id" title="lemma">notin_domDelta_subst_td</span></a>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="okt_replace_typ" class="idref" href="#okt_replace_typ"><span class="id" title="lemma">okt_replace_typ</span></a> : <span class="id" title="keyword">∀</span> <a id="ac713e2c58df9c0a01be9ad130d8ea1a" class="idref" href="#ac713e2c58df9c0a01be9ad130d8ea1a"><span class="id" title="binder">Σ</span></a> <a id="93d7c3fe8fde73ab9297f9d23edc4b8c" class="idref" href="#93d7c3fe8fde73ab9297f9d23edc4b8c"><span class="id" title="binder">Δ</span></a> <a id="E:72" class="idref" href="#E:72"><span class="id" title="binder">E</span></a> <a id="F:73" class="idref" href="#F:73"><span class="id" title="binder">F</span></a> <a id="x:74" class="idref" href="#x:74"><span class="id" title="binder">x</span></a> <a id="vk:75" class="idref" href="#vk:75"><span class="id" title="binder">vk</span></a> <a id="T1:76" class="idref" href="#T1:76"><span class="id" title="binder">T1</span></a> <a id="T2:77" class="idref" href="#T2:77"><span class="id" title="binder">T2</span></a>,<br/>
&nbsp;&nbsp;<a class="idref" href="GMu.Definitions.html#okt"><span class="id" title="inductive">okt</span></a> <a class="idref" href="GMu.Regularity2.html#ac713e2c58df9c0a01be9ad130d8ea1a"><span class="id" title="variable">Σ</span></a> <a class="idref" href="GMu.Regularity2.html#93d7c3fe8fde73ab9297f9d23edc4b8c"><span class="id" title="variable">Δ</span></a> (<a class="idref" href="GMu.Regularity2.html#E:72"><span class="id" title="variable">E</span></a> <span class="id" title="notation">&amp;</span> <a class="idref" href="GMu.Regularity2.html#x:74"><span class="id" title="variable">x</span></a> <span class="id" title="notation">¬</span> <a class="idref" href="GMu.Definitions.html#bind_var"><span class="id" title="constructor">bind_var</span></a> <a class="idref" href="GMu.Regularity2.html#vk:75"><span class="id" title="variable">vk</span></a> <a class="idref" href="GMu.Regularity2.html#T1:76"><span class="id" title="variable">T1</span></a> <span class="id" title="notation">&amp;</span> <a class="idref" href="GMu.Regularity2.html#F:73"><span class="id" title="variable">F</span></a>) <a class="idref" href="http://coq.inria.fr/distrib/V8.13.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="GMu.Definitions.html#wft"><span class="id" title="inductive">wft</span></a> <a class="idref" href="GMu.Regularity2.html#ac713e2c58df9c0a01be9ad130d8ea1a"><span class="id" title="variable">Σ</span></a> <a class="idref" href="GMu.Regularity2.html#93d7c3fe8fde73ab9297f9d23edc4b8c"><span class="id" title="variable">Δ</span></a> <a class="idref" href="GMu.Regularity2.html#T2:77"><span class="id" title="variable">T2</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="GMu.Definitions.html#okt"><span class="id" title="inductive">okt</span></a> <a class="idref" href="GMu.Regularity2.html#ac713e2c58df9c0a01be9ad130d8ea1a"><span class="id" title="variable">Σ</span></a> <a class="idref" href="GMu.Regularity2.html#93d7c3fe8fde73ab9297f9d23edc4b8c"><span class="id" title="variable">Δ</span></a> (<a class="idref" href="GMu.Regularity2.html#E:72"><span class="id" title="variable">E</span></a> <span class="id" title="notation">&amp;</span> <a class="idref" href="GMu.Regularity2.html#x:74"><span class="id" title="variable">x</span></a> <span class="id" title="notation">¬</span> <a class="idref" href="GMu.Definitions.html#bind_var"><span class="id" title="constructor">bind_var</span></a> <a class="idref" href="GMu.Regularity2.html#vk:75"><span class="id" title="variable">vk</span></a> <a class="idref" href="GMu.Regularity2.html#T2:77"><span class="id" title="variable">T2</span></a> <span class="id" title="notation">&amp;</span> <a class="idref" href="GMu.Regularity2.html#F:73"><span class="id" title="variable">F</span></a>).<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">induction</span> <span class="id" title="var">F</span> <span class="id" title="keyword">using</span> <span class="id" title="lemma">env_ind</span>; <span class="id" title="var">introv</span> <span class="id" title="var">OK</span> <span class="id" title="var">WFT</span>.<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">rewrite</span> <span class="id" title="lemma">concat_empty_r</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <span class="id" title="lemma">concat_empty_r</span> <span class="id" title="tactic">in</span> <span class="id" title="var">OK</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">inversions</span> <span class="id" title="var">OK</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="var">false</span>× <span class="id" title="lemma">empty_push_inv</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="tactic">apply</span> <span class="id" title="lemma">eq_push_inv</span> <span class="id" title="tactic">in</span> <span class="id" title="var">H</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">H</span> <span class="id" title="keyword">as</span> [? [<span class="id" title="var">HS</span> ?]]; <span class="id" title="var">inversions</span> <span class="id" title="var">HS</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">constructor</span>; <span class="id" title="tactic">auto</span>.<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">rewrite</span> <span class="id" title="lemma">concat_assoc</span> <span class="id" title="tactic">in</span> ×.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">inversions</span> <span class="id" title="var">OK</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="var">false</span>× <span class="id" title="lemma">empty_push_inv</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="tactic">apply</span> <span class="id" title="lemma">eq_push_inv</span> <span class="id" title="tactic">in</span> <span class="id" title="var">H</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">H</span> <span class="id" title="keyword">as</span> [? [<span class="id" title="var">HS</span> ?]]. <span class="id" title="var">inversions</span> <span class="id" title="var">HS</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">constructor</span>; <span class="id" title="tactic">auto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span>× <span class="id" title="var">IHF</span>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="okt_strengthen_delta_eq" class="idref" href="#okt_strengthen_delta_eq"><span class="id" title="lemma">okt_strengthen_delta_eq</span></a> : <span class="id" title="keyword">∀</span> <a id="2639e8676b80946ed652087283a1b245" class="idref" href="#2639e8676b80946ed652087283a1b245"><span class="id" title="binder">Σ</span></a> <a id="D1:79" class="idref" href="#D1:79"><span class="id" title="binder">D1</span></a> <a id="D2:80" class="idref" href="#D2:80"><span class="id" title="binder">D2</span></a> <a id="E:81" class="idref" href="#E:81"><span class="id" title="binder">E</span></a> <a id="eq:82" class="idref" href="#eq:82"><span class="id" title="binder">eq</span></a>,<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="GMu.Definitions.html#okt"><span class="id" title="inductive">okt</span></a> <a class="idref" href="GMu.Regularity2.html#2639e8676b80946ed652087283a1b245"><span class="id" title="variable">Σ</span></a> (<a class="idref" href="GMu.Regularity2.html#D1:79"><span class="id" title="variable">D1</span></a> <a class="idref" href="GMu.Definitions.html#3ca84bd817dd2b1e2f0f693cd9400702"><span class="id" title="notation">|,|</span></a> <a class="idref" href="GMu.Definitions.html#b5ab1b23d5b56035820660ded1af9bea"><span class="id" title="notation">[</span></a><a class="idref" href="GMu.Definitions.html#tc_eq"><span class="id" title="constructor">tc_eq</span></a> <a class="idref" href="GMu.Regularity2.html#eq:82"><span class="id" title="variable">eq</span></a><a class="idref" href="GMu.Definitions.html#b5ab1b23d5b56035820660ded1af9bea"><span class="id" title="notation">]*</span></a> <a class="idref" href="GMu.Definitions.html#3ca84bd817dd2b1e2f0f693cd9400702"><span class="id" title="notation">|,|</span></a> <a class="idref" href="GMu.Regularity2.html#D2:80"><span class="id" title="variable">D2</span></a>) <a class="idref" href="GMu.Regularity2.html#E:81"><span class="id" title="variable">E</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <a class="idref" href="GMu.Definitions.html#okt"><span class="id" title="inductive">okt</span></a> <a class="idref" href="GMu.Regularity2.html#2639e8676b80946ed652087283a1b245"><span class="id" title="variable">Σ</span></a> (<a class="idref" href="GMu.Regularity2.html#D1:79"><span class="id" title="variable">D1</span></a> <a class="idref" href="GMu.Definitions.html#3ca84bd817dd2b1e2f0f693cd9400702"><span class="id" title="notation">|,|</span></a> <a class="idref" href="GMu.Regularity2.html#D2:80"><span class="id" title="variable">D2</span></a>) <a class="idref" href="GMu.Regularity2.html#E:81"><span class="id" title="variable">E</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="var">introv</span> <span class="id" title="var">OK</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">induction</span> <span class="id" title="var">E</span> <span class="id" title="keyword">using</span> <span class="id" title="lemma">env_ind</span>.<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">constructor</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">lets</span>*: <a class="idref" href="GMu.Regularity.html#okt_implies_okgadt"><span class="id" title="lemma">okt_implies_okgadt</span></a>.<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">destruct</span> <span class="id" title="var">v</span> <span class="id" title="keyword">as</span> [<span class="id" title="var">T</span>].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">inversions</span> <span class="id" title="var">OK</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="var">lets</span>*: <span class="id" title="lemma">empty_push_inv</span> <span class="id" title="var">H</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="var">lets</span> [? [? ?]]: <span class="id" title="lemma">eq_push_inv</span> <span class="id" title="var">H</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">match</span> <span class="id" title="keyword">goal</span> <span class="id" title="keyword">with</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| <span class="id" title="var">H</span>: <a class="idref" href="GMu.Definitions.html#bind_var"><span class="id" title="constructor">bind_var</span></a> ?<span class="id" title="var">vk</span> ?<span class="id" title="var">A</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="GMu.Definitions.html#bind_var"><span class="id" title="constructor">bind_var</span></a> ?<span class="id" title="var">vk2</span> ?<span class="id" title="var">B</span> |- <span class="id" title="var">_</span> ⇒ <span class="id" title="var">inversions</span> <span class="id" title="var">H</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">end</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">constructor</span>; <span class="id" title="tactic">auto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;× <span class="id" title="tactic">apply</span>× <a class="idref" href="GMu.Regularity.html#wft_strengthen_equation"><span class="id" title="lemma">wft_strengthen_equation</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;× <span class="id" title="tactic">rewrite</span> <a class="idref" href="GMu.InfrastructureFV.html#e986378a2a44bd3bcdda6d5b28752f62"><span class="id" title="lemma">notin_domΔ_eq</span></a> <span class="id" title="tactic">in</span> *; <span class="id" title="tactic">auto</span>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>
</div>
</div>
<div id="footer">
  Generated by <a href="http://coq.inria.fr/">coqdoc</a> and improved with <a href="https://github.com/tebbi/coqdocjs">CoqdocJS</a>
</div>
</div>
</body>

</html>
