<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">

<head>
<meta http-equiv="Content-Type" content="text/html;charset=utf-8" />
<link href="coqdoc.css" rel="stylesheet" type="text/css" />
<link href="coqdocjs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="config.js"></script>
<script type="text/javascript" src="coqdocjs.js"></script>
</head>

<body onload="document.getElementById('content').focus()">
  <div id="header">
    <span class="left">
      <span class="modulename"> <script> document.write(document.title) </script> </span>
    </span>

    <span class="button" id="toggle-proofs"></span>

    <span class="right">
      <a href="../">Project Page</a>
      <a href="./indexpage.html"> Index </a>
      <a href="./toc.html"> Table of Contents </a>
    </span>
</div>
    <div id="content" tabindex="-1" onblur="document.getElementById('content').focus()">
    <div id="main">
<h1 class="libtitle">GMu.InfrastructureOpen</h1>

<div class="code">
<span class="id" title="keyword">Set Implicit Arguments</span>.<br/>
<span class="id" title="keyword">Require</span> <span class="id" title="keyword">Import</span> <a class="idref" href="GMu.Prelude.html#"><span class="id" title="library">Prelude</span></a>.<br/>
<span class="id" title="keyword">Require</span> <span class="id" title="keyword">Import</span> <a class="idref" href="GMu.InfrastructureFV.html#"><span class="id" title="library">InfrastructureFV</span></a>.<br/>
<span class="id" title="keyword">Require</span> <span class="id" title="keyword">Import</span> <span class="id" title="library">TLC.LibLogic</span>.<br/>
<span class="id" title="keyword">Require</span> <span class="id" title="keyword">Import</span> <span class="id" title="library">TLC.LibLN</span>.<br/>
<span class="comment">(*&nbsp;large&nbsp;portions&nbsp;of&nbsp;this&nbsp;are&nbsp;based&nbsp;on&nbsp;the&nbsp;TLC&nbsp;formalisation&nbsp;of&nbsp;FSub&nbsp;*)</span><br/>

<br/>
</div>

<div class="doc">
<a id="lab12"></a><h2 class="section">Preserving size</h2>

</div>
<div class="code">
<span class="id" title="keyword">Lemma</span> <a id="open_ee_var_preserves_size" class="idref" href="#open_ee_var_preserves_size"><span class="id" title="lemma">open_ee_var_preserves_size</span></a> : <span class="id" title="keyword">∀</span> <a id="e:1" class="idref" href="#e:1"><span class="id" title="binder">e</span></a> <a id="x:2" class="idref" href="#x:2"><span class="id" title="binder">x</span></a> <a id="n:3" class="idref" href="#n:3"><span class="id" title="binder">n</span></a> <a id="vk:4" class="idref" href="#vk:4"><span class="id" title="binder">vk</span></a>,<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="GMu.Definitions.html#trm_size"><span class="id" title="definition">trm_size</span></a> <a class="idref" href="GMu.InfrastructureOpen.html#e:1"><span class="id" title="variable">e</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="GMu.Definitions.html#trm_size"><span class="id" title="definition">trm_size</span></a> (<a class="idref" href="GMu.Definitions.html#open_ee_rec"><span class="id" title="definition">open_ee_rec</span></a> <a class="idref" href="GMu.InfrastructureOpen.html#n:3"><span class="id" title="variable">n</span></a> (<a class="idref" href="GMu.Definitions.html#trm_fvar"><span class="id" title="constructor">trm_fvar</span></a> <a class="idref" href="GMu.InfrastructureOpen.html#vk:4"><span class="id" title="variable">vk</span></a> <a class="idref" href="GMu.InfrastructureOpen.html#x:2"><span class="id" title="variable">x</span></a>) <a class="idref" href="GMu.InfrastructureOpen.html#e:1"><span class="id" title="variable">e</span></a>).<br/>
&nbsp;&nbsp;<span class="id" title="tactic">induction</span> <span class="id" title="var">e</span> <span class="id" title="keyword">using</span> <a class="idref" href="GMu.Definitions.html#trm_ind'"><span class="id" title="definition">trm_ind'</span></a>; <span class="id" title="var">introv</span>; <span class="id" title="tactic">try</span> <span class="id" title="tactic">solve</span> [<span class="id" title="var">cbn</span>; <span class="id" title="tactic">try</span> <span class="id" title="var">case_if</span>; <span class="id" title="var">cbn</span>; <span class="id" title="tactic">eauto</span>].<br/>
&nbsp;&nbsp;<span class="id" title="var">cbn</span>.<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">rewrite</span> &lt;- <span class="id" title="var">IHe</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">f_equal</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">f_equal</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">unfold</span> <a class="idref" href="GMu.Definitions.html#map_clause_trms"><span class="id" title="definition">map_clause_trms</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.0/stdlib//Coq.Lists.List.html#map_map"><span class="id" title="lemma">List.map_map</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.0/stdlib//Coq.Lists.List.html#map_ext_in"><span class="id" title="lemma">List.map_ext_in</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intros</span> <span class="id" title="var">cl</span> <span class="id" title="var">clin</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.0/stdlib//Coq.Lists.List.html#Forall_forall"><span class="id" title="lemma">List.Forall_forall</span></a> <span class="id" title="tactic">in</span> ×.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">lets</span>× <span class="id" title="var">Heq</span>: <span class="id" title="var">H</span> <span class="id" title="var">cl</span> <span class="id" title="var">clin</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">cl</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">unfold</span> <a class="idref" href="GMu.Definitions.html#clauseTerm"><span class="id" title="definition">clauseTerm</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span>× <span class="id" title="var">Heq</span>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="open_te_var_preserves_size" class="idref" href="#open_te_var_preserves_size"><span class="id" title="lemma">open_te_var_preserves_size</span></a> : <span class="id" title="keyword">∀</span> <a id="e:5" class="idref" href="#e:5"><span class="id" title="binder">e</span></a> <a id="x:6" class="idref" href="#x:6"><span class="id" title="binder">x</span></a> <a id="n:7" class="idref" href="#n:7"><span class="id" title="binder">n</span></a>,<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="GMu.Definitions.html#trm_size"><span class="id" title="definition">trm_size</span></a> <a class="idref" href="GMu.InfrastructureOpen.html#e:5"><span class="id" title="variable">e</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="GMu.Definitions.html#trm_size"><span class="id" title="definition">trm_size</span></a> (<a class="idref" href="GMu.Definitions.html#open_te_rec"><span class="id" title="definition">open_te_rec</span></a> <a class="idref" href="GMu.InfrastructureOpen.html#n:7"><span class="id" title="variable">n</span></a> (<a class="idref" href="GMu.Definitions.html#typ_fvar"><span class="id" title="constructor">typ_fvar</span></a> <a class="idref" href="GMu.InfrastructureOpen.html#x:6"><span class="id" title="variable">x</span></a>) <a class="idref" href="GMu.InfrastructureOpen.html#e:5"><span class="id" title="variable">e</span></a>).<br/>
&nbsp;&nbsp;<span class="id" title="tactic">induction</span> <span class="id" title="var">e</span> <span class="id" title="keyword">using</span> <a class="idref" href="GMu.Definitions.html#trm_ind'"><span class="id" title="definition">trm_ind'</span></a>; <span class="id" title="var">introv</span>; <span class="id" title="tactic">try</span> <span class="id" title="tactic">solve</span> [<span class="id" title="var">cbn</span>; <span class="id" title="tactic">try</span> <span class="id" title="var">case_if</span>; <span class="id" title="var">cbn</span>; <span class="id" title="tactic">eauto</span>].<br/>
&nbsp;&nbsp;- <span class="id" title="var">cbn</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> &lt;- <span class="id" title="var">IHe</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">f_equal</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">f_equal</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">unfold</span> <a class="idref" href="GMu.Definitions.html#map_clause_trms"><span class="id" title="definition">map_clause_trms</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.0/stdlib//Coq.Lists.List.html#map_map"><span class="id" title="lemma">List.map_map</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.0/stdlib//Coq.Lists.List.html#map_ext_in"><span class="id" title="lemma">List.map_ext_in</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intros</span> <span class="id" title="var">cl</span> <span class="id" title="var">clin</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.0/stdlib//Coq.Lists.List.html#Forall_forall"><span class="id" title="lemma">List.Forall_forall</span></a> <span class="id" title="tactic">in</span> ×.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">lets</span>× <span class="id" title="var">Heq</span>: <span class="id" title="var">H</span> <span class="id" title="var">cl</span> <span class="id" title="var">clin</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">cl</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">unfold</span> <a class="idref" href="GMu.Definitions.html#clauseTerm"><span class="id" title="definition">clauseTerm</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span>× <span class="id" title="var">Heq</span>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="open_tt_var_preserves_size" class="idref" href="#open_tt_var_preserves_size"><span class="id" title="lemma">open_tt_var_preserves_size</span></a> : <span class="id" title="keyword">∀</span> <a id="T:8" class="idref" href="#T:8"><span class="id" title="binder">T</span></a> <a id="X:9" class="idref" href="#X:9"><span class="id" title="binder">X</span></a> <a id="n:10" class="idref" href="#n:10"><span class="id" title="binder">n</span></a>,<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="GMu.Definitions.html#typ_size"><span class="id" title="definition">typ_size</span></a> <a class="idref" href="GMu.InfrastructureOpen.html#T:8"><span class="id" title="variable">T</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="GMu.Definitions.html#typ_size"><span class="id" title="definition">typ_size</span></a> (<a class="idref" href="GMu.Definitions.html#open_tt_rec"><span class="id" title="definition">open_tt_rec</span></a> <a class="idref" href="GMu.InfrastructureOpen.html#n:10"><span class="id" title="variable">n</span></a> (<a class="idref" href="GMu.Definitions.html#typ_fvar"><span class="id" title="constructor">typ_fvar</span></a> <a class="idref" href="GMu.InfrastructureOpen.html#X:9"><span class="id" title="variable">X</span></a>) <a class="idref" href="GMu.InfrastructureOpen.html#T:8"><span class="id" title="variable">T</span></a>).<br/>
&nbsp;&nbsp;<span class="id" title="tactic">induction</span> <span class="id" title="var">T</span> <span class="id" title="keyword">using</span> <a class="idref" href="GMu.Definitions.html#typ_ind'"><span class="id" title="definition">typ_ind'</span></a> ; <span class="id" title="var">introv</span>; <span class="id" title="tactic">try</span> <span class="id" title="tactic">solve</span> [<span class="id" title="var">cbn</span>; <span class="id" title="tactic">try</span> <span class="id" title="var">case_if</span>; <span class="id" title="var">cbn</span>; <span class="id" title="tactic">eauto</span>].<br/>
&nbsp;&nbsp;- <span class="id" title="var">cbn</span>. <span class="id" title="var">crush_compare</span>.<br/>
&nbsp;&nbsp;- <span class="id" title="var">cbn</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.0/stdlib//Coq.Lists.List.html#map_map"><span class="id" title="lemma">List.map_map</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">assert</span> (<a class="idref" href="http://coq.inria.fr/distrib/V8.13.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">(</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.13.0/stdlib//Coq.Lists.List.html#map"><span class="id" title="definition">List.map</span></a> <a class="idref" href="GMu.Definitions.html#typ_size"><span class="id" title="definition">typ_size</span></a> <span class="id" title="var">ls</span><a class="idref" href="http://coq.inria.fr/distrib/V8.13.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">)</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">(</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.13.0/stdlib//Coq.Lists.List.html#map"><span class="id" title="definition">List.map</span></a> (<span class="id" title="keyword">fun</span> <a id="x:12" class="idref" href="#x:12"><span class="id" title="binder">x</span></a> : <a class="idref" href="GMu.Definitions.html#typ"><span class="id" title="inductive">typ</span></a> ⇒ <a class="idref" href="GMu.Definitions.html#typ_size"><span class="id" title="definition">typ_size</span></a> (<a class="idref" href="GMu.Definitions.html#open_tt_rec"><span class="id" title="definition">open_tt_rec</span></a> <span class="id" title="var">n0</span> (<a class="idref" href="GMu.Definitions.html#typ_fvar"><span class="id" title="constructor">typ_fvar</span></a> <span class="id" title="var">X</span>) <a class="idref" href="GMu.InfrastructureOpen.html#x:11"><span class="id" title="variable">x</span></a>)) <span class="id" title="var">ls</span><a class="idref" href="http://coq.inria.fr/distrib/V8.13.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">)</span></a>) <span class="id" title="keyword">as</span> <span class="id" title="var">Hmapeq</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="tactic">apply</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.0/stdlib//Coq.Lists.List.html#map_ext_in"><span class="id" title="lemma">List.map_ext_in</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.0/stdlib//Coq.Lists.List.html#Forall_forall"><span class="id" title="lemma">List.Forall_forall</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">H</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intros</span>. <span class="id" title="tactic">apply</span>× <span class="id" title="var">H</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="tactic">rewrite</span> <span class="id" title="var">Hmapeq</span>. <span class="id" title="tactic">auto</span>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
</div>

<div class="doc">
<a id="lab13"></a><h2 class="section">Properties of type substitution in type</h2>

<div class="paragraph"> </div>

 Substitution on indices is identity on well-formed terms. 
</div>
<div class="code">

<br/>
<span class="id" title="keyword">Inductive</span> <a id="typ_closed_in_surroundings" class="idref" href="#typ_closed_in_surroundings"><span class="id" title="inductive">typ_closed_in_surroundings</span></a> : <a class="idref" href="http://coq.inria.fr/distrib/V8.13.0/stdlib//Coq.Init.Datatypes.html#nat"><span class="id" title="inductive">nat</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <a class="idref" href="GMu.Definitions.html#typ"><span class="id" title="inductive">typ</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <span class="id" title="keyword">Prop</span> :=<br/>
| <a id="closed_typ_bvar" class="idref" href="#closed_typ_bvar"><span class="id" title="constructor">closed_typ_bvar</span></a> : <span class="id" title="keyword">∀</span> <a id="J:15" class="idref" href="#J:15"><span class="id" title="binder">J</span></a> <a id="k:16" class="idref" href="#k:16"><span class="id" title="binder">k</span></a>, <a class="idref" href="GMu.InfrastructureOpen.html#J:15"><span class="id" title="variable">J</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.0/stdlib//Coq.Init.Peano.html#::nat_scope:x_'&lt;'_x"><span class="id" title="notation">&lt;</span></a> <a class="idref" href="GMu.InfrastructureOpen.html#k:16"><span class="id" title="variable">k</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <a class="idref" href="GMu.InfrastructureOpen.html#typ_closed_in_surroundings:13"><span class="id" title="inductive">typ_closed_in_surroundings</span></a> <a class="idref" href="GMu.InfrastructureOpen.html#k:16"><span class="id" title="variable">k</span></a> (<a class="idref" href="GMu.Definitions.html#typ_bvar"><span class="id" title="constructor">typ_bvar</span></a> <a class="idref" href="GMu.InfrastructureOpen.html#J:15"><span class="id" title="variable">J</span></a>)<br/>
| <a id="closed_typ_fvar" class="idref" href="#closed_typ_fvar"><span class="id" title="constructor">closed_typ_fvar</span></a> : <span class="id" title="keyword">∀</span> <a id="X:17" class="idref" href="#X:17"><span class="id" title="binder">X</span></a> <a id="k:18" class="idref" href="#k:18"><span class="id" title="binder">k</span></a>, <a class="idref" href="GMu.InfrastructureOpen.html#typ_closed_in_surroundings:13"><span class="id" title="inductive">typ_closed_in_surroundings</span></a> <a class="idref" href="GMu.InfrastructureOpen.html#k:18"><span class="id" title="variable">k</span></a> (<a class="idref" href="GMu.Definitions.html#typ_fvar"><span class="id" title="constructor">typ_fvar</span></a> <a class="idref" href="GMu.InfrastructureOpen.html#X:17"><span class="id" title="variable">X</span></a>)<br/>
| <a id="closed_typ_unit" class="idref" href="#closed_typ_unit"><span class="id" title="constructor">closed_typ_unit</span></a> : <span class="id" title="keyword">∀</span> <a id="k:19" class="idref" href="#k:19"><span class="id" title="binder">k</span></a>, <a class="idref" href="GMu.InfrastructureOpen.html#typ_closed_in_surroundings:13"><span class="id" title="inductive">typ_closed_in_surroundings</span></a> <a class="idref" href="GMu.InfrastructureOpen.html#k:19"><span class="id" title="variable">k</span></a> (<a class="idref" href="GMu.Definitions.html#typ_unit"><span class="id" title="constructor">typ_unit</span></a>)<br/>
| <a id="closed_typ_tuple" class="idref" href="#closed_typ_tuple"><span class="id" title="constructor">closed_typ_tuple</span></a> : <span class="id" title="keyword">∀</span> <a id="T1:20" class="idref" href="#T1:20"><span class="id" title="binder">T1</span></a> <a id="T2:21" class="idref" href="#T2:21"><span class="id" title="binder">T2</span></a> <a id="k:22" class="idref" href="#k:22"><span class="id" title="binder">k</span></a>,<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="GMu.InfrastructureOpen.html#typ_closed_in_surroundings:13"><span class="id" title="inductive">typ_closed_in_surroundings</span></a> <a class="idref" href="GMu.InfrastructureOpen.html#k:22"><span class="id" title="variable">k</span></a> <a class="idref" href="GMu.InfrastructureOpen.html#T1:20"><span class="id" title="variable">T1</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="GMu.InfrastructureOpen.html#typ_closed_in_surroundings:13"><span class="id" title="inductive">typ_closed_in_surroundings</span></a> <a class="idref" href="GMu.InfrastructureOpen.html#k:22"><span class="id" title="variable">k</span></a> <a class="idref" href="GMu.InfrastructureOpen.html#T2:21"><span class="id" title="variable">T2</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="GMu.InfrastructureOpen.html#typ_closed_in_surroundings:13"><span class="id" title="inductive">typ_closed_in_surroundings</span></a> <a class="idref" href="GMu.InfrastructureOpen.html#k:22"><span class="id" title="variable">k</span></a> (<a class="idref" href="GMu.InfrastructureOpen.html#T1:20"><span class="id" title="variable">T1</span></a> <a class="idref" href="GMu.Definitions.html#f07b3676d96b68749d342542fd80e2b0"><span class="id" title="notation">**</span></a> <a class="idref" href="GMu.InfrastructureOpen.html#T2:21"><span class="id" title="variable">T2</span></a>)<br/>
| <a id="closed_typ_arrow" class="idref" href="#closed_typ_arrow"><span class="id" title="constructor">closed_typ_arrow</span></a> : <span class="id" title="keyword">∀</span> <a id="T1:23" class="idref" href="#T1:23"><span class="id" title="binder">T1</span></a> <a id="T2:24" class="idref" href="#T2:24"><span class="id" title="binder">T2</span></a> <a id="k:25" class="idref" href="#k:25"><span class="id" title="binder">k</span></a>,<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="GMu.InfrastructureOpen.html#typ_closed_in_surroundings:13"><span class="id" title="inductive">typ_closed_in_surroundings</span></a> <a class="idref" href="GMu.InfrastructureOpen.html#k:25"><span class="id" title="variable">k</span></a> <a class="idref" href="GMu.InfrastructureOpen.html#T1:23"><span class="id" title="variable">T1</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="GMu.InfrastructureOpen.html#typ_closed_in_surroundings:13"><span class="id" title="inductive">typ_closed_in_surroundings</span></a> <a class="idref" href="GMu.InfrastructureOpen.html#k:25"><span class="id" title="variable">k</span></a> <a class="idref" href="GMu.InfrastructureOpen.html#T2:24"><span class="id" title="variable">T2</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="GMu.InfrastructureOpen.html#typ_closed_in_surroundings:13"><span class="id" title="inductive">typ_closed_in_surroundings</span></a> <a class="idref" href="GMu.InfrastructureOpen.html#k:25"><span class="id" title="variable">k</span></a> (<a class="idref" href="GMu.InfrastructureOpen.html#T1:23"><span class="id" title="variable">T1</span></a> <a class="idref" href="GMu.Definitions.html#7cf9375cc810cd6cb65186f6ede01686"><span class="id" title="notation">==&gt;</span></a> <a class="idref" href="GMu.InfrastructureOpen.html#T2:24"><span class="id" title="variable">T2</span></a>)<br/>
| <a id="closed_typ_all" class="idref" href="#closed_typ_all"><span class="id" title="constructor">closed_typ_all</span></a> : <span class="id" title="keyword">∀</span> <a id="T:26" class="idref" href="#T:26"><span class="id" title="binder">T</span></a> <a id="k:27" class="idref" href="#k:27"><span class="id" title="binder">k</span></a>,<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="GMu.InfrastructureOpen.html#typ_closed_in_surroundings:13"><span class="id" title="inductive">typ_closed_in_surroundings</span></a> (<a class="idref" href="http://coq.inria.fr/distrib/V8.13.0/stdlib//Coq.Init.Datatypes.html#S"><span class="id" title="constructor">S</span></a> <a class="idref" href="GMu.InfrastructureOpen.html#k:27"><span class="id" title="variable">k</span></a>) <a class="idref" href="GMu.InfrastructureOpen.html#T:26"><span class="id" title="variable">T</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="GMu.InfrastructureOpen.html#typ_closed_in_surroundings:13"><span class="id" title="inductive">typ_closed_in_surroundings</span></a> <a class="idref" href="GMu.InfrastructureOpen.html#k:27"><span class="id" title="variable">k</span></a> (<a class="idref" href="GMu.Definitions.html#typ_all"><span class="id" title="constructor">typ_all</span></a> <a class="idref" href="GMu.InfrastructureOpen.html#T:26"><span class="id" title="variable">T</span></a>)<br/>
| <a id="closed_typ_gadt" class="idref" href="#closed_typ_gadt"><span class="id" title="constructor">closed_typ_gadt</span></a> : <span class="id" title="keyword">∀</span> <a id="Ts:28" class="idref" href="#Ts:28"><span class="id" title="binder">Ts</span></a> <a id="N:29" class="idref" href="#N:29"><span class="id" title="binder">N</span></a> <a id="k:30" class="idref" href="#k:30"><span class="id" title="binder">k</span></a>,<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/V8.13.0/stdlib//Coq.Lists.List.html#Forall"><span class="id" title="inductive">List.Forall</span></a> (<a class="idref" href="GMu.InfrastructureOpen.html#typ_closed_in_surroundings:13"><span class="id" title="inductive">typ_closed_in_surroundings</span></a> <a class="idref" href="GMu.InfrastructureOpen.html#k:30"><span class="id" title="variable">k</span></a>) <a class="idref" href="GMu.InfrastructureOpen.html#Ts:28"><span class="id" title="variable">Ts</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="GMu.InfrastructureOpen.html#typ_closed_in_surroundings:13"><span class="id" title="inductive">typ_closed_in_surroundings</span></a> <a class="idref" href="GMu.InfrastructureOpen.html#k:30"><span class="id" title="variable">k</span></a> (<a class="idref" href="GMu.Definitions.html#typ_gadt"><span class="id" title="constructor">typ_gadt</span></a> <a class="idref" href="GMu.InfrastructureOpen.html#Ts:28"><span class="id" title="variable">Ts</span></a> <a class="idref" href="GMu.InfrastructureOpen.html#N:29"><span class="id" title="variable">N</span></a>).<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="opening_adds_one" class="idref" href="#opening_adds_one"><span class="id" title="lemma">opening_adds_one</span></a> : <span class="id" title="keyword">∀</span> <a id="T:31" class="idref" href="#T:31"><span class="id" title="binder">T</span></a> <a id="X:32" class="idref" href="#X:32"><span class="id" title="binder">X</span></a> <a id="k:33" class="idref" href="#k:33"><span class="id" title="binder">k</span></a> <a id="n:34" class="idref" href="#n:34"><span class="id" title="binder">n</span></a>,<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment">(*&nbsp;for&nbsp;example,&nbsp;typ_closed_in_surroundings&nbsp;0&nbsp;(open_tt_rec&nbsp;42&nbsp;(typ_fvar&nbsp;X)&nbsp;(typ_bvar&nbsp;42))<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;which&nbsp;evaluates&nbsp;to&nbsp;typ_fvar&nbsp;X,&nbsp;so&nbsp;it&nbsp;is&nbsp;open&nbsp;in&nbsp;0<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;but<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;*)</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="GMu.InfrastructureOpen.html#typ_closed_in_surroundings"><span class="id" title="inductive">typ_closed_in_surroundings</span></a> <a class="idref" href="GMu.InfrastructureOpen.html#n:34"><span class="id" title="variable">n</span></a> (<a class="idref" href="GMu.Definitions.html#open_tt_rec"><span class="id" title="definition">open_tt_rec</span></a> <a class="idref" href="GMu.InfrastructureOpen.html#k:33"><span class="id" title="variable">k</span></a> (<a class="idref" href="GMu.Definitions.html#typ_fvar"><span class="id" title="constructor">typ_fvar</span></a> <a class="idref" href="GMu.InfrastructureOpen.html#X:32"><span class="id" title="variable">X</span></a>) <a class="idref" href="GMu.InfrastructureOpen.html#T:31"><span class="id" title="variable">T</span></a>) <a class="idref" href="http://coq.inria.fr/distrib/V8.13.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment">(*<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;the&nbsp;original&nbsp;term&nbsp;(typ_bvar&nbsp;42),&nbsp;is&nbsp;not&nbsp;open&nbsp;in&nbsp;1,&nbsp;so&nbsp;that's&nbsp;why&nbsp;we&nbsp;need&nbsp;k+1&nbsp;too<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;-&nbsp;this&nbsp;is&nbsp;the&nbsp;case&nbsp;where&nbsp;the&nbsp;maximum&nbsp;binder&nbsp;disappeared&nbsp;in&nbsp;open<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;case&nbsp;n+1&nbsp;is&nbsp;the&nbsp;case&nbsp;where&nbsp;it&nbsp;was&nbsp;some&nbsp;smaller&nbsp;binder&nbsp;and&nbsp;so&nbsp;the&nbsp;other&nbsp;binders&nbsp;get&nbsp;incremented<br/>
&nbsp;&nbsp;&nbsp;&nbsp;*)</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="GMu.InfrastructureOpen.html#typ_closed_in_surroundings"><span class="id" title="inductive">typ_closed_in_surroundings</span></a> (<a class="idref" href="http://coq.inria.fr/distrib/V8.13.0/stdlib//Coq.Init.Peano.html#max"><span class="id" title="abbreviation">max</span></a> (<a class="idref" href="http://coq.inria.fr/distrib/V8.13.0/stdlib//Coq.Init.Datatypes.html#S"><span class="id" title="constructor">S</span></a> <a class="idref" href="GMu.InfrastructureOpen.html#n:34"><span class="id" title="variable">n</span></a>) (<a class="idref" href="http://coq.inria.fr/distrib/V8.13.0/stdlib//Coq.Init.Datatypes.html#S"><span class="id" title="constructor">S</span></a> <a class="idref" href="GMu.InfrastructureOpen.html#k:33"><span class="id" title="variable">k</span></a>)) <a class="idref" href="GMu.InfrastructureOpen.html#T:31"><span class="id" title="variable">T</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">induction</span> <span class="id" title="var">T</span> <span class="id" title="keyword">using</span> <a class="idref" href="GMu.Definitions.html#typ_ind'"><span class="id" title="definition">typ_ind'</span></a>; <span class="id" title="var">introv</span> <span class="id" title="var">Hc</span>; <span class="id" title="tactic">try</span> <span class="id" title="tactic">solve</span> [<span class="id" title="var">inversions</span> <span class="id" title="var">Hc</span>; <span class="id" title="tactic">constructor</span>*].<br/>
&nbsp;&nbsp;- <span class="id" title="var">cbn</span> <span class="id" title="tactic">in</span> <span class="id" title="var">Hc</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">crush_compare</span>; <span class="id" title="var">cbn</span> <span class="id" title="tactic">in</span> *; <span class="id" title="tactic">econstructor</span>; <span class="id" title="tactic">try</span> <span class="id" title="var">lia</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">inversions</span> <span class="id" title="var">Hc</span>. <span class="id" title="var">lia</span>.<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">constructor</span>×.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">inversions</span> <span class="id" title="var">Hc</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.0/stdlib//Coq.Lists.List.html#Forall_forall"><span class="id" title="lemma">List.Forall_forall</span></a> <span class="id" title="tactic">in</span> ×.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intros</span> <span class="id" title="var">T</span> <span class="id" title="var">Hin</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">lets</span>× <span class="id" title="var">IH</span>: <span class="id" title="var">H</span> <span class="id" title="var">T</span> <span class="id" title="var">Hin</span> <span class="id" title="var">X</span> <span class="id" title="var">k</span> <span class="id" title="var">n0</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span>× <span class="id" title="var">IH</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span>× <span class="id" title="var">H2</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span>× <a class="idref" href="http://coq.inria.fr/distrib/V8.13.0/stdlib//Coq.Lists.List.html#in_map"><span class="id" title="lemma">List.in_map</span></a>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="type_closed" class="idref" href="#type_closed"><span class="id" title="lemma">type_closed</span></a> : <span class="id" title="keyword">∀</span> <a id="T:35" class="idref" href="#T:35"><span class="id" title="binder">T</span></a>,<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="GMu.Definitions.html#type"><span class="id" title="inductive">type</span></a> <a class="idref" href="GMu.InfrastructureOpen.html#T:35"><span class="id" title="variable">T</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <a class="idref" href="GMu.InfrastructureOpen.html#typ_closed_in_surroundings"><span class="id" title="inductive">typ_closed_in_surroundings</span></a> 0 <a class="idref" href="GMu.InfrastructureOpen.html#T:35"><span class="id" title="variable">T</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">induction</span> 1; <span class="id" title="tactic">constructor</span>×.<br/>
&nbsp;&nbsp;- <span class="id" title="var">pick_fresh</span> <span class="id" title="var">X</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">lets</span>× <span class="id" title="var">Hoao</span>: <a class="idref" href="GMu.InfrastructureOpen.html#opening_adds_one"><span class="id" title="lemma">opening_adds_one</span></a> <span class="id" title="var">T2</span> <span class="id" title="var">X</span> 0 0.<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">rewrite</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.0/stdlib//Coq.Lists.List.html#Forall_forall"><span class="id" title="lemma">List.Forall_forall</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">auto</span>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="closed_id" class="idref" href="#closed_id"><span class="id" title="lemma">closed_id</span></a> : <span class="id" title="keyword">∀</span> <a id="T:36" class="idref" href="#T:36"><span class="id" title="binder">T</span></a> <a id="U:37" class="idref" href="#U:37"><span class="id" title="binder">U</span></a> <a id="n:38" class="idref" href="#n:38"><span class="id" title="binder">n</span></a> <a id="k:39" class="idref" href="#k:39"><span class="id" title="binder">k</span></a>,<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="GMu.InfrastructureOpen.html#typ_closed_in_surroundings"><span class="id" title="inductive">typ_closed_in_surroundings</span></a> <a class="idref" href="GMu.InfrastructureOpen.html#n:38"><span class="id" title="variable">n</span></a> <a class="idref" href="GMu.InfrastructureOpen.html#T:36"><span class="id" title="variable">T</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="GMu.InfrastructureOpen.html#k:39"><span class="id" title="variable">k</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.0/stdlib//Coq.Init.Peano.html#73030c22bc0b1fa771c65aa5414c65f9"><span class="id" title="notation">≥</span></a> <a class="idref" href="GMu.InfrastructureOpen.html#n:38"><span class="id" title="variable">n</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="GMu.InfrastructureOpen.html#T:36"><span class="id" title="variable">T</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="GMu.Definitions.html#open_tt_rec"><span class="id" title="definition">open_tt_rec</span></a> <a class="idref" href="GMu.InfrastructureOpen.html#k:39"><span class="id" title="variable">k</span></a> <a class="idref" href="GMu.InfrastructureOpen.html#U:37"><span class="id" title="variable">U</span></a> <a class="idref" href="GMu.InfrastructureOpen.html#T:36"><span class="id" title="variable">T</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">induction</span> <span class="id" title="var">T</span> <span class="id" title="keyword">using</span> <a class="idref" href="GMu.Definitions.html#typ_ind'"><span class="id" title="definition">typ_ind'</span></a>; <span class="id" title="var">introv</span> <span class="id" title="var">Hc</span> <span class="id" title="var">Hk</span>; <span class="id" title="tactic">eauto</span>;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">try</span> <span class="id" title="tactic">solve</span> [<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">cbn</span>; <span class="id" title="var">crush_compare</span>; <span class="id" title="var">inversions</span> <span class="id" title="var">Hc</span>; <span class="id" title="var">lia</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| <span class="id" title="var">cbn</span>; <span class="id" title="var">inversions</span> <span class="id" title="var">Hc</span>;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">lets</span>× <span class="id" title="var">IH1</span>: <span class="id" title="var">IHT1</span> <span class="id" title="var">U</span> <span class="id" title="var">n</span> <span class="id" title="var">k</span>;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">lets</span>× <span class="id" title="var">IH2</span>: <span class="id" title="var">IHT2</span> <span class="id" title="var">U</span> <span class="id" title="var">n</span> <span class="id" title="var">k</span>;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span>× &lt;- <span class="id" title="var">IH1</span>;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span>× &lt;- <span class="id" title="var">IH2</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;].<br/>
&nbsp;&nbsp;- <span class="id" title="var">lets</span>× <span class="id" title="var">IH</span>: <span class="id" title="var">IHT</span> <span class="id" title="var">U</span> (<a class="idref" href="http://coq.inria.fr/distrib/V8.13.0/stdlib//Coq.Init.Datatypes.html#S"><span class="id" title="constructor">S</span></a> <span class="id" title="var">n</span>) (<a class="idref" href="http://coq.inria.fr/distrib/V8.13.0/stdlib//Coq.Init.Datatypes.html#S"><span class="id" title="constructor">S</span></a> <span class="id" title="var">k</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">cbn</span>. <span class="id" title="var">inversions</span> <span class="id" title="var">Hc</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span>× &lt;- <span class="id" title="var">IH</span>. <span class="id" title="var">lia</span>.<br/>
&nbsp;&nbsp;- <span class="id" title="var">cbn</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">f_equal</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">inversions</span> <span class="id" title="var">Hc</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.0/stdlib//Coq.Lists.List.html#Forall_forall"><span class="id" title="lemma">List.Forall_forall</span></a> <span class="id" title="tactic">in</span> ×.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> &lt;- <a class="idref" href="http://coq.inria.fr/distrib/V8.13.0/stdlib//Coq.Lists.List.html#map_id"><span class="id" title="lemma">List.map_id</span></a> <span class="id" title="tactic">at</span> 1.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.0/stdlib//Coq.Lists.List.html#map_ext_in"><span class="id" title="lemma">List.map_ext_in</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intros</span> <span class="id" title="var">T</span> <span class="id" title="var">Hin</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">lets</span>× <span class="id" title="var">IH</span>: <span class="id" title="var">H</span> <span class="id" title="var">Hin</span>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="open_tt_rec_type" class="idref" href="#open_tt_rec_type"><span class="id" title="lemma">open_tt_rec_type</span></a> : <span class="id" title="keyword">∀</span> <a id="T:40" class="idref" href="#T:40"><span class="id" title="binder">T</span></a> <a id="U:41" class="idref" href="#U:41"><span class="id" title="binder">U</span></a>,<br/>
&nbsp;&nbsp;<a class="idref" href="GMu.Definitions.html#type"><span class="id" title="inductive">type</span></a> <a class="idref" href="GMu.InfrastructureOpen.html#T:40"><span class="id" title="variable">T</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <span class="id" title="keyword">∀</span> <a id="k:42" class="idref" href="#k:42"><span class="id" title="binder">k</span></a>, <a class="idref" href="GMu.InfrastructureOpen.html#T:40"><span class="id" title="variable">T</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="GMu.Definitions.html#open_tt_rec"><span class="id" title="definition">open_tt_rec</span></a> <a class="idref" href="GMu.InfrastructureOpen.html#k:42"><span class="id" title="variable">k</span></a> <a class="idref" href="GMu.InfrastructureOpen.html#U:41"><span class="id" title="variable">U</span></a> <a class="idref" href="GMu.InfrastructureOpen.html#T:40"><span class="id" title="variable">T</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="var">introv</span> <span class="id" title="var">Htype</span>. <span class="id" title="tactic">intros</span>.<br/>
&nbsp;&nbsp;<span class="id" title="var">lets</span>× <span class="id" title="var">Hc</span>: <a class="idref" href="GMu.InfrastructureOpen.html#closed_id"><span class="id" title="lemma">closed_id</span></a> <span class="id" title="var">T</span> <span class="id" title="var">U</span> 0 <span class="id" title="var">k</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <span class="id" title="var">Hc</span>.<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">apply</span>× <a class="idref" href="GMu.InfrastructureOpen.html#type_closed"><span class="id" title="lemma">type_closed</span></a>.<br/>
&nbsp;&nbsp;- <span class="id" title="var">lia</span>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="comment">(*&nbsp;this&nbsp;one&nbsp;describes&nbsp;terms&nbsp;being&nbsp;closed&nbsp;in&nbsp;relation&nbsp;to&nbsp;type-variables,&nbsp;not&nbsp;term-varaibles*)</span><br/>
<span class="id" title="keyword">Inductive</span> <a id="te_closed_in_surroundings" class="idref" href="#te_closed_in_surroundings"><span class="id" title="inductive">te_closed_in_surroundings</span></a> : <a class="idref" href="http://coq.inria.fr/distrib/V8.13.0/stdlib//Coq.Init.Datatypes.html#nat"><span class="id" title="inductive">nat</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <a class="idref" href="GMu.Definitions.html#trm"><span class="id" title="inductive">trm</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <span class="id" title="keyword">Prop</span> :=<br/>
| <a id="closed_trm_bvar" class="idref" href="#closed_trm_bvar"><span class="id" title="constructor">closed_trm_bvar</span></a> : <span class="id" title="keyword">∀</span> <a id="i:45" class="idref" href="#i:45"><span class="id" title="binder">i</span></a> <a id="k:46" class="idref" href="#k:46"><span class="id" title="binder">k</span></a>, <a class="idref" href="GMu.InfrastructureOpen.html#te_closed_in_surroundings:43"><span class="id" title="inductive">te_closed_in_surroundings</span></a> <a class="idref" href="GMu.InfrastructureOpen.html#k:46"><span class="id" title="variable">k</span></a> (<a class="idref" href="GMu.Definitions.html#trm_bvar"><span class="id" title="constructor">trm_bvar</span></a> <a class="idref" href="GMu.InfrastructureOpen.html#i:45"><span class="id" title="variable">i</span></a>)<br/>
| <a id="closed_trm_fvar" class="idref" href="#closed_trm_fvar"><span class="id" title="constructor">closed_trm_fvar</span></a> : <span class="id" title="keyword">∀</span> <a id="x:47" class="idref" href="#x:47"><span class="id" title="binder">x</span></a> <a id="vk:48" class="idref" href="#vk:48"><span class="id" title="binder">vk</span></a> <a id="k:49" class="idref" href="#k:49"><span class="id" title="binder">k</span></a>, <a class="idref" href="GMu.InfrastructureOpen.html#te_closed_in_surroundings:43"><span class="id" title="inductive">te_closed_in_surroundings</span></a> <a class="idref" href="GMu.InfrastructureOpen.html#k:49"><span class="id" title="variable">k</span></a> (<a class="idref" href="GMu.Definitions.html#trm_fvar"><span class="id" title="constructor">trm_fvar</span></a> <a class="idref" href="GMu.InfrastructureOpen.html#vk:48"><span class="id" title="variable">vk</span></a> <a class="idref" href="GMu.InfrastructureOpen.html#x:47"><span class="id" title="variable">x</span></a>)<br/>
| <a id="closed_trm_unit" class="idref" href="#closed_trm_unit"><span class="id" title="constructor">closed_trm_unit</span></a> : <span class="id" title="keyword">∀</span> <a id="k:50" class="idref" href="#k:50"><span class="id" title="binder">k</span></a>, <a class="idref" href="GMu.InfrastructureOpen.html#te_closed_in_surroundings:43"><span class="id" title="inductive">te_closed_in_surroundings</span></a> <a class="idref" href="GMu.InfrastructureOpen.html#k:50"><span class="id" title="variable">k</span></a> (<a class="idref" href="GMu.Definitions.html#trm_unit"><span class="id" title="constructor">trm_unit</span></a>)<br/>
| <a id="closed_trm_fst" class="idref" href="#closed_trm_fst"><span class="id" title="constructor">closed_trm_fst</span></a> : <span class="id" title="keyword">∀</span> <a id="e:51" class="idref" href="#e:51"><span class="id" title="binder">e</span></a> <a id="k:52" class="idref" href="#k:52"><span class="id" title="binder">k</span></a>, <a class="idref" href="GMu.InfrastructureOpen.html#te_closed_in_surroundings:43"><span class="id" title="inductive">te_closed_in_surroundings</span></a> <a class="idref" href="GMu.InfrastructureOpen.html#k:52"><span class="id" title="variable">k</span></a> <a class="idref" href="GMu.InfrastructureOpen.html#e:51"><span class="id" title="variable">e</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <a class="idref" href="GMu.InfrastructureOpen.html#te_closed_in_surroundings:43"><span class="id" title="inductive">te_closed_in_surroundings</span></a> <a class="idref" href="GMu.InfrastructureOpen.html#k:52"><span class="id" title="variable">k</span></a> (<a class="idref" href="GMu.Definitions.html#trm_fst"><span class="id" title="constructor">trm_fst</span></a> <a class="idref" href="GMu.InfrastructureOpen.html#e:51"><span class="id" title="variable">e</span></a>)<br/>
| <a id="closed_trm_snd" class="idref" href="#closed_trm_snd"><span class="id" title="constructor">closed_trm_snd</span></a> : <span class="id" title="keyword">∀</span> <a id="e:53" class="idref" href="#e:53"><span class="id" title="binder">e</span></a> <a id="k:54" class="idref" href="#k:54"><span class="id" title="binder">k</span></a>, <a class="idref" href="GMu.InfrastructureOpen.html#te_closed_in_surroundings:43"><span class="id" title="inductive">te_closed_in_surroundings</span></a> <a class="idref" href="GMu.InfrastructureOpen.html#k:54"><span class="id" title="variable">k</span></a> <a class="idref" href="GMu.InfrastructureOpen.html#e:53"><span class="id" title="variable">e</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <a class="idref" href="GMu.InfrastructureOpen.html#te_closed_in_surroundings:43"><span class="id" title="inductive">te_closed_in_surroundings</span></a> <a class="idref" href="GMu.InfrastructureOpen.html#k:54"><span class="id" title="variable">k</span></a> (<a class="idref" href="GMu.Definitions.html#trm_snd"><span class="id" title="constructor">trm_snd</span></a> <a class="idref" href="GMu.InfrastructureOpen.html#e:53"><span class="id" title="variable">e</span></a>)<br/>
| <a id="closed_trm_tuple" class="idref" href="#closed_trm_tuple"><span class="id" title="constructor">closed_trm_tuple</span></a> : <span class="id" title="keyword">∀</span> <a id="e1:55" class="idref" href="#e1:55"><span class="id" title="binder">e1</span></a> <a id="e2:56" class="idref" href="#e2:56"><span class="id" title="binder">e2</span></a> <a id="k:57" class="idref" href="#k:57"><span class="id" title="binder">k</span></a>, <a class="idref" href="GMu.InfrastructureOpen.html#te_closed_in_surroundings:43"><span class="id" title="inductive">te_closed_in_surroundings</span></a> <a class="idref" href="GMu.InfrastructureOpen.html#k:57"><span class="id" title="variable">k</span></a> <a class="idref" href="GMu.InfrastructureOpen.html#e1:55"><span class="id" title="variable">e1</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="GMu.InfrastructureOpen.html#te_closed_in_surroundings:43"><span class="id" title="inductive">te_closed_in_surroundings</span></a> <a class="idref" href="GMu.InfrastructureOpen.html#k:57"><span class="id" title="variable">k</span></a> <a class="idref" href="GMu.InfrastructureOpen.html#e2:56"><span class="id" title="variable">e2</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="GMu.InfrastructureOpen.html#te_closed_in_surroundings:43"><span class="id" title="inductive">te_closed_in_surroundings</span></a> <a class="idref" href="GMu.InfrastructureOpen.html#k:57"><span class="id" title="variable">k</span></a> (<a class="idref" href="GMu.Definitions.html#trm_tuple"><span class="id" title="constructor">trm_tuple</span></a> <a class="idref" href="GMu.InfrastructureOpen.html#e1:55"><span class="id" title="variable">e1</span></a> <a class="idref" href="GMu.InfrastructureOpen.html#e2:56"><span class="id" title="variable">e2</span></a>)<br/>
| <a id="closed_trm_abs" class="idref" href="#closed_trm_abs"><span class="id" title="constructor">closed_trm_abs</span></a> : <span class="id" title="keyword">∀</span> <a id="e:58" class="idref" href="#e:58"><span class="id" title="binder">e</span></a> <a id="T:59" class="idref" href="#T:59"><span class="id" title="binder">T</span></a> <a id="k:60" class="idref" href="#k:60"><span class="id" title="binder">k</span></a>, <a class="idref" href="GMu.InfrastructureOpen.html#te_closed_in_surroundings:43"><span class="id" title="inductive">te_closed_in_surroundings</span></a> <a class="idref" href="GMu.InfrastructureOpen.html#k:60"><span class="id" title="variable">k</span></a> <a class="idref" href="GMu.InfrastructureOpen.html#e:58"><span class="id" title="variable">e</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="GMu.InfrastructureOpen.html#typ_closed_in_surroundings"><span class="id" title="inductive">typ_closed_in_surroundings</span></a> <a class="idref" href="GMu.InfrastructureOpen.html#k:60"><span class="id" title="variable">k</span></a> <a class="idref" href="GMu.InfrastructureOpen.html#T:59"><span class="id" title="variable">T</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="GMu.InfrastructureOpen.html#te_closed_in_surroundings:43"><span class="id" title="inductive">te_closed_in_surroundings</span></a> <a class="idref" href="GMu.InfrastructureOpen.html#k:60"><span class="id" title="variable">k</span></a> (<a class="idref" href="GMu.Definitions.html#trm_abs"><span class="id" title="constructor">trm_abs</span></a> <a class="idref" href="GMu.InfrastructureOpen.html#T:59"><span class="id" title="variable">T</span></a> <a class="idref" href="GMu.InfrastructureOpen.html#e:58"><span class="id" title="variable">e</span></a>)<br/>
| <a id="closed_trm_app" class="idref" href="#closed_trm_app"><span class="id" title="constructor">closed_trm_app</span></a> : <span class="id" title="keyword">∀</span> <a id="e1:61" class="idref" href="#e1:61"><span class="id" title="binder">e1</span></a> <a id="e2:62" class="idref" href="#e2:62"><span class="id" title="binder">e2</span></a> <a id="k:63" class="idref" href="#k:63"><span class="id" title="binder">k</span></a>, <a class="idref" href="GMu.InfrastructureOpen.html#te_closed_in_surroundings:43"><span class="id" title="inductive">te_closed_in_surroundings</span></a> <a class="idref" href="GMu.InfrastructureOpen.html#k:63"><span class="id" title="variable">k</span></a> <a class="idref" href="GMu.InfrastructureOpen.html#e1:61"><span class="id" title="variable">e1</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="GMu.InfrastructureOpen.html#te_closed_in_surroundings:43"><span class="id" title="inductive">te_closed_in_surroundings</span></a> <a class="idref" href="GMu.InfrastructureOpen.html#k:63"><span class="id" title="variable">k</span></a> <a class="idref" href="GMu.InfrastructureOpen.html#e2:62"><span class="id" title="variable">e2</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="GMu.InfrastructureOpen.html#te_closed_in_surroundings:43"><span class="id" title="inductive">te_closed_in_surroundings</span></a> <a class="idref" href="GMu.InfrastructureOpen.html#k:63"><span class="id" title="variable">k</span></a> (<a class="idref" href="GMu.Definitions.html#trm_app"><span class="id" title="constructor">trm_app</span></a> <a class="idref" href="GMu.InfrastructureOpen.html#e1:61"><span class="id" title="variable">e1</span></a> <a class="idref" href="GMu.InfrastructureOpen.html#e2:62"><span class="id" title="variable">e2</span></a>)<br/>
| <a id="closed_trm_tabs" class="idref" href="#closed_trm_tabs"><span class="id" title="constructor">closed_trm_tabs</span></a> : <span class="id" title="keyword">∀</span> <a id="e:64" class="idref" href="#e:64"><span class="id" title="binder">e</span></a> <a id="k:65" class="idref" href="#k:65"><span class="id" title="binder">k</span></a>, <a class="idref" href="GMu.InfrastructureOpen.html#te_closed_in_surroundings:43"><span class="id" title="inductive">te_closed_in_surroundings</span></a> (<a class="idref" href="http://coq.inria.fr/distrib/V8.13.0/stdlib//Coq.Init.Datatypes.html#S"><span class="id" title="constructor">S</span></a> <a class="idref" href="GMu.InfrastructureOpen.html#k:65"><span class="id" title="variable">k</span></a>) <a class="idref" href="GMu.InfrastructureOpen.html#e:64"><span class="id" title="variable">e</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="GMu.InfrastructureOpen.html#te_closed_in_surroundings:43"><span class="id" title="inductive">te_closed_in_surroundings</span></a> <a class="idref" href="GMu.InfrastructureOpen.html#k:65"><span class="id" title="variable">k</span></a> (<a class="idref" href="GMu.Definitions.html#trm_tabs"><span class="id" title="constructor">trm_tabs</span></a> <a class="idref" href="GMu.InfrastructureOpen.html#e:64"><span class="id" title="variable">e</span></a>)<br/>
| <a id="closed_trm_tapp" class="idref" href="#closed_trm_tapp"><span class="id" title="constructor">closed_trm_tapp</span></a> : <span class="id" title="keyword">∀</span> <a id="e:66" class="idref" href="#e:66"><span class="id" title="binder">e</span></a> <a id="T:67" class="idref" href="#T:67"><span class="id" title="binder">T</span></a> <a id="k:68" class="idref" href="#k:68"><span class="id" title="binder">k</span></a>, <a class="idref" href="GMu.InfrastructureOpen.html#te_closed_in_surroundings:43"><span class="id" title="inductive">te_closed_in_surroundings</span></a> <a class="idref" href="GMu.InfrastructureOpen.html#k:68"><span class="id" title="variable">k</span></a> <a class="idref" href="GMu.InfrastructureOpen.html#e:66"><span class="id" title="variable">e</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="GMu.InfrastructureOpen.html#typ_closed_in_surroundings"><span class="id" title="inductive">typ_closed_in_surroundings</span></a> <a class="idref" href="GMu.InfrastructureOpen.html#k:68"><span class="id" title="variable">k</span></a> <a class="idref" href="GMu.InfrastructureOpen.html#T:67"><span class="id" title="variable">T</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="GMu.InfrastructureOpen.html#te_closed_in_surroundings:43"><span class="id" title="inductive">te_closed_in_surroundings</span></a> <a class="idref" href="GMu.InfrastructureOpen.html#k:68"><span class="id" title="variable">k</span></a> (<a class="idref" href="GMu.Definitions.html#trm_tapp"><span class="id" title="constructor">trm_tapp</span></a> <a class="idref" href="GMu.InfrastructureOpen.html#e:66"><span class="id" title="variable">e</span></a> <a class="idref" href="GMu.InfrastructureOpen.html#T:67"><span class="id" title="variable">T</span></a>)<br/>
| <a id="closed_trm_fix" class="idref" href="#closed_trm_fix"><span class="id" title="constructor">closed_trm_fix</span></a> : <span class="id" title="keyword">∀</span> <a id="e:69" class="idref" href="#e:69"><span class="id" title="binder">e</span></a> <a id="T:70" class="idref" href="#T:70"><span class="id" title="binder">T</span></a> <a id="k:71" class="idref" href="#k:71"><span class="id" title="binder">k</span></a>, <a class="idref" href="GMu.InfrastructureOpen.html#te_closed_in_surroundings:43"><span class="id" title="inductive">te_closed_in_surroundings</span></a> <a class="idref" href="GMu.InfrastructureOpen.html#k:71"><span class="id" title="variable">k</span></a> <a class="idref" href="GMu.InfrastructureOpen.html#e:69"><span class="id" title="variable">e</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="GMu.InfrastructureOpen.html#typ_closed_in_surroundings"><span class="id" title="inductive">typ_closed_in_surroundings</span></a> <a class="idref" href="GMu.InfrastructureOpen.html#k:71"><span class="id" title="variable">k</span></a> <a class="idref" href="GMu.InfrastructureOpen.html#T:70"><span class="id" title="variable">T</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="GMu.InfrastructureOpen.html#te_closed_in_surroundings:43"><span class="id" title="inductive">te_closed_in_surroundings</span></a> <a class="idref" href="GMu.InfrastructureOpen.html#k:71"><span class="id" title="variable">k</span></a> (<a class="idref" href="GMu.Definitions.html#trm_fix"><span class="id" title="constructor">trm_fix</span></a> <a class="idref" href="GMu.InfrastructureOpen.html#T:70"><span class="id" title="variable">T</span></a> <a class="idref" href="GMu.InfrastructureOpen.html#e:69"><span class="id" title="variable">e</span></a>)<br/>
| <a id="closed_trm_let" class="idref" href="#closed_trm_let"><span class="id" title="constructor">closed_trm_let</span></a> : <span class="id" title="keyword">∀</span> <a id="e1:72" class="idref" href="#e1:72"><span class="id" title="binder">e1</span></a> <a id="e2:73" class="idref" href="#e2:73"><span class="id" title="binder">e2</span></a> <a id="k:74" class="idref" href="#k:74"><span class="id" title="binder">k</span></a>, <a class="idref" href="GMu.InfrastructureOpen.html#te_closed_in_surroundings:43"><span class="id" title="inductive">te_closed_in_surroundings</span></a> <a class="idref" href="GMu.InfrastructureOpen.html#k:74"><span class="id" title="variable">k</span></a> <a class="idref" href="GMu.InfrastructureOpen.html#e1:72"><span class="id" title="variable">e1</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="GMu.InfrastructureOpen.html#te_closed_in_surroundings:43"><span class="id" title="inductive">te_closed_in_surroundings</span></a> <a class="idref" href="GMu.InfrastructureOpen.html#k:74"><span class="id" title="variable">k</span></a> <a class="idref" href="GMu.InfrastructureOpen.html#e2:73"><span class="id" title="variable">e2</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="GMu.InfrastructureOpen.html#te_closed_in_surroundings:43"><span class="id" title="inductive">te_closed_in_surroundings</span></a> <a class="idref" href="GMu.InfrastructureOpen.html#k:74"><span class="id" title="variable">k</span></a> (<a class="idref" href="GMu.Definitions.html#trm_let"><span class="id" title="constructor">trm_let</span></a> <a class="idref" href="GMu.InfrastructureOpen.html#e1:72"><span class="id" title="variable">e1</span></a> <a class="idref" href="GMu.InfrastructureOpen.html#e2:73"><span class="id" title="variable">e2</span></a>)<br/>
| <a id="closed_term_constructor" class="idref" href="#closed_term_constructor"><span class="id" title="constructor">closed_term_constructor</span></a> : <span class="id" title="keyword">∀</span> <a id="Ts:75" class="idref" href="#Ts:75"><span class="id" title="binder">Ts</span></a> <a id="N:76" class="idref" href="#N:76"><span class="id" title="binder">N</span></a> <a id="e:77" class="idref" href="#e:77"><span class="id" title="binder">e</span></a> <a id="k:78" class="idref" href="#k:78"><span class="id" title="binder">k</span></a>,<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/V8.13.0/stdlib//Coq.Lists.List.html#Forall"><span class="id" title="inductive">List.Forall</span></a> (<a class="idref" href="GMu.InfrastructureOpen.html#typ_closed_in_surroundings"><span class="id" title="inductive">typ_closed_in_surroundings</span></a> <a class="idref" href="GMu.InfrastructureOpen.html#k:78"><span class="id" title="variable">k</span></a>) <a class="idref" href="GMu.InfrastructureOpen.html#Ts:75"><span class="id" title="variable">Ts</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="GMu.InfrastructureOpen.html#te_closed_in_surroundings:43"><span class="id" title="inductive">te_closed_in_surroundings</span></a> <a class="idref" href="GMu.InfrastructureOpen.html#k:78"><span class="id" title="variable">k</span></a> <a class="idref" href="GMu.InfrastructureOpen.html#e:77"><span class="id" title="variable">e</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="GMu.InfrastructureOpen.html#te_closed_in_surroundings:43"><span class="id" title="inductive">te_closed_in_surroundings</span></a> <a class="idref" href="GMu.InfrastructureOpen.html#k:78"><span class="id" title="variable">k</span></a> (<a class="idref" href="GMu.Definitions.html#trm_constructor"><span class="id" title="constructor">trm_constructor</span></a> <a class="idref" href="GMu.InfrastructureOpen.html#Ts:75"><span class="id" title="variable">Ts</span></a> <a class="idref" href="GMu.InfrastructureOpen.html#N:76"><span class="id" title="variable">N</span></a> <a class="idref" href="GMu.InfrastructureOpen.html#e:77"><span class="id" title="variable">e</span></a>)<br/>
| <a id="closed_term_match" class="idref" href="#closed_term_match"><span class="id" title="constructor">closed_term_match</span></a> : <span class="id" title="keyword">∀</span> <a id="G:79" class="idref" href="#G:79"><span class="id" title="binder">G</span></a> <a id="e:80" class="idref" href="#e:80"><span class="id" title="binder">e</span></a> <a id="ms:81" class="idref" href="#ms:81"><span class="id" title="binder">ms</span></a> <a id="k:82" class="idref" href="#k:82"><span class="id" title="binder">k</span></a>,<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="GMu.InfrastructureOpen.html#te_closed_in_surroundings:43"><span class="id" title="inductive">te_closed_in_surroundings</span></a> <a class="idref" href="GMu.InfrastructureOpen.html#k:82"><span class="id" title="variable">k</span></a> <a class="idref" href="GMu.InfrastructureOpen.html#e:80"><span class="id" title="variable">e</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/V8.13.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">(</span></a><span class="id" title="keyword">∀</span> <a id="cl:83" class="idref" href="#cl:83"><span class="id" title="binder">cl</span></a>, <a class="idref" href="http://coq.inria.fr/distrib/V8.13.0/stdlib//Coq.Lists.List.html#In"><span class="id" title="definition">List.In</span></a> <a class="idref" href="GMu.InfrastructureOpen.html#cl:83"><span class="id" title="variable">cl</span></a> <a class="idref" href="GMu.InfrastructureOpen.html#ms:81"><span class="id" title="variable">ms</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <a class="idref" href="GMu.InfrastructureOpen.html#te_closed_in_surroundings:43"><span class="id" title="inductive">te_closed_in_surroundings</span></a> (<a class="idref" href="GMu.InfrastructureOpen.html#k:82"><span class="id" title="variable">k</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.0/stdlib//Coq.Init.Peano.html#0dacc1786c5ba797d47dd85006231633"><span class="id" title="notation">+</span></a> <a class="idref" href="GMu.Definitions.html#clauseArity"><span class="id" title="definition">clauseArity</span></a> <a class="idref" href="GMu.InfrastructureOpen.html#cl:83"><span class="id" title="variable">cl</span></a>) (<a class="idref" href="GMu.Definitions.html#clauseTerm"><span class="id" title="definition">clauseTerm</span></a> <a class="idref" href="GMu.InfrastructureOpen.html#cl:83"><span class="id" title="variable">cl</span></a>)<a class="idref" href="http://coq.inria.fr/distrib/V8.13.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">)</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="GMu.InfrastructureOpen.html#te_closed_in_surroundings:43"><span class="id" title="inductive">te_closed_in_surroundings</span></a> <a class="idref" href="GMu.InfrastructureOpen.html#k:82"><span class="id" title="variable">k</span></a> (<a class="idref" href="GMu.Definitions.html#trm_matchgadt"><span class="id" title="constructor">trm_matchgadt</span></a> <a class="idref" href="GMu.InfrastructureOpen.html#e:80"><span class="id" title="variable">e</span></a> <a class="idref" href="GMu.InfrastructureOpen.html#G:79"><span class="id" title="variable">G</span></a> <a class="idref" href="GMu.InfrastructureOpen.html#ms:81"><span class="id" title="variable">ms</span></a>)<br/>
.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="te_opening_te_adds_one" class="idref" href="#te_opening_te_adds_one"><span class="id" title="lemma">te_opening_te_adds_one</span></a> : <span class="id" title="keyword">∀</span> <a id="e:84" class="idref" href="#e:84"><span class="id" title="binder">e</span></a> <a id="X:85" class="idref" href="#X:85"><span class="id" title="binder">X</span></a> <a id="k:86" class="idref" href="#k:86"><span class="id" title="binder">k</span></a> <a id="n:87" class="idref" href="#n:87"><span class="id" title="binder">n</span></a>,<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="GMu.InfrastructureOpen.html#te_closed_in_surroundings"><span class="id" title="inductive">te_closed_in_surroundings</span></a> <a class="idref" href="GMu.InfrastructureOpen.html#n:87"><span class="id" title="variable">n</span></a> (<a class="idref" href="GMu.Definitions.html#open_te_rec"><span class="id" title="definition">open_te_rec</span></a> <a class="idref" href="GMu.InfrastructureOpen.html#k:86"><span class="id" title="variable">k</span></a> (<a class="idref" href="GMu.Definitions.html#typ_fvar"><span class="id" title="constructor">typ_fvar</span></a> <a class="idref" href="GMu.InfrastructureOpen.html#X:85"><span class="id" title="variable">X</span></a>) <a class="idref" href="GMu.InfrastructureOpen.html#e:84"><span class="id" title="variable">e</span></a>) <a class="idref" href="http://coq.inria.fr/distrib/V8.13.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="GMu.InfrastructureOpen.html#te_closed_in_surroundings"><span class="id" title="inductive">te_closed_in_surroundings</span></a> (<a class="idref" href="http://coq.inria.fr/distrib/V8.13.0/stdlib//Coq.Init.Peano.html#max"><span class="id" title="abbreviation">max</span></a> (<a class="idref" href="http://coq.inria.fr/distrib/V8.13.0/stdlib//Coq.Init.Datatypes.html#S"><span class="id" title="constructor">S</span></a> <a class="idref" href="GMu.InfrastructureOpen.html#n:87"><span class="id" title="variable">n</span></a>) (<a class="idref" href="http://coq.inria.fr/distrib/V8.13.0/stdlib//Coq.Init.Datatypes.html#S"><span class="id" title="constructor">S</span></a> <a class="idref" href="GMu.InfrastructureOpen.html#k:86"><span class="id" title="variable">k</span></a>)) <a class="idref" href="GMu.InfrastructureOpen.html#e:84"><span class="id" title="variable">e</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">induction</span> <span class="id" title="var">e</span> <span class="id" title="keyword">using</span> <a class="idref" href="GMu.Definitions.html#trm_ind'"><span class="id" title="definition">trm_ind'</span></a>; <span class="id" title="var">introv</span> <span class="id" title="var">Hc</span>; <span class="id" title="var">inversions</span> <span class="id" title="var">Hc</span>;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">try</span> <span class="id" title="tactic">solve</span> [<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">constructor</span>×<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| <span class="id" title="tactic">constructor</span>*; <span class="id" title="tactic">apply</span>× <a class="idref" href="GMu.InfrastructureOpen.html#opening_adds_one"><span class="id" title="lemma">opening_adds_one</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;].<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">constructor</span>×.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.0/stdlib//Coq.Lists.List.html#Forall_forall"><span class="id" title="lemma">List.Forall_forall</span></a> <span class="id" title="tactic">in</span> ×.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intros</span> <span class="id" title="var">T</span> <span class="id" title="var">Hin</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span>× <a class="idref" href="GMu.InfrastructureOpen.html#opening_adds_one"><span class="id" title="lemma">opening_adds_one</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span>× <span class="id" title="var">H2</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">unfold</span> <a class="idref" href="GMu.Definitions.html#open_typlist_rec"><span class="id" title="definition">open_typlist_rec</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span>× <a class="idref" href="http://coq.inria.fr/distrib/V8.13.0/stdlib//Coq.Lists.List.html#in_map"><span class="id" title="lemma">List.in_map</span></a>.<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">constructor</span>×.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">introv</span> <span class="id" title="var">clin</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.0/stdlib//Coq.Lists.List.html#Forall_forall"><span class="id" title="lemma">List.Forall_forall</span></a> <span class="id" title="tactic">in</span> ×.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">lets</span>× <span class="id" title="var">IHcl</span>: <span class="id" title="var">H</span> <span class="id" title="var">clin</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">cl</span> <span class="id" title="keyword">as</span> [<span class="id" title="var">clArity</span> <span class="id" title="var">clTerm</span>].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">cbn</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">cbn</span> <span class="id" title="tactic">in</span> <span class="id" title="var">IHcl</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">assert</span> (<span class="id" title="var">Harit</span>: <a class="idref" href="http://coq.inria.fr/distrib/V8.13.0/stdlib//Coq.Init.Nat.html#max"><span class="id" title="definition">Nat.max</span></a> <span class="id" title="var">n</span> <span class="id" title="var">k</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.0/stdlib//Coq.Init.Peano.html#0dacc1786c5ba797d47dd85006231633"><span class="id" title="notation">+</span></a> <span class="id" title="var">clArity</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.0/stdlib//Coq.Init.Nat.html#max"><span class="id" title="definition">Nat.max</span></a> (<span class="id" title="var">n</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.0/stdlib//Coq.Init.Peano.html#0dacc1786c5ba797d47dd85006231633"><span class="id" title="notation">+</span></a> <span class="id" title="var">clArity</span>) (<span class="id" title="var">k</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.0/stdlib//Coq.Init.Peano.html#0dacc1786c5ba797d47dd85006231633"><span class="id" title="notation">+</span></a> <span class="id" title="var">clArity</span>)); <span class="id" title="tactic">try</span> <span class="id" title="var">lia</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <span class="id" title="var">Harit</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <span class="id" title="var">IHcl</span> <span class="id" title="keyword">with</span> <span class="id" title="var">X</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">lets</span>× <span class="id" title="var">IHcl2</span>: <span class="id" title="var">H5</span> (<a class="idref" href="GMu.Definitions.html#clause"><span class="id" title="constructor">clause</span></a> <span class="id" title="var">clArity</span> (<a class="idref" href="GMu.Definitions.html#open_te_rec"><span class="id" title="definition">open_te_rec</span></a> (<span class="id" title="var">k</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.0/stdlib//Coq.Init.Peano.html#0dacc1786c5ba797d47dd85006231633"><span class="id" title="notation">+</span></a> <span class="id" title="var">clArity</span>) (<a class="idref" href="GMu.Definitions.html#typ_fvar"><span class="id" title="constructor">typ_fvar</span></a> <span class="id" title="var">X</span>) <span class="id" title="var">clTerm</span>)).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">cbn</span> <span class="id" title="tactic">in</span> <span class="id" title="var">IHcl2</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span>× <span class="id" title="var">IHcl2</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span>× <a class="idref" href="http://coq.inria.fr/distrib/V8.13.0/stdlib//Coq.Lists.List.html#in_map_iff"><span class="id" title="lemma">List.in_map_iff</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">∃</span> (<a class="idref" href="GMu.Definitions.html#clause"><span class="id" title="constructor">clause</span></a> <span class="id" title="var">clArity</span> <span class="id" title="var">clTerm</span>). <span class="id" title="tactic">eauto</span>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="te_opening_ee_preserves" class="idref" href="#te_opening_ee_preserves"><span class="id" title="lemma">te_opening_ee_preserves</span></a> : <span class="id" title="keyword">∀</span> <a id="e:88" class="idref" href="#e:88"><span class="id" title="binder">e</span></a> <a id="x:89" class="idref" href="#x:89"><span class="id" title="binder">x</span></a> <a id="vk:90" class="idref" href="#vk:90"><span class="id" title="binder">vk</span></a> <a id="k:91" class="idref" href="#k:91"><span class="id" title="binder">k</span></a> <a id="n:92" class="idref" href="#n:92"><span class="id" title="binder">n</span></a>,<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="GMu.InfrastructureOpen.html#te_closed_in_surroundings"><span class="id" title="inductive">te_closed_in_surroundings</span></a> <a class="idref" href="GMu.InfrastructureOpen.html#n:92"><span class="id" title="variable">n</span></a> (<a class="idref" href="GMu.Definitions.html#open_ee_rec"><span class="id" title="definition">open_ee_rec</span></a> <a class="idref" href="GMu.InfrastructureOpen.html#k:91"><span class="id" title="variable">k</span></a> (<a class="idref" href="GMu.Definitions.html#trm_fvar"><span class="id" title="constructor">trm_fvar</span></a> <a class="idref" href="GMu.InfrastructureOpen.html#vk:90"><span class="id" title="variable">vk</span></a> <a class="idref" href="GMu.InfrastructureOpen.html#x:89"><span class="id" title="variable">x</span></a>) <a class="idref" href="GMu.InfrastructureOpen.html#e:88"><span class="id" title="variable">e</span></a>) <a class="idref" href="http://coq.inria.fr/distrib/V8.13.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="GMu.InfrastructureOpen.html#te_closed_in_surroundings"><span class="id" title="inductive">te_closed_in_surroundings</span></a> <a class="idref" href="GMu.InfrastructureOpen.html#n:92"><span class="id" title="variable">n</span></a> <a class="idref" href="GMu.InfrastructureOpen.html#e:88"><span class="id" title="variable">e</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">induction</span> <span class="id" title="var">e</span> <span class="id" title="keyword">using</span> <a class="idref" href="GMu.Definitions.html#trm_ind'"><span class="id" title="definition">trm_ind'</span></a>; <span class="id" title="var">introv</span> <span class="id" title="var">Hc</span>; <span class="id" title="tactic">try</span> <span class="id" title="tactic">solve</span> [<span class="id" title="var">inversions</span> <span class="id" title="var">Hc</span>; <span class="id" title="tactic">constructor</span>*].<br/>
&nbsp;&nbsp;- <span class="id" title="var">inversions</span> <span class="id" title="var">Hc</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.0/stdlib//Coq.Lists.List.html#Forall_forall"><span class="id" title="lemma">List.Forall_forall</span></a> <span class="id" title="tactic">in</span> ×.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">constructor</span>×.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">introv</span> <span class="id" title="var">clin</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <span class="id" title="var">H</span> <span class="id" title="keyword">with</span> <span class="id" title="var">x</span> <span class="id" title="var">vk</span> (<a class="idref" href="http://coq.inria.fr/distrib/V8.13.0/stdlib//Coq.Init.Datatypes.html#S"><span class="id" title="constructor">S</span></a> <span class="id" title="var">k</span>); <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">cl</span> <span class="id" title="keyword">as</span> [<span class="id" title="var">clA</span> <span class="id" title="var">clT</span>].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">lets</span>× <span class="id" title="var">Hcl</span>: <span class="id" title="var">H5</span> (<a class="idref" href="GMu.Definitions.html#clause"><span class="id" title="constructor">clause</span></a> <span class="id" title="var">clA</span> (<a class="idref" href="GMu.Definitions.html#open_ee_rec"><span class="id" title="definition">open_ee_rec</span></a> (<a class="idref" href="http://coq.inria.fr/distrib/V8.13.0/stdlib//Coq.Init.Datatypes.html#S"><span class="id" title="constructor">S</span></a> <span class="id" title="var">k</span>) (<a class="idref" href="GMu.Definitions.html#trm_fvar"><span class="id" title="constructor">trm_fvar</span></a> <span class="id" title="var">vk</span> <span class="id" title="var">x</span>) <span class="id" title="var">clT</span>)).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">cbn</span> <span class="id" title="tactic">in</span> <span class="id" title="var">Hcl</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">cbn</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <span class="id" title="var">Hcl</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span>× <a class="idref" href="http://coq.inria.fr/distrib/V8.13.0/stdlib//Coq.Lists.List.html#in_map_iff"><span class="id" title="lemma">List.in_map_iff</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">∃</span> (<a class="idref" href="GMu.Definitions.html#clause"><span class="id" title="constructor">clause</span></a> <span class="id" title="var">clA</span> <span class="id" title="var">clT</span>). <span class="id" title="tactic">eauto</span>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="te_opening_te_many_adds" class="idref" href="#te_opening_te_many_adds"><span class="id" title="lemma">te_opening_te_many_adds</span></a> : <span class="id" title="keyword">∀</span> <a id="As:93" class="idref" href="#As:93"><span class="id" title="binder">As</span></a> <a id="N:94" class="idref" href="#N:94"><span class="id" title="binder">N</span></a> <a id="n:95" class="idref" href="#n:95"><span class="id" title="binder">n</span></a> <a id="e:96" class="idref" href="#e:96"><span class="id" title="binder">e</span></a>,<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="GMu.InfrastructureOpen.html#te_closed_in_surroundings"><span class="id" title="inductive">te_closed_in_surroundings</span></a> <a class="idref" href="GMu.InfrastructureOpen.html#n:95"><span class="id" title="variable">n</span></a> (<a class="idref" href="GMu.Definitions.html#open_te_many_var"><span class="id" title="definition">open_te_many_var</span></a> <a class="idref" href="GMu.InfrastructureOpen.html#As:93"><span class="id" title="variable">As</span></a> <a class="idref" href="GMu.InfrastructureOpen.html#e:96"><span class="id" title="variable">e</span></a>) <a class="idref" href="http://coq.inria.fr/distrib/V8.13.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/V8.13.0/stdlib//Coq.Init.Datatypes.html#length"><span class="id" title="definition">length</span></a> <a class="idref" href="GMu.InfrastructureOpen.html#As:93"><span class="id" title="variable">As</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="GMu.InfrastructureOpen.html#N:94"><span class="id" title="variable">N</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="GMu.InfrastructureOpen.html#te_closed_in_surroundings"><span class="id" title="inductive">te_closed_in_surroundings</span></a> (<a class="idref" href="GMu.InfrastructureOpen.html#N:94"><span class="id" title="variable">N</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.0/stdlib//Coq.Init.Peano.html#0dacc1786c5ba797d47dd85006231633"><span class="id" title="notation">+</span></a> <a class="idref" href="GMu.InfrastructureOpen.html#n:95"><span class="id" title="variable">n</span></a>) <a class="idref" href="GMu.InfrastructureOpen.html#e:96"><span class="id" title="variable">e</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">induction</span> <span class="id" title="var">As</span> <span class="id" title="keyword">as</span> [| <span class="id" title="var">Ah</span> <span class="id" title="var">Ats</span>]; <span class="id" title="tactic">destruct</span> <span class="id" title="var">N</span>; <span class="id" title="var">introv</span> <span class="id" title="var">Hcl</span> <span class="id" title="var">Hlen</span>; <span class="id" title="tactic">inversion</span> <span class="id" title="var">Hlen</span>.<br/>
&nbsp;&nbsp;- <span class="id" title="var">cbn</span> <span class="id" title="tactic">in</span> ×. <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;- <span class="id" title="var">cbn</span> <span class="id" title="tactic">in</span> <span class="id" title="var">Hcl</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">fold</span> (<a class="idref" href="GMu.Definitions.html#open_te_many_var"><span class="id" title="definition">open_te_many_var</span></a> <span class="id" title="var">Ats</span> (<span class="id" title="var">e</span> <a class="idref" href="GMu.Definitions.html#:::x_'open_te_var'_x"><span class="id" title="notation">open_te_var</span></a> <span class="id" title="var">Ah</span>)) <span class="id" title="tactic">in</span> <span class="id" title="var">Hcl</span>.<br/>

<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">lets</span> <span class="id" title="var">IH</span>: <span class="id" title="var">IHAts</span> (<a class="idref" href="http://coq.inria.fr/distrib/V8.13.0/stdlib//Coq.Init.Datatypes.html#length"><span class="id" title="definition">length</span></a> <span class="id" title="var">Ats</span>) <span class="id" title="var">n</span> (<span class="id" title="var">e</span> <a class="idref" href="GMu.Definitions.html#:::x_'open_te_var'_x"><span class="id" title="notation">open_te_var</span></a> <span class="id" title="var">Ah</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">assert</span> (<span class="id" title="var">Harit2</span>: <a class="idref" href="http://coq.inria.fr/distrib/V8.13.0/stdlib//Coq.Init.Nat.html#max"><span class="id" title="definition">Nat.max</span></a> (<a class="idref" href="http://coq.inria.fr/distrib/V8.13.0/stdlib//Coq.Init.Datatypes.html#S"><span class="id" title="constructor">S</span></a> (<a class="idref" href="http://coq.inria.fr/distrib/V8.13.0/stdlib//Coq.Init.Datatypes.html#length"><span class="id" title="definition">length</span></a> <span class="id" title="var">Ats</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.0/stdlib//Coq.Init.Peano.html#0dacc1786c5ba797d47dd85006231633"><span class="id" title="notation">+</span></a> <span class="id" title="var">n</span>)) (<a class="idref" href="http://coq.inria.fr/distrib/V8.13.0/stdlib//Coq.Init.Datatypes.html#S"><span class="id" title="constructor">S</span></a> 0) <a class="idref" href="http://coq.inria.fr/distrib/V8.13.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">(</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.13.0/stdlib//Coq.Init.Datatypes.html#S"><span class="id" title="constructor">S</span></a> (<a class="idref" href="http://coq.inria.fr/distrib/V8.13.0/stdlib//Coq.Init.Datatypes.html#length"><span class="id" title="definition">length</span></a> <span class="id" title="var">Ats</span>) <a class="idref" href="http://coq.inria.fr/distrib/V8.13.0/stdlib//Coq.Init.Peano.html#0dacc1786c5ba797d47dd85006231633"><span class="id" title="notation">+</span></a> <span class="id" title="var">n</span><a class="idref" href="http://coq.inria.fr/distrib/V8.13.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">)</span></a>); <span class="id" title="tactic">try</span> <span class="id" title="var">lia</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> &lt;- <span class="id" title="var">Harit2</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="GMu.InfrastructureOpen.html#te_opening_te_adds_one"><span class="id" title="lemma">te_opening_te_adds_one</span></a> <span class="id" title="keyword">with</span> <span class="id" title="var">Ah</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">fold</span> (<span class="id" title="var">e</span> <a class="idref" href="GMu.Definitions.html#:::x_'open_te_var'_x"><span class="id" title="notation">open_te_var</span></a> <span class="id" title="var">Ah</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span>× <span class="id" title="var">IH</span>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="term_te_closed" class="idref" href="#term_te_closed"><span class="id" title="lemma">term_te_closed</span></a> : <span class="id" title="keyword">∀</span> <a id="e:97" class="idref" href="#e:97"><span class="id" title="binder">e</span></a>,<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="GMu.Definitions.html#term"><span class="id" title="inductive">term</span></a> <a class="idref" href="GMu.InfrastructureOpen.html#e:97"><span class="id" title="variable">e</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <a class="idref" href="GMu.InfrastructureOpen.html#te_closed_in_surroundings"><span class="id" title="inductive">te_closed_in_surroundings</span></a> 0 <a class="idref" href="GMu.InfrastructureOpen.html#e:97"><span class="id" title="variable">e</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">induction</span> 1; <span class="id" title="tactic">try</span> <span class="id" title="tactic">solve</span> [<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">constructor</span>×<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| <span class="id" title="keyword">match</span> <span class="id" title="keyword">goal</span> <span class="id" title="keyword">with</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| <span class="id" title="var">H</span>: <span class="id" title="keyword">∀</span> <a id="x:99" class="idref" href="#x:99"><span class="id" title="binder">x</span></a> : <span class="id" title="axiom">var</span>, <a class="idref" href="GMu.InfrastructureOpen.html#x:98"><span class="id" title="variable">x</span></a> <span class="id" title="notation">\</span><span class="id" title="notation">notin</span> ?<span class="id" title="var">L</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="GMu.InfrastructureOpen.html#te_closed_in_surroundings"><span class="id" title="inductive">te_closed_in_surroundings</span></a> 0 (<a class="idref" href="GMu.Definitions.html#open_ee"><span class="id" title="definition">open_ee</span></a> ?<span class="id" title="var">e1</span> (<a class="idref" href="GMu.Definitions.html#trm_fvar"><span class="id" title="constructor">trm_fvar</span></a> ?<span class="id" title="var">vk</span> <a class="idref" href="GMu.InfrastructureOpen.html#x:98"><span class="id" title="variable">x</span></a>))<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;|- <span class="id" title="var">_</span> ⇒<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">constructor</span>*; <span class="id" title="tactic">try</span> <span class="id" title="tactic">solve</span> [<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">pick_fresh</span> <span class="id" title="var">X</span>; <span class="id" title="tactic">apply</span>× <a class="idref" href="GMu.InfrastructureOpen.html#te_opening_ee_preserves"><span class="id" title="lemma">te_opening_ee_preserves</span></a>; <span class="id" title="var">lets</span>× <span class="id" title="var">He</span>: <span class="id" title="var">H</span> <span class="id" title="var">X</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| <span class="id" title="tactic">apply</span>× <a class="idref" href="GMu.InfrastructureOpen.html#type_closed"><span class="id" title="lemma">type_closed</span></a>]<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">end</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;].<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">constructor</span>×.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.0/stdlib//Coq.Lists.List.html#Forall_forall"><span class="id" title="lemma">List.Forall_forall</span></a>. <span class="id" title="tactic">intros</span> <span class="id" title="var">T</span> <span class="id" title="var">Hin</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span>× <a class="idref" href="GMu.InfrastructureOpen.html#type_closed"><span class="id" title="lemma">type_closed</span></a>.<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">constructor</span>×.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">pick_fresh</span> <span class="id" title="var">X</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">lets</span>× <span class="id" title="var">Hopen</span>: <a class="idref" href="GMu.InfrastructureOpen.html#te_opening_te_adds_one"><span class="id" title="lemma">te_opening_te_adds_one</span></a> <span class="id" title="var">e1</span> <span class="id" title="var">X</span> 0 0.<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">constructor</span>×. <span class="id" title="tactic">apply</span>× <a class="idref" href="GMu.InfrastructureOpen.html#type_closed"><span class="id" title="lemma">type_closed</span></a>.<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">constructor</span>×.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">introv</span> <span class="id" title="var">clin</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">cbn</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">lets</span>× <span class="id" title="var">fresh_alphas</span>: <a class="idref" href="GMu.Prelude.html#exist_alphas"><span class="id" title="lemma">exist_alphas</span></a> <span class="id" title="var">L</span> (<a class="idref" href="GMu.Definitions.html#clauseArity"><span class="id" title="definition">clauseArity</span></a> <span class="id" title="var">cl</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">inversion</span> <span class="id" title="var">fresh_alphas</span> <span class="id" title="keyword">as</span> [<span class="id" title="var">Alphas</span> [<span class="id" title="var">Hlen</span> [<span class="id" title="var">Hdist</span> <span class="id" title="var">Hnotin</span>]]].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">pick_fresh</span> <span class="id" title="var">x</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">assert</span> (<span class="id" title="var">xfresh</span>: <span class="id" title="var">x</span> <span class="id" title="notation">\</span><span class="id" title="notation">notin</span> <span class="id" title="var">L</span>); <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">assert</span> (<span class="id" title="var">xfreshA</span>: <span class="id" title="var">x</span> <span class="id" title="notation">\</span><span class="id" title="notation">notin</span> <span class="id" title="definition">from_list</span> <span class="id" title="var">Alphas</span>); <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">lets</span> <span class="id" title="var">hmm</span>: <span class="id" title="var">H1</span> <span class="id" title="var">clin</span> <span class="id" title="var">Alphas</span> <span class="id" title="var">x</span> <span class="id" title="var">Hlen</span> <span class="id" title="var">Hdist</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">lets</span> <span class="id" title="var">hmm2</span>: <span class="id" title="var">hmm</span> <span class="id" title="var">Hnotin</span> <span class="id" title="var">xfresh</span> <span class="id" title="var">xfreshA</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">unfold</span> <a class="idref" href="GMu.Definitions.html#open_ee"><span class="id" title="definition">open_ee</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">hmm2</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">lets</span> <span class="id" title="var">hmm3</span>: <a class="idref" href="GMu.InfrastructureOpen.html#te_opening_ee_preserves"><span class="id" title="lemma">te_opening_ee_preserves</span></a> <span class="id" title="var">hmm2</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">lets</span> <span class="id" title="var">hmm4</span>: <a class="idref" href="GMu.InfrastructureOpen.html#te_opening_te_many_adds"><span class="id" title="lemma">te_opening_te_many_adds</span></a> (<a class="idref" href="GMu.Definitions.html#clauseArity"><span class="id" title="definition">clauseArity</span></a> <span class="id" title="var">cl</span>) <span class="id" title="var">hmm3</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">assert</span> (<span class="id" title="var">Hneutral</span>: <span class="id" title="keyword">∀</span> <a id="n:101" class="idref" href="#n:101"><span class="id" title="binder">n</span></a>, <a class="idref" href="GMu.InfrastructureOpen.html#n:100"><span class="id" title="variable">n</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.0/stdlib//Coq.Init.Peano.html#0dacc1786c5ba797d47dd85006231633"><span class="id" title="notation">+</span></a> 0 <a class="idref" href="http://coq.inria.fr/distrib/V8.13.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="GMu.InfrastructureOpen.html#n:100"><span class="id" title="variable">n</span></a>); <span class="id" title="tactic">try</span> (<span class="id" title="tactic">intro</span>; <span class="id" title="var">lia</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <span class="id" title="var">Hneutral</span> <span class="id" title="tactic">in</span> <span class="id" title="var">hmm4</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span>× <span class="id" title="var">hmm4</span>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="te_closed_id" class="idref" href="#te_closed_id"><span class="id" title="lemma">te_closed_id</span></a> : <span class="id" title="keyword">∀</span> <a id="e:102" class="idref" href="#e:102"><span class="id" title="binder">e</span></a> <a id="T:103" class="idref" href="#T:103"><span class="id" title="binder">T</span></a> <a id="n:104" class="idref" href="#n:104"><span class="id" title="binder">n</span></a> <a id="k:105" class="idref" href="#k:105"><span class="id" title="binder">k</span></a>,<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="GMu.InfrastructureOpen.html#te_closed_in_surroundings"><span class="id" title="inductive">te_closed_in_surroundings</span></a> <a class="idref" href="GMu.InfrastructureOpen.html#n:104"><span class="id" title="variable">n</span></a> <a class="idref" href="GMu.InfrastructureOpen.html#e:102"><span class="id" title="variable">e</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="GMu.InfrastructureOpen.html#k:105"><span class="id" title="variable">k</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.0/stdlib//Coq.Init.Peano.html#73030c22bc0b1fa771c65aa5414c65f9"><span class="id" title="notation">≥</span></a> <a class="idref" href="GMu.InfrastructureOpen.html#n:104"><span class="id" title="variable">n</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="GMu.InfrastructureOpen.html#e:102"><span class="id" title="variable">e</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="GMu.Definitions.html#open_te_rec"><span class="id" title="definition">open_te_rec</span></a> <a class="idref" href="GMu.InfrastructureOpen.html#k:105"><span class="id" title="variable">k</span></a> <a class="idref" href="GMu.InfrastructureOpen.html#T:103"><span class="id" title="variable">T</span></a> <a class="idref" href="GMu.InfrastructureOpen.html#e:102"><span class="id" title="variable">e</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">induction</span> <span class="id" title="var">e</span> <span class="id" title="keyword">using</span> <a class="idref" href="GMu.Definitions.html#trm_ind'"><span class="id" title="definition">trm_ind'</span></a>; <span class="id" title="var">introv</span> <span class="id" title="var">Hc</span> <span class="id" title="var">Hk</span>; <span class="id" title="tactic">eauto</span>; <span class="id" title="var">inversions</span> <span class="id" title="var">Hc</span>; <span class="id" title="var">cbn</span>; <span class="id" title="tactic">f_equal</span>;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">try</span> (<span class="id" title="keyword">match</span> <span class="id" title="keyword">goal</span> <span class="id" title="keyword">with</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| <span class="id" title="var">IH</span>: <span class="id" title="keyword">∀</span> <a id="T:109" class="idref" href="#T:109"><span class="id" title="binder">T</span></a> <a id="n:110" class="idref" href="#n:110"><span class="id" title="binder">n</span></a> <a id="k:111" class="idref" href="#k:111"><span class="id" title="binder">k</span></a>, ?<span class="id" title="var">P1</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> ?<span class="id" title="var">P2</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> ?<span class="id" title="var">e1</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="GMu.Definitions.html#open_te_rec"><span class="id" title="definition">open_te_rec</span></a> <a class="idref" href="GMu.InfrastructureOpen.html#k:108"><span class="id" title="variable">k</span></a> <a class="idref" href="GMu.InfrastructureOpen.html#T:106"><span class="id" title="variable">T</span></a> ?<span class="id" title="var">e1</span> |- <span class="id" title="var">_</span> ⇒ <span class="id" title="tactic">apply</span>× <span class="id" title="var">IH</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">end</span>);<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">try</span> <span class="id" title="tactic">apply</span>× <a class="idref" href="GMu.InfrastructureOpen.html#closed_id"><span class="id" title="lemma">closed_id</span></a>;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">try</span> <span class="id" title="var">lia</span>.<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">unfold</span> <a class="idref" href="GMu.Definitions.html#open_typlist_rec"><span class="id" title="definition">open_typlist_rec</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> &lt;- <a class="idref" href="http://coq.inria.fr/distrib/V8.13.0/stdlib//Coq.Lists.List.html#map_id"><span class="id" title="lemma">List.map_id</span></a> <span class="id" title="tactic">at</span> 1.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span>× <a class="idref" href="http://coq.inria.fr/distrib/V8.13.0/stdlib//Coq.Lists.List.html#map_ext_in"><span class="id" title="lemma">List.map_ext_in</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intro</span> <span class="id" title="var">U</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.0/stdlib//Coq.Lists.List.html#Forall_forall"><span class="id" title="lemma">List.Forall_forall</span></a> <span class="id" title="tactic">in</span> ×.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">lets</span>× <span class="id" title="var">HC</span>: <span class="id" title="var">H2</span> <span class="id" title="var">U</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">lets</span>*: <a class="idref" href="GMu.InfrastructureOpen.html#closed_id"><span class="id" title="lemma">closed_id</span></a> <span class="id" title="var">U</span> <span class="id" title="var">T</span> <span class="id" title="var">n</span> <span class="id" title="var">k</span>.<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">rewrite</span> &lt;- <a class="idref" href="http://coq.inria.fr/distrib/V8.13.0/stdlib//Coq.Lists.List.html#map_id"><span class="id" title="lemma">List.map_id</span></a> <span class="id" title="tactic">at</span> 1.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span>× <a class="idref" href="http://coq.inria.fr/distrib/V8.13.0/stdlib//Coq.Lists.List.html#map_ext_in"><span class="id" title="lemma">List.map_ext_in</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intros</span> <span class="id" title="var">cl</span> <span class="id" title="var">clin</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.0/stdlib//Coq.Lists.List.html#Forall_forall"><span class="id" title="lemma">List.Forall_forall</span></a> <span class="id" title="tactic">in</span> ×.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">cl</span> <span class="id" title="keyword">as</span> [<span class="id" title="var">clA</span> <span class="id" title="var">clT</span>].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">f_equal</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">lets</span>× <span class="id" title="var">IH</span>: <span class="id" title="var">H</span> (<a class="idref" href="GMu.Definitions.html#clause"><span class="id" title="constructor">clause</span></a> <span class="id" title="var">clA</span> <span class="id" title="var">clT</span>) <span class="id" title="var">T</span> (<span class="id" title="var">n</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.0/stdlib//Coq.Init.Peano.html#0dacc1786c5ba797d47dd85006231633"><span class="id" title="notation">+</span></a> <span class="id" title="var">clA</span>) (<span class="id" title="var">k</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.0/stdlib//Coq.Init.Peano.html#0dacc1786c5ba797d47dd85006231633"><span class="id" title="notation">+</span></a> <span class="id" title="var">clA</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">cbn</span> <span class="id" title="tactic">in</span> <span class="id" title="var">IH</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span>× <span class="id" title="var">IH</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="var">lets</span>× <span class="id" title="var">Hcl</span>: <span class="id" title="var">H5</span> (<a class="idref" href="GMu.Definitions.html#clause"><span class="id" title="constructor">clause</span></a> <span class="id" title="var">clA</span> <span class="id" title="var">clT</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="var">lia</span>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="open_te_rec_term" class="idref" href="#open_te_rec_term"><span class="id" title="lemma">open_te_rec_term</span></a> : <span class="id" title="keyword">∀</span> <a id="e:112" class="idref" href="#e:112"><span class="id" title="binder">e</span></a> <a id="U:113" class="idref" href="#U:113"><span class="id" title="binder">U</span></a>,<br/>
&nbsp;&nbsp;<a class="idref" href="GMu.Definitions.html#term"><span class="id" title="inductive">term</span></a> <a class="idref" href="GMu.InfrastructureOpen.html#e:112"><span class="id" title="variable">e</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <span class="id" title="keyword">∀</span> <a id="k:114" class="idref" href="#k:114"><span class="id" title="binder">k</span></a>, <a class="idref" href="GMu.InfrastructureOpen.html#e:112"><span class="id" title="variable">e</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="GMu.Definitions.html#open_te_rec"><span class="id" title="definition">open_te_rec</span></a> <a class="idref" href="GMu.InfrastructureOpen.html#k:114"><span class="id" title="variable">k</span></a> <a class="idref" href="GMu.InfrastructureOpen.html#U:113"><span class="id" title="variable">U</span></a> <a class="idref" href="GMu.InfrastructureOpen.html#e:112"><span class="id" title="variable">e</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="var">introv</span> <span class="id" title="var">Hterm</span>. <span class="id" title="tactic">intros</span>.<br/>
&nbsp;&nbsp;<span class="id" title="var">lets</span>× <span class="id" title="var">Hc</span>: <a class="idref" href="GMu.InfrastructureOpen.html#te_closed_id"><span class="id" title="lemma">te_closed_id</span></a> <span class="id" title="var">e</span> <span class="id" title="var">U</span> 0 <span class="id" title="var">k</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <span class="id" title="var">Hc</span>.<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">apply</span>× <a class="idref" href="GMu.InfrastructureOpen.html#term_te_closed"><span class="id" title="lemma">term_te_closed</span></a>.<br/>
&nbsp;&nbsp;- <span class="id" title="var">lia</span>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="open_ee_rec_term_core" class="idref" href="#open_ee_rec_term_core"><span class="id" title="lemma">open_ee_rec_term_core</span></a> : <span class="id" title="keyword">∀</span> <a id="e:115" class="idref" href="#e:115"><span class="id" title="binder">e</span></a> <a id="j:116" class="idref" href="#j:116"><span class="id" title="binder">j</span></a> <a id="v:117" class="idref" href="#v:117"><span class="id" title="binder">v</span></a> <a id="u:118" class="idref" href="#u:118"><span class="id" title="binder">u</span></a> <a id="i:119" class="idref" href="#i:119"><span class="id" title="binder">i</span></a>, <a class="idref" href="GMu.InfrastructureOpen.html#i:119"><span class="id" title="variable">i</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'&lt;&gt;'_x"><span class="id" title="notation">≠</span></a> <a class="idref" href="GMu.InfrastructureOpen.html#j:116"><span class="id" title="variable">j</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="GMu.Definitions.html#open_ee_rec"><span class="id" title="definition">open_ee_rec</span></a> <a class="idref" href="GMu.InfrastructureOpen.html#j:116"><span class="id" title="variable">j</span></a> <a class="idref" href="GMu.InfrastructureOpen.html#v:117"><span class="id" title="variable">v</span></a> <a class="idref" href="GMu.InfrastructureOpen.html#e:115"><span class="id" title="variable">e</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="GMu.Definitions.html#open_ee_rec"><span class="id" title="definition">open_ee_rec</span></a> <a class="idref" href="GMu.InfrastructureOpen.html#i:119"><span class="id" title="variable">i</span></a> <a class="idref" href="GMu.InfrastructureOpen.html#u:118"><span class="id" title="variable">u</span></a> (<a class="idref" href="GMu.Definitions.html#open_ee_rec"><span class="id" title="definition">open_ee_rec</span></a> <a class="idref" href="GMu.InfrastructureOpen.html#j:116"><span class="id" title="variable">j</span></a> <a class="idref" href="GMu.InfrastructureOpen.html#v:117"><span class="id" title="variable">v</span></a> <a class="idref" href="GMu.InfrastructureOpen.html#e:115"><span class="id" title="variable">e</span></a>) <a class="idref" href="http://coq.inria.fr/distrib/V8.13.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="GMu.InfrastructureOpen.html#e:115"><span class="id" title="variable">e</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="GMu.Definitions.html#open_ee_rec"><span class="id" title="definition">open_ee_rec</span></a> <a class="idref" href="GMu.InfrastructureOpen.html#i:119"><span class="id" title="variable">i</span></a> <a class="idref" href="GMu.InfrastructureOpen.html#u:118"><span class="id" title="variable">u</span></a> <a class="idref" href="GMu.InfrastructureOpen.html#e:115"><span class="id" title="variable">e</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">induction</span> <span class="id" title="var">e</span> <span class="id" title="keyword">using</span> <a class="idref" href="GMu.Definitions.html#trm_ind'"><span class="id" title="definition">trm_ind'</span></a>; <span class="id" title="var">introv</span> <span class="id" title="var">Neq</span> <span class="id" title="var">Hopen</span>; <span class="id" title="tactic">simpl</span> <span class="id" title="tactic">in</span> *; <span class="id" title="tactic">inversion</span> <span class="id" title="var">Hopen</span>; <span class="id" title="tactic">f_equal</span>×.<br/>
&nbsp;&nbsp;- <span class="id" title="var">crush_eq</span>. <span class="id" title="var">crush_eq</span>. <span class="id" title="tactic">subst</span>. <span class="id" title="tactic">intuition</span>.<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">rewrite</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.0/stdlib//Coq.Lists.List.html#Forall_forall"><span class="id" title="lemma">List.Forall_forall</span></a> <span class="id" title="tactic">in</span> ×.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.0/stdlib//Coq.Lists.List.html#map_map"><span class="id" title="lemma">List.map_map</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">H2</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> &lt;- <a class="idref" href="http://coq.inria.fr/distrib/V8.13.0/stdlib//Coq.Lists.List.html#map_id"><span class="id" title="lemma">List.map_id</span></a> <span class="id" title="tactic">at</span> 1.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span>× <a class="idref" href="http://coq.inria.fr/distrib/V8.13.0/stdlib//Coq.Lists.List.html#map_ext_in"><span class="id" title="lemma">List.map_ext_in</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intros</span> <span class="id" title="var">cl</span> <span class="id" title="var">clin</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">lets</span>× <span class="id" title="var">Hcleq</span>: <a class="idref" href="GMu.Prelude.html#ext_in_map"><span class="id" title="lemma">ext_in_map</span></a> <span class="id" title="var">H2</span> <span class="id" title="var">clin</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">cl</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">inversion</span>× <span class="id" title="var">Hcleq</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">f_equal</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">lets</span>× <span class="id" title="var">IH</span>: <span class="id" title="var">H</span> <span class="id" title="var">clin</span> (<a class="idref" href="http://coq.inria.fr/distrib/V8.13.0/stdlib//Coq.Init.Datatypes.html#S"><span class="id" title="constructor">S</span></a> <span class="id" title="var">j</span>) (<a class="idref" href="http://coq.inria.fr/distrib/V8.13.0/stdlib//Coq.Init.Datatypes.html#S"><span class="id" title="constructor">S</span></a> <span class="id" title="var">i</span>).<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="open_ee_rec_type_core" class="idref" href="#open_ee_rec_type_core"><span class="id" title="lemma">open_ee_rec_type_core</span></a> : <span class="id" title="keyword">∀</span> <a id="e:120" class="idref" href="#e:120"><span class="id" title="binder">e</span></a> <a id="j:121" class="idref" href="#j:121"><span class="id" title="binder">j</span></a> <a id="V:122" class="idref" href="#V:122"><span class="id" title="binder">V</span></a> <a id="u:123" class="idref" href="#u:123"><span class="id" title="binder">u</span></a> <a id="i:124" class="idref" href="#i:124"><span class="id" title="binder">i</span></a>,<br/>
&nbsp;&nbsp;<a class="idref" href="GMu.Definitions.html#open_te_rec"><span class="id" title="definition">open_te_rec</span></a> <a class="idref" href="GMu.InfrastructureOpen.html#j:121"><span class="id" title="variable">j</span></a> <a class="idref" href="GMu.InfrastructureOpen.html#V:122"><span class="id" title="variable">V</span></a> <a class="idref" href="GMu.InfrastructureOpen.html#e:120"><span class="id" title="variable">e</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="GMu.Definitions.html#open_ee_rec"><span class="id" title="definition">open_ee_rec</span></a> <a class="idref" href="GMu.InfrastructureOpen.html#i:124"><span class="id" title="variable">i</span></a> <a class="idref" href="GMu.InfrastructureOpen.html#u:123"><span class="id" title="variable">u</span></a> (<a class="idref" href="GMu.Definitions.html#open_te_rec"><span class="id" title="definition">open_te_rec</span></a> <a class="idref" href="GMu.InfrastructureOpen.html#j:121"><span class="id" title="variable">j</span></a> <a class="idref" href="GMu.InfrastructureOpen.html#V:122"><span class="id" title="variable">V</span></a> <a class="idref" href="GMu.InfrastructureOpen.html#e:120"><span class="id" title="variable">e</span></a>) <a class="idref" href="http://coq.inria.fr/distrib/V8.13.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="GMu.InfrastructureOpen.html#e:120"><span class="id" title="variable">e</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="GMu.Definitions.html#open_ee_rec"><span class="id" title="definition">open_ee_rec</span></a> <a class="idref" href="GMu.InfrastructureOpen.html#i:124"><span class="id" title="variable">i</span></a> <a class="idref" href="GMu.InfrastructureOpen.html#u:123"><span class="id" title="variable">u</span></a> <a class="idref" href="GMu.InfrastructureOpen.html#e:120"><span class="id" title="variable">e</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">induction</span> <span class="id" title="var">e</span> <span class="id" title="keyword">using</span> <a class="idref" href="GMu.Definitions.html#trm_ind'"><span class="id" title="definition">trm_ind'</span></a>; <span class="id" title="var">introv</span> <span class="id" title="var">Ho</span>; <span class="id" title="var">simpls</span>; <span class="id" title="tactic">inversion</span> <span class="id" title="var">Ho</span>; <span class="id" title="tactic">f_equal</span>×.<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">rewrite</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.0/stdlib//Coq.Lists.List.html#Forall_forall"><span class="id" title="lemma">List.Forall_forall</span></a> <span class="id" title="tactic">in</span> ×.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.0/stdlib//Coq.Lists.List.html#map_map"><span class="id" title="lemma">List.map_map</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">H2</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> &lt;- <a class="idref" href="http://coq.inria.fr/distrib/V8.13.0/stdlib//Coq.Lists.List.html#map_id"><span class="id" title="lemma">List.map_id</span></a> <span class="id" title="tactic">at</span> 1.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span>× <a class="idref" href="http://coq.inria.fr/distrib/V8.13.0/stdlib//Coq.Lists.List.html#map_ext_in"><span class="id" title="lemma">List.map_ext_in</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intros</span> <span class="id" title="var">cl</span> <span class="id" title="var">clin</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">lets</span>× <span class="id" title="var">Hcleq</span>: <a class="idref" href="GMu.Prelude.html#ext_in_map"><span class="id" title="lemma">ext_in_map</span></a> <span class="id" title="var">H2</span> <span class="id" title="var">clin</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">cl</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">inversion</span>× <span class="id" title="var">Hcleq</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">f_equal</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">lets</span>× <span class="id" title="var">IH</span>: <span class="id" title="var">H</span> <span class="id" title="var">clin</span> (<span class="id" title="var">j</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.0/stdlib//Coq.Init.Peano.html#0dacc1786c5ba797d47dd85006231633"><span class="id" title="notation">+</span></a> <span class="id" title="var">clArity</span>) (<a class="idref" href="http://coq.inria.fr/distrib/V8.13.0/stdlib//Coq.Init.Datatypes.html#S"><span class="id" title="constructor">S</span></a> <span class="id" title="var">i</span>).<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="open_ee_rec_type_many" class="idref" href="#open_ee_rec_type_many"><span class="id" title="lemma">open_ee_rec_type_many</span></a> : <span class="id" title="keyword">∀</span> <a id="As:125" class="idref" href="#As:125"><span class="id" title="binder">As</span></a> <a id="k:126" class="idref" href="#k:126"><span class="id" title="binder">k</span></a> <a id="u:127" class="idref" href="#u:127"><span class="id" title="binder">u</span></a> <a id="e:128" class="idref" href="#e:128"><span class="id" title="binder">e</span></a>,<br/>
&nbsp;&nbsp;<a class="idref" href="GMu.Definitions.html#open_te_many_var"><span class="id" title="definition">open_te_many_var</span></a> <a class="idref" href="GMu.InfrastructureOpen.html#As:125"><span class="id" title="variable">As</span></a> <a class="idref" href="GMu.InfrastructureOpen.html#e:128"><span class="id" title="variable">e</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="GMu.Definitions.html#open_ee_rec"><span class="id" title="definition">open_ee_rec</span></a> <a class="idref" href="GMu.InfrastructureOpen.html#k:126"><span class="id" title="variable">k</span></a> <a class="idref" href="GMu.InfrastructureOpen.html#u:127"><span class="id" title="variable">u</span></a> (<a class="idref" href="GMu.Definitions.html#open_te_many_var"><span class="id" title="definition">open_te_many_var</span></a> <a class="idref" href="GMu.InfrastructureOpen.html#As:125"><span class="id" title="variable">As</span></a> <a class="idref" href="GMu.InfrastructureOpen.html#e:128"><span class="id" title="variable">e</span></a>) <a class="idref" href="http://coq.inria.fr/distrib/V8.13.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="GMu.InfrastructureOpen.html#e:128"><span class="id" title="variable">e</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="GMu.Definitions.html#open_ee_rec"><span class="id" title="definition">open_ee_rec</span></a> <a class="idref" href="GMu.InfrastructureOpen.html#k:126"><span class="id" title="variable">k</span></a> <a class="idref" href="GMu.InfrastructureOpen.html#u:127"><span class="id" title="variable">u</span></a> <a class="idref" href="GMu.InfrastructureOpen.html#e:128"><span class="id" title="variable">e</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">induction</span> <span class="id" title="var">As</span> <span class="id" title="keyword">as</span> [| <span class="id" title="var">Ah</span> <span class="id" title="var">Ats</span>]; <span class="id" title="var">introv</span> <span class="id" title="var">Heq</span>.<br/>
&nbsp;&nbsp;- <span class="id" title="var">cbn</span> <span class="id" title="tactic">in</span> <span class="id" title="var">Heq</span>. <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;- <span class="id" title="var">cbn</span> <span class="id" title="tactic">in</span> <span class="id" title="var">Heq</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">fold</span> (<a class="idref" href="GMu.Definitions.html#open_te_many_var"><span class="id" title="definition">open_te_many_var</span></a> <span class="id" title="var">Ats</span> (<span class="id" title="var">e</span> <a class="idref" href="GMu.Definitions.html#:::x_'open_te_var'_x"><span class="id" title="notation">open_te_var</span></a> <span class="id" title="var">Ah</span>)) <span class="id" title="tactic">in</span> <span class="id" title="var">Heq</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">lets</span>× <span class="id" title="var">IH</span>: <span class="id" title="var">IHAts</span> <span class="id" title="var">k</span> <span class="id" title="var">u</span> (<span class="id" title="var">e</span> <a class="idref" href="GMu.Definitions.html#:::x_'open_te_var'_x"><span class="id" title="notation">open_te_var</span></a> <span class="id" title="var">Ah</span>) <span class="id" title="var">Heq</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span>× <a class="idref" href="GMu.InfrastructureOpen.html#open_ee_rec_type_core"><span class="id" title="lemma">open_ee_rec_type_core</span></a>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="open_ee_rec_term" class="idref" href="#open_ee_rec_term"><span class="id" title="lemma">open_ee_rec_term</span></a> : <span class="id" title="keyword">∀</span> <a id="u:129" class="idref" href="#u:129"><span class="id" title="binder">u</span></a> <a id="e:130" class="idref" href="#e:130"><span class="id" title="binder">e</span></a>,<br/>
&nbsp;&nbsp;<a class="idref" href="GMu.Definitions.html#term"><span class="id" title="inductive">term</span></a> <a class="idref" href="GMu.InfrastructureOpen.html#e:130"><span class="id" title="variable">e</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <span class="id" title="keyword">∀</span> <a id="k:131" class="idref" href="#k:131"><span class="id" title="binder">k</span></a>, <a class="idref" href="GMu.InfrastructureOpen.html#e:130"><span class="id" title="variable">e</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="GMu.Definitions.html#open_ee_rec"><span class="id" title="definition">open_ee_rec</span></a> <a class="idref" href="GMu.InfrastructureOpen.html#k:131"><span class="id" title="variable">k</span></a> <a class="idref" href="GMu.InfrastructureOpen.html#u:129"><span class="id" title="variable">u</span></a> <a class="idref" href="GMu.InfrastructureOpen.html#e:130"><span class="id" title="variable">e</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">induction</span> 1; <span class="id" title="tactic">intro</span> <span class="id" title="var">k</span>;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">simpl</span>; <span class="id" title="tactic">f_equal</span>×.<br/>
&nbsp;&nbsp;- <span class="id" title="var">unfolds</span> <a class="idref" href="GMu.Definitions.html#open_ee"><span class="id" title="definition">open_ee</span></a>. <span class="id" title="var">pick_fresh</span> <span class="id" title="var">x</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span>× (@<a class="idref" href="GMu.InfrastructureOpen.html#open_ee_rec_term_core"><span class="id" title="lemma">open_ee_rec_term_core</span></a> <span class="id" title="var">e1</span> 0 (<a class="idref" href="GMu.Definitions.html#trm_fvar"><span class="id" title="constructor">trm_fvar</span></a> <a class="idref" href="GMu.Definitions.html#lam_var"><span class="id" title="constructor">lam_var</span></a> <span class="id" title="var">x</span>)).<br/>

<br/>
&nbsp;&nbsp;- <span class="id" title="var">unfolds</span> <a class="idref" href="GMu.Definitions.html#open_te"><span class="id" title="definition">open_te</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">pick_fresh</span> <span class="id" title="var">X</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span>× (@<a class="idref" href="GMu.InfrastructureOpen.html#open_ee_rec_type_core"><span class="id" title="lemma">open_ee_rec_type_core</span></a> <span class="id" title="var">e1</span> 0 (<a class="idref" href="GMu.Definitions.html#typ_fvar"><span class="id" title="constructor">typ_fvar</span></a> <span class="id" title="var">X</span>)).<br/>

<br/>
&nbsp;&nbsp;- <span class="id" title="var">unfolds</span> <a class="idref" href="GMu.Definitions.html#open_ee"><span class="id" title="definition">open_ee</span></a>. <span class="id" title="var">pick_fresh</span> <span class="id" title="var">x</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span>× (@<a class="idref" href="GMu.InfrastructureOpen.html#open_ee_rec_term_core"><span class="id" title="lemma">open_ee_rec_term_core</span></a> <span class="id" title="var">v1</span> 0 (<a class="idref" href="GMu.Definitions.html#trm_fvar"><span class="id" title="constructor">trm_fvar</span></a> <a class="idref" href="GMu.Definitions.html#fix_var"><span class="id" title="constructor">fix_var</span></a> <span class="id" title="var">x</span>)).<br/>

<br/>
&nbsp;&nbsp;- <span class="id" title="var">unfolds</span> <a class="idref" href="GMu.Definitions.html#open_ee"><span class="id" title="definition">open_ee</span></a>. <span class="id" title="var">pick_fresh</span> <span class="id" title="var">x</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span>× (@<a class="idref" href="GMu.InfrastructureOpen.html#open_ee_rec_term_core"><span class="id" title="lemma">open_ee_rec_term_core</span></a> <span class="id" title="var">e2</span> 0 (<a class="idref" href="GMu.Definitions.html#trm_fvar"><span class="id" title="constructor">trm_fvar</span></a> <a class="idref" href="GMu.Definitions.html#lam_var"><span class="id" title="constructor">lam_var</span></a> <span class="id" title="var">x</span>)).<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">rewrite</span> &lt;- <a class="idref" href="http://coq.inria.fr/distrib/V8.13.0/stdlib//Coq.Lists.List.html#map_id"><span class="id" title="lemma">List.map_id</span></a> <span class="id" title="tactic">at</span> 1.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.0/stdlib//Coq.Lists.List.html#map_ext_in"><span class="id" title="lemma">List.map_ext_in</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intros</span> <span class="id" title="var">cl</span> <span class="id" title="var">clin</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">cl</span> <span class="id" title="keyword">as</span> [<span class="id" title="var">clA</span> <span class="id" title="var">clT</span>].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">f_equal</span>.<br/>

<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">lets</span>× <span class="id" title="var">fresh_alphas</span>: <a class="idref" href="GMu.Prelude.html#exist_alphas"><span class="id" title="lemma">exist_alphas</span></a> <span class="id" title="var">L</span> <span class="id" title="var">clA</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">inversion</span> <span class="id" title="var">fresh_alphas</span> <span class="id" title="keyword">as</span> [<span class="id" title="var">Alphas</span> [<span class="id" title="var">Hlen</span> [<span class="id" title="var">Hdist</span> <span class="id" title="var">Hnotin</span>]]].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">pick_fresh</span> <span class="id" title="var">x</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">assert</span> (<span class="id" title="var">xfresh</span>: <span class="id" title="var">x</span> <span class="id" title="notation">\</span><span class="id" title="notation">notin</span> <span class="id" title="var">L</span>); <span class="id" title="tactic">eauto</span>.<br/>

<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">lets</span>× <span class="id" title="var">IHcl</span>: <span class="id" title="var">H1</span> <span class="id" title="var">clin</span> <span class="id" title="var">Alphas</span> <span class="id" title="var">x</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">cbn</span> <span class="id" title="tactic">in</span> <span class="id" title="var">IHcl</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">lets</span>× <span class="id" title="var">IHcl2</span>: <span class="id" title="var">IHcl</span> <span class="id" title="var">Hlen</span> <span class="id" title="var">Hdist</span> <span class="id" title="var">Hnotin</span> <span class="id" title="var">xfresh</span>.<br/>

<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">assert</span> (<span class="id" title="var">Hpart</span>: <a class="idref" href="GMu.Definitions.html#open_te_many_var"><span class="id" title="definition">open_te_many_var</span></a> <span class="id" title="var">Alphas</span> <span class="id" title="var">clT</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="GMu.Definitions.html#open_ee_rec"><span class="id" title="definition">open_ee_rec</span></a> (<a class="idref" href="http://coq.inria.fr/distrib/V8.13.0/stdlib//Coq.Init.Datatypes.html#S"><span class="id" title="constructor">S</span></a> <span class="id" title="var">k</span>) <span class="id" title="var">u</span> (<a class="idref" href="GMu.Definitions.html#open_te_many_var"><span class="id" title="definition">open_te_many_var</span></a> <span class="id" title="var">Alphas</span> <span class="id" title="var">clT</span>)).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="var">unfolds</span> <a class="idref" href="GMu.Definitions.html#open_ee"><span class="id" title="definition">open_ee</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="GMu.InfrastructureOpen.html#open_ee_rec_term_core"><span class="id" title="lemma">open_ee_rec_term_core</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;2: {<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span>× <span class="id" title="var">IHcl2</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">lia</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="tactic">apply</span>× <a class="idref" href="GMu.InfrastructureOpen.html#open_ee_rec_type_many"><span class="id" title="lemma">open_ee_rec_type_many</span></a>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="rewrite_open_tt_many_gadt" class="idref" href="#rewrite_open_tt_many_gadt"><span class="id" title="lemma">rewrite_open_tt_many_gadt</span></a> : <span class="id" title="keyword">∀</span> <a id="OTs:132" class="idref" href="#OTs:132"><span class="id" title="binder">OTs</span></a> <a id="GTs:133" class="idref" href="#GTs:133"><span class="id" title="binder">GTs</span></a> <a id="N:134" class="idref" href="#N:134"><span class="id" title="binder">N</span></a>,<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="GMu.Definitions.html#open_tt_many"><span class="id" title="definition">open_tt_many</span></a> <a class="idref" href="GMu.InfrastructureOpen.html#OTs:132"><span class="id" title="variable">OTs</span></a> (<a class="idref" href="GMu.Definitions.html#typ_gadt"><span class="id" title="constructor">typ_gadt</span></a> <a class="idref" href="GMu.InfrastructureOpen.html#GTs:133"><span class="id" title="variable">GTs</span></a> <a class="idref" href="GMu.InfrastructureOpen.html#N:134"><span class="id" title="variable">N</span></a>) <a class="idref" href="http://coq.inria.fr/distrib/V8.13.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="GMu.Definitions.html#typ_gadt"><span class="id" title="constructor">typ_gadt</span></a> (<a class="idref" href="http://coq.inria.fr/distrib/V8.13.0/stdlib//Coq.Lists.List.html#map"><span class="id" title="definition">List.map</span></a> (<a class="idref" href="GMu.Definitions.html#open_tt_many"><span class="id" title="definition">open_tt_many</span></a> <a class="idref" href="GMu.InfrastructureOpen.html#OTs:132"><span class="id" title="variable">OTs</span></a>) <a class="idref" href="GMu.InfrastructureOpen.html#GTs:133"><span class="id" title="variable">GTs</span></a>) <a class="idref" href="GMu.InfrastructureOpen.html#N:134"><span class="id" title="variable">N</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">induction</span> <span class="id" title="var">OTs</span> <span class="id" title="keyword">as</span> [| <span class="id" title="var">OTh</span> <span class="id" title="var">OTt</span>]; <span class="id" title="var">introv</span>.<br/>
&nbsp;&nbsp;- <span class="id" title="var">cbn</span>. <span class="id" title="tactic">rewrite</span>× <a class="idref" href="http://coq.inria.fr/distrib/V8.13.0/stdlib//Coq.Lists.List.html#map_id"><span class="id" title="lemma">List.map_id</span></a>.<br/>
&nbsp;&nbsp;- <span class="id" title="var">cbn</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">assert</span> (<a class="idref" href="http://coq.inria.fr/distrib/V8.13.0/stdlib//Coq.Lists.List.html#map"><span class="id" title="definition">List.map</span></a> (<span class="id" title="keyword">fun</span> <a id="T:136" class="idref" href="#T:136"><span class="id" title="binder">T</span></a> : <a class="idref" href="GMu.Definitions.html#typ"><span class="id" title="inductive">typ</span></a> ⇒ <a class="idref" href="GMu.Definitions.html#open_tt_many"><span class="id" title="definition">open_tt_many</span></a> <span class="id" title="var">OTt</span> (<a class="idref" href="GMu.Definitions.html#open_tt"><span class="id" title="definition">open_tt</span></a> <a class="idref" href="GMu.InfrastructureOpen.html#T:135"><span class="id" title="variable">T</span></a> <span class="id" title="var">OTh</span>)) <span class="id" title="var">GTs</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.0/stdlib//Coq.Lists.List.html#map"><span class="id" title="definition">List.map</span></a> (<a class="idref" href="GMu.Definitions.html#open_tt_many"><span class="id" title="definition">open_tt_many</span></a> <span class="id" title="var">OTt</span>) (<a class="idref" href="http://coq.inria.fr/distrib/V8.13.0/stdlib//Coq.Lists.List.html#map"><span class="id" title="definition">List.map</span></a> (<a class="idref" href="GMu.Definitions.html#open_tt_rec"><span class="id" title="definition">open_tt_rec</span></a> 0 <span class="id" title="var">OTh</span>) <span class="id" title="var">GTs</span>)).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="tactic">rewrite</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.0/stdlib//Coq.Lists.List.html#map_map"><span class="id" title="lemma">List.map_map</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span>× <a class="idref" href="http://coq.inria.fr/distrib/V8.13.0/stdlib//Coq.Lists.List.html#map_ext"><span class="id" title="lemma">List.map_ext</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="tactic">rewrite</span> <span class="id" title="var">H</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <span class="id" title="var">IHOTt</span>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="open_tt_many_closed" class="idref" href="#open_tt_many_closed"><span class="id" title="lemma">open_tt_many_closed</span></a> : <span class="id" title="keyword">∀</span> <a id="As:137" class="idref" href="#As:137"><span class="id" title="binder">As</span></a> <a id="T:138" class="idref" href="#T:138"><span class="id" title="binder">T</span></a>,<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="GMu.Definitions.html#type"><span class="id" title="inductive">type</span></a> <a class="idref" href="GMu.InfrastructureOpen.html#T:138"><span class="id" title="variable">T</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="GMu.Definitions.html#open_tt_many"><span class="id" title="definition">open_tt_many</span></a> <a class="idref" href="GMu.InfrastructureOpen.html#As:137"><span class="id" title="variable">As</span></a> <a class="idref" href="GMu.InfrastructureOpen.html#T:138"><span class="id" title="variable">T</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="GMu.InfrastructureOpen.html#T:138"><span class="id" title="variable">T</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">induction</span> <span class="id" title="var">As</span>; <span class="id" title="var">introv</span> <span class="id" title="var">Hcl</span>.<br/>
&nbsp;&nbsp;- <span class="id" title="var">cbn</span>. <span class="id" title="tactic">trivial</span>.<br/>
&nbsp;&nbsp;- <span class="id" title="var">cbn</span>. <span class="id" title="tactic">unfold</span> <a class="idref" href="GMu.Definitions.html#open_tt"><span class="id" title="definition">open_tt</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span>× &lt;- <a class="idref" href="GMu.InfrastructureOpen.html#open_tt_rec_type"><span class="id" title="lemma">open_tt_rec_type</span></a>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>
</div>
</div>
<div id="footer">
  Generated by <a href="http://coq.inria.fr/">coqdoc</a> and improved with <a href="https://github.com/tebbi/coqdocjs">CoqdocJS</a>
</div>
</div>
</body>

</html>
